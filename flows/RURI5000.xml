<?xml version="1.0" encoding="UTF-8"?>
<mxGraphModel dx="2460" dy="2295" grid="1" gridSize="10" guides="1" tooltips="1" connect="1"
              fold="1"
              page="1"
              pageScale="1"
              pageWidth="826"
              pageHeight="1169">
   <root>
      <mxCell id="0"/>
      <mxCell id="1" parent="0"/>
      <start action="com.eitg.quasar.nexus.middleware.scxml.handlers.StartHandler"
             label="Start (generic)"
             initial="1"
             name=""
             traceField=""
             traceList=""
             traceTimeout=""
             traceCondition=""
             id="2">
         <mxCell style="image;html=1;image=clipart/start-button.png" parent="1" vertex="1">
            <mxGeometry x="1500" y="-30" width="80" height="80" as="geometry"/>
         </mxCell>
      </start>
      <typescript-library action="io.qsrlabs.nexus.middleware.scxml.handlers.TypeScriptLibrary#fixed"
                          label="armevents"
                          library="Demo_13_01_2025:call"
                          function="armeventsNetworkRingtone"
                          id="53">
         <mxCell style="image;html=1;image=clipart/script.png" vertex="1" parent="1">
            <mxGeometry x="1500" y="310" width="120" height="60" as="geometry"/>
         </mxCell>
      </typescript-library>
      <undefined action="com.eitg.quasar.nexus.siphandlers.ScxmlForwardCall"
                 label="Connect to B"
                 name=""
                 destination="spel:#session[&#34;CalledPartyOverwritten&#34;]"
                 message="spel:#session[&#34;s_SIPInvite&#34;]"
                 no-answer-timer="2"
                 max-call-duration="10"
                 continue="true"
                 id="54">
         <mxCell style="rectangle;shape=ext;rounded=1;html=1;whiteSpace=wrap;double=1;"
                 vertex="1"
                 parent="1">
            <mxGeometry x="1500" y="440" width="120" height="60" as="geometry"/>
         </mxCell>
      </undefined>
      <stop action="com.eitg.quasar.nexus.middleware.scxml.handlers.StopHandler"
            label="Stop"
            isfinal="yes"
            id="55">
         <mxCell style="image;html=1;image=clipart/plain-stop.png" vertex="1" parent="1">
            <mxGeometry x="1520" y="640" width="80" height="80" as="geometry"/>
         </mxCell>
      </stop>
      <mxCell id="57"
              style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;"
              edge="1"
              parent="1"
              source="53"
              target="54">
         <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="60" value="*"
              style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;"
              edge="1"
              parent="1"
              source="54"
              target="55">
         <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <mxCell id="63" value="*"
              style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;"
              edge="1"
              parent="1"
              source="2"
              target="53">
         <mxGeometry relative="1" as="geometry"/>
      </mxCell>
      <typescript-library action="io.qsrlabs.nexus.middleware.scxml.handlers.TypeScriptLibrary#fixed"
                          label="function ModifySIPheaders"
                          library="Demo_13_01_2025:call"
                          function="addheader"
                          id="65">
         <mxCell style="image;html=1;image=clipart/script.png" vertex="1" parent="1">
            <mxGeometry x="150" y="320" width="120" height="60" as="geometry"/>
         </mxCell>
      </typescript-library>
      <mxCell id="66"
              value="Sample to Add History Header and MyNewHeader&#xA;&#xA;And Remove theSubject Header"
              style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;fillColor=#FFFFCC;"
              vertex="1"
              parent="1">
         <mxGeometry x="-100" y="310" width="220" height="90" as="geometry"/>
      </mxCell>
      <mxCell id="67"
              value="Connect the Call to Destination in Proxy Mode and then leave it up to the TAS to control it."
              style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;fillColor=#FFFFCC;"
              vertex="1"
              parent="1">
         <mxGeometry x="-100" y="450" width="220" height="90" as="geometry"/>
      </mxCell>
      <undefined action="com.eitg.quasar.nexus.siphandlers.ScxmlLeaveCall" label="Leave call"
                 name=""
                 destination="sip:9900001@172.31.11.142:5062"
                 leaveType="b2bua"
                 message="&lt;enter last saved SIP message here&gt;"
                 id="68">
         <mxCell style="rectangle;shape=ext;rounded=1;html=1;whiteSpace=wrap;double=1;"
                 vertex="1"
                 parent="1">
            <mxGeometry x="150" y="600" width="120" height="60" as="geometry"/>
         </mxCell>
      </undefined>
      <mxCell id="69"
              value="Connect the Call to Destination in B2BUA Mode and then leave it up to the TAS to control it."
              style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingTop=-6;fillColor=#FFFFCC;"
              vertex="1"
              parent="1">
         <mxGeometry x="-100" y="590" width="220" height="90" as="geometry"/>
      </mxCell>
      <undefined action="com.eitg.quasar.nexus.siphandlers.ScxmlLeaveCall" label="Leave call"
                 name=""
                 destination="sip:9900001@172.31.11.142:5062"
                 leaveType="proxy"
                 message="&lt;enter last saved SIP message here&gt;"
                 id="70">
         <mxCell style="rectangle;shape=ext;rounded=1;html=1;whiteSpace=wrap;double=1;"
                 vertex="1"
                 parent="1">
            <mxGeometry x="150" y="465" width="120" height="60" as="geometry"/>
         </mxCell>
      </undefined>
   </root>
</mxGraphModel>