"use strict";
var Capabilities;
(function (Capabilities) {
    Capabilities["REL1XX"] = "REL1XX";
    Capabilities["FORKING"] = "FORKING";
    Capabilities["PRECONDITION"] = "PRECONDITION";
    Capabilities["PEM"] = "PEM";
    Capabilities["UPDATE"] = "UPDATE";
})(Capabilities || (Capabilities = {}));
var Annotype;
(function (Annotype) {
    Annotype["CONNECT"] = "CONNECT";
    Annotype["RINGING"] = "RING";
})(Annotype || (Annotype = {}));
var CallPollActionType;
(function (CallPollActionType) {
    CallPollActionType["Accept"] = "accept";
    CallPollActionType["Forward"] = "forward";
    CallPollActionType["Reject"] = "reject";
})(CallPollActionType || (CallPollActionType = {}));
var CallStartActionType;
(function (CallStartActionType) {
    CallStartActionType[CallStartActionType["Abort"] = 0] = "Abort";
    CallStartActionType[CallStartActionType["Forward"] = 1] = "Forward";
    CallStartActionType[CallStartActionType["RejectMrf"] = 2] = "RejectMrf";
})(CallStartActionType || (CallStartActionType = {}));
var MediaOperationActionType;
(function (MediaOperationActionType) {
    MediaOperationActionType["PerformMediaOperation"] = "performMediaOperation";
})(MediaOperationActionType || (MediaOperationActionType = {}));
var MediaOperationContentType;
(function (MediaOperationContentType) {
    MediaOperationContentType["MSML"] = "application/msml+xml";
})(MediaOperationContentType || (MediaOperationContentType = {}));
;
;
function SendINFOPromptandCollect(session, event, localParams) {
    var log = session.log;
    log.debug("SendINFOPromptandCollect: mrf_param {}:", session["mrf_param"]);
    var mrf_used = {};
    mrf_used = {
        "announcement": "default",
        "collect": {
            "cleardb": "true",
            "edt": "1s",
            "fdt": "3s",
            "idt": "2s",
            "iterate": "1"
        },
        "play": {
            "barge": "true",
            "maxtime": "11s",
            "interval": "1",
            "cleardb": "true",
            "offset": "0s",
            "audioiterate": "1",
            "audiouri": "file:///appl/wav/tictac.wav"
        },
        "pattern": {
            "digits": "[1-2]",
            "format": "regex"
        }
    };
    log.debug("SendINFOPromptandCollect: mrf_default {}:", JSON.stringify(mrf_used));
    var content = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<msml  version=\"1.1\">\n<dialogstart name=\"dialognamedefault\" target=\"conn:";
    content = content + session["mrf"]["downStreamToTag"];
    content = content + "\" type=\"application/moml+xml\">\n";
    var collect = false;
    var key = "";
    if (session["mrf_param"]["collect"] != null) {
        for (key in session["mrf_param"]["collect"])
            log.debug("SendINFOPromptandCollect: process collect key {}", key);
        mrf_used["collect"][key] = session["mrf_param"]["collect"][key];
        for (key in session["mrf_param"]["pattern"])
            mrf_used["pattern"][key] = session["mrf_param"]["pattern"][key];
        for (key in session["mrf_param"]["play"])
            mrf_used["play"][key] = session["mrf_param"]["play"][key];
        log.debug("SendINFOPromptandCollect: use collect");
        collect = true;
    }
    else {
        for (key in session["mrf_param"]["play"])
            mrf_used["play"][key] = session["mrf_param"]["play"][key];
        delete mrf_used["pattern"];
        delete mrf_used["collect"];
        log.debug("SendINFOPromptandCollect: use announcement");
        collect = false;
    }
    log.debug("SendINFOPromptandCollect: mrf_used {}:", JSON.stringify(mrf_used));
    if (collect == true) {
        content = content + "<collect  cleardb=\"" + mrf_used["collect"]["cleardb"] + "\" edt=\"" + mrf_used["collect"]["edt"] + "\" fdt=\"" + mrf_used["collect"]["fdt"] + "\" idt=\"" + mrf_used["collect"]["idt"] + "\"  iterate=\"" + mrf_used["collect"]["iterate"] + "\">\n";
        content = content + "<play barge=\"" + mrf_used["play"]["barge"] + "\"> maxtime=\"" + mrf_used["play"]["maxtime"] + "\" <audio uri=\"" + mrf_used["play"]["audiouri"] + "\"/> </play>\n";
        content = content + "<pattern digits=\"" + mrf_used["pattern"]["digits"] + "\">  <send target=\"source\" event=\"done\" namelist=\"dtmf.digits dtmf.end\"/> </pattern>\n";
        content = content + "<noinput> <send target=\"source\" event=\"done\" namelist=\"dtmf.end\"/> </noinput>\n";
        content = content + "<nomatch> <send target=\"source\" event=\"done\" namelist=\"dtmf.end\"/> </nomatch>\n";
        content = content + "</collect>\n";
    }
    else {
        content = content + "<play barge=\"" + mrf_used["play"]["barge"] + "\" maxtime=\"" + mrf_used["play"]["maxtime"] + "\" interval=\"" + mrf_used["play"]["interval"] + "\" cleardb=\"" + mrf_used["play"]["cleardb"] + "\" offset=\"" + mrf_used["play"]["offset"] + "\">\n";
        content = content + "<audio uri=\"" + mrf_used["play"]["audiouri"] + "\" iterate=\"" + mrf_used["play"]["audioiterate"] + "\"/>\n";
        content = content + "<playexit>\n<exit namelist=\"play.end play.amt\"/>\n</playexit>\n";
        content = content + "</play>";
    }
    content = content + "</dialogstart>\n</msml>\n";
    var outevent = {
        "callid": session["fsm-id"],
        "event-type": "sip",
        "queue": "TASV4_1",
        "id": 2,
        "action": {
            "legaction": "performMediaOperation",
            "performMediaOperation": {
                "ContentType": "application/msml+xml",
                "Content": content
            },
            "type": 3
        },
        "event-name": "sip.media.playAnnouncement",
        "eventname": "callEarlyAnswered",
        "session": session["fsm-id"]
    };
    delete session["mrf_param"];
    return outevent;
}
function inputvalidation(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"] = {};
        if (session["s_SIPInvite"] != null) {
            if (session["s_SIPInvite"]["event-type"] !== null && (session["s_SIPInvite"]["event-type"] === "sip" || session["s_SIPInvite"]["event-type"] === "occp")) {
                if (session["s_SIPInvite"]["event-name"] !== null && session["s_SIPInvite"]["event-name"] === "sip.callStart.NONE")
                    log.debug("got sip invite");
                else
                    return "error.input.sipinviteincorrecteventname";
            }
            else {
                return "error.input.sipinviteincorrecteventtype";
            }
        }
        else {
            return "error.input.sipinvitemissing";
        }
        if (session["mrf_param"] != null) {
            if (session["mrf_param"]["earlydialog"] != null) {
                log.debug("mrf earlydialog present and {}", session["mrf_param"]["earlydialog"]);
            }
            else {
                session["mrf_param"]["earlydialog"] = true;
                log.debug("mrf earlydialog not present - use default");
            }
        }
        else {
            log.debug("mrf object not present - use default");
            session["mrf_param"]["earlydialog"] = true;
        }
        return session["mrf_param"]["earlydialog"];
    }
    catch (e) {
        log.debug("Log.inputvalidation: {}", e);
        return "error.exception";
    }
}
function armMRFevents(sessionData, eventData, localParams) {
    var ret;
    var status2;
    var events;
    events = events || {};
    events.InfoPollEvent = "null";
    events.SuccessResponsePollEvent = "null";
    events.RawContentPollEvent = "test/test";
    var headerVars;
    headerVars = headerVars || {};
    headerVars.disableSendDefaultReason = "Disabled";
    headerVars.disableSendNoAnswerReason = "Disabled";
    var ringingTones;
    ringingTones = ringingTones || [];
    var comf;
    comf = comf || {};
    comf.anno_name = "comfort";
    comf.anno_type = Annotype.CONNECT;
    var ring;
    ring = ring || {};
    ring.anno_name = "ringing";
    ring.anno_type = Annotype.RINGING;
    ringingTones.push(comf, ring);
    var capabilities = sessionData.inCapabilities;
    if (capabilities != null) {
        capabilities.push(Capabilities.PEM);
        capabilities.push(Capabilities.FORKING);
        capabilities.push(Capabilities.UPDATE);
        capabilities.push(Capabilities.INFO);
        sessionData.outCapabilities = JSON.stringify(capabilities);
    }
    sessionData.events = JSON.stringify(events);
    sessionData.headerrulevar = JSON.stringify(headerVars);
    sessionData.headerrulesselect = "SipServiceSpecificRulesSet";
    sessionData.ringingtones = JSON.stringify(ringingTones);
    sessionData.upstreamCapabilities = JSON.stringify([]);
    return "success";
}
function handle200OKINVITE(session, event, localParams) {
    var log = session.log;
    try {
        var eventData = localParams.message;
        session["mrf"]["headerrulevar=null"];
        session["mrf"]["headerrulesselect"] = null;
        session["mrf"]["ringingtones"] = null;
        var pollAction = void 0;
        pollAction = pollAction || {};
        pollAction.type = CallPollActionType.Accept;
        session.sendAction = JSON.stringify(pollAction);
        session["mrf"]["time200OKINVITE"] = Math.floor(new Date() / 1000);
        var to = eventData.SIP.To;
        if (to != null) {
            log.debug("received from MRF to tag:{}", to);
            session["mrf"]["callstate"] = "MRFCONNECTED200OK";
            session["mrf"]["downStreamToTag"] = to.tag;
            return "success";
        }
        else {
            log.debug("received from MRF no to tag:{}", to);
            return "error.nototag";
        }
    }
    catch (e) {
        log.debug("handle200OKINVITE Log: {}", e);
        return "error.exception";
    }
}
function handle200OKINFO(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["time200OKINFO"] = Math.floor(new Date() / 1000);
        session["mrf"]["callstate"] = "MRFCONNECTED";
        if (event["event-name"] == "sip.mediaOperationNotification.*") {
            if (event.event["type"] == "200") {
                if (event.SIP.content.json.msml.result.description == "OK") {
                    log.debug("handle200OKINFO:Recevied 200OKINFO and its ok");
                    session["mrf"]["dtmfdigits"] = "initialized";
                    return "received.OK";
                }
                else {
                    log.debug("handle200OKINFO:Recevied 200OKINFO and its NOT ok {}", event.SIP.content.json.msml.result.description);
                    return "received.NOK";
                }
            }
            else if (event.event["type"] == "INFO") {
                if (event.SIP.content.json.msml.event.name != null && event.SIP.content.json.msml.event.name.size() > 1) {
                    for (var i = 0; i <= event.SIP.content.json.msml.event.name.size() - 1; i++) {
                        log.debug("handle200OKINFO:index and event-name {} - {}", i, event.SIP.content.json.msml.event.name.get(i));
                        if (event.SIP.content.json.msml.event.name.get(i).equals("dtmf.digits")) {
                            log.debug("handle200OKINFO:received dtmf.digits as {}", event.SIP.content.json.msml.event.value[i - 1]);
                            session["mrf"]["dtmfdigits"] = event.SIP.content.json.msml.event.value[i - 1];
                        }
                        else if (event.SIP.content.json.msml.event.name.get(i).equals("dtmf.end")) {
                            log.debug("handle200OKINFO:received dtmf.end");
                        }
                        else if (event.SIP.content.json.msml.event.name.get(i).equals("msml.dialog.exit")) {
                            log.debug("handle200OKINFO:received msml.dialog.exit - return with MRF dialog closed.");
                            return "mrfdialog.closed";
                        }
                        else {
                            log.debug("handle200OKINFO:received other event name");
                        }
                    }
                }
                log.debug("handle200OKINFO:Return the decoded dtmf.digits: {}", session["mrf"]["dtmfdigits"]);
                return session["mrf"]["dtmfdigits"];
            }
            else {
                return "unexpectedeventtype." + event.event["type"];
            }
        }
    }
    catch (e) {
        log.debug("handle200OKINFO:Log: {}", e);
        return "error.exception";
    }
}
function mrfreturn(session, event, localParams) {
    return "dtmf.digit." + session["mrf"]["dtmfdigits"];
}
function callAnswered(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["callstate"] = "ANSWERED";
        session["mrf"]["answertime"] = Math.floor(new Date() / 1000);
        return "success";
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.exception";
    }
}
function checkDisconnectReason(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["callstate"] = "ConnectError";
        session["mrf"]["connecterrortime"] = Math.floor(new Date() / 1000);
        var eventsStack = event['events-stack'];
        if (eventsStack != null && eventsStack.size() > 0) {
            for (var i = eventsStack.size() - 1; i >= 0; i--) {
                if (eventsStack.get(i).equals("leg.timeout") && i >= (eventsStack.size() - 2)) {
                    session.loginfo = session.loginfo + "TIMEOUT;";
                    return "error.mrf.connect.timeout";
                }
            }
        }
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.mrf.connect.exception";
    }
    return "error.mrf.connect.others";
}
function setrelease(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["callstate"] = "Released";
        session["mrf"]["releasetime"] = Math.floor(new Date() / 1000);
        return "success";
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.release";
    }
}
function prepareCallRouting(session, eventData, localParams) {
    var ret;
    ret = ret || {};
    ret.resultCode = "success";
    var status2;
    var events;
    events = events || {};
    events.InfoPollEvent = "null";
    events.SuccessResponsePollEvent = "null";
    events.RawContentPollEvent = "test/test";
    var headerVars;
    headerVars = headerVars || {};
    headerVars.disableSendDefaultReason = "Disabled";
    headerVars.disableSendNoAnswerReason = "Disabled";
    var ringingTones;
    ringingTones = ringingTones || [];
    var comf;
    comf = comf || {};
    comf.anno_name = "comfort";
    comf.anno_type = Annotype.CONNECT;
    var ring;
    ring = ring || {};
    ring.anno_name = "ringing";
    ring.anno_type = Annotype.RINGING;
    ringingTones.push(comf, ring);
    var capabilities = sessionData.inCapabilities;
    if (capabilities != null) {
        capabilities.push(Capabilities.PEM);
        capabilities.push(Capabilities.FORKING);
        sessionData.outCapabilities = JSON.stringify(capabilities);
    }
    session.events = JSON.stringify(events);
    session.headerrulevar = JSON.stringify(headerVars);
    session.headerrulesselect = "SipServiceSpecificRulesSet";
    session.ringingtones = JSON.stringify(ringingTones);
    session.upstreamCapabilities = JSON.stringify([]);
    status2 = "success";
    return ret;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFXQSxJQUFLLFlBTUo7QUFORCxXQUFLLFlBQVk7SUFDZixpQ0FBaUIsQ0FBQTtJQUNqQixtQ0FBa0IsQ0FBQTtJQUNsQiw2Q0FBMkIsQ0FBQTtJQUMzQiwyQkFBUyxDQUFBO0lBQ1QsaUNBQWUsQ0FBQTtBQUNqQixDQUFDLEVBTkksWUFBWSxLQUFaLFlBQVksUUFNaEI7QUFzREQsSUFBSyxRQUdKO0FBSEQsV0FBSyxRQUFRO0lBQ1gsK0JBQW1CLENBQUE7SUFDbkIsNEJBQWdCLENBQUE7QUFDbEIsQ0FBQyxFQUhJLFFBQVEsS0FBUixRQUFRLFFBR1o7QUF1QkQsSUFBSyxrQkFJSjtBQUpELFdBQUssa0JBQWtCO0lBQ3RCLHVDQUFpQixDQUFBO0lBQ2pCLHlDQUFtQixDQUFBO0lBQ25CLHVDQUFpQixDQUFBO0FBQ2xCLENBQUMsRUFKSSxrQkFBa0IsS0FBbEIsa0JBQWtCLFFBSXRCO0FBRUQsSUFBSyxtQkFJSjtBQUpELFdBQUssbUJBQW1CO0lBQ3ZCLCtEQUFTLENBQUE7SUFDVCxtRUFBVyxDQUFBO0lBQ1gsdUVBQWEsQ0FBQTtBQUNkLENBQUMsRUFKSSxtQkFBbUIsS0FBbkIsbUJBQW1CLFFBSXZCO0FBZ0NELElBQUssd0JBRUo7QUFGRCxXQUFLLHdCQUF3QjtJQUM1QiwyRUFBK0MsQ0FBQTtBQUNoRCxDQUFDLEVBRkksd0JBQXdCLEtBQXhCLHdCQUF3QixRQUU1QjtBQUVELElBQUsseUJBRUo7QUFGRCxXQUFLLHlCQUF5QjtJQUM3QiwwREFBNkIsQ0FBQTtBQUM5QixDQUFDLEVBRkkseUJBQXlCLEtBQXpCLHlCQUF5QixRQUU3QjtBQW1GRCxDQUFDO0FBQ0QsQ0FBQztBQW1HRCxTQUFTLHdCQUF3QixDQUFDLE9BQWEsRUFBRSxLQUFXLEVBQUUsV0FBZ0I7SUFHMUUsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FB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QyxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2pELE9BQU8sQ0FBQyxpQkFBaUIsR0FBRyw0QkFBNEIsQ0FBQztJQUN6RCxPQUFPLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUM7SUFDcEQsT0FBTyxDQUFDLG9CQUFvQixHQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUM7SUFDaEQsT0FBTyxHQUFHLFNBQVMsQ0FBQztJQUNwQixPQUFPLEdBQUcsQ0FBQztBQUNmLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJcbi8vaW50ZXJmYWNlIGRlZmluaXRpb25cclxuXHJcbmludGVyZmFjZSBMZWcge1xyXG4gIGFkZHJlc3MgOiBzdHJpbmc7XHJcbiAgbmFtZSA6IHN0cmluZ1xyXG59XHJcbmludGVyZmFjZSBDYWxsIHtcclxuICBzdGF0ZSA6IG51bWJlclxyXG59XHJcblxyXG5lbnVtIENhcGFiaWxpdGllcyB7XHJcbiAgUkVMMVhYID0gXCJSRUwxWFhcIixcclxuICBGT1JLSU5HPSBcIkZPUktJTkdcIixcclxuICBQUkVDT05ESVRJT049XCJQUkVDT05ESVRJT05cIixcclxuICBQRU09XCJQRU1cIixcclxuICBVUERBVEU9XCJVUERBVEVcIlxyXG59XHJcblxyXG5pbnRlcmZhY2UgTWVzc2FnZSB7XHJcbiAgbWV0aG9kIDogW3N0cmluZ107XHJcbiAgdHlwZSA6IFtzdHJpbmddO1xyXG4gIGJvZHkgOiBbc3RyaW5nXVxyXG59XHJcblxyXG5pbnRlcmZhY2UgU0lQIHtcclxuICBjYXBhYmlsaXRpZXMgOiBbQ2FwYWJpbGl0aWVzXTtcclxuICBtZXNzYWdlIDogTWVzc2FnZVxyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2FsbFN0YXJ0IHtcclxuICBjb250YWN0IDogc3RyaW5nO1xyXG4gIGNhdXNlOiBzdHJpbmc7XHJcbiAgbGVnIDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBDYWxsUG9sbCB7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHR5cGU6IHN0cmluZztcclxuICBsZWc6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRXZlbnQge1xyXG4gIG5hbWUgOiBzdHJpbmc7XHJcbiAgY2FsbFN0YXJ0PyA6IENhbGxTdGFydDtcclxuICBjYWxsUG9sbD8gOiBDYWxsUG9sbFxyXG59XHJcblxyXG5cclxuaW50ZXJmYWNlIE9DQ1BFdmVudCB7XHJcbiAgY2FsbGlkIDogc3RyaW5nO1xyXG4gIGNhbGwgOiBDYWxsO1xyXG4gIGFzIDogc3RyaW5nO1xyXG4gIGV2ZW50dGltZSA6IG51bWJlcjtcclxuICBTSVAgOiBTSVA7XHJcbiAgZXZlbnQ6IEV2ZW50XHJcbn1cclxuXHJcbmludGVyZmFjZSBFdmVudHMge1xyXG4gIFN1Y2Nlc3NSZXNwb25zZVBvbGxFdmVudD8gOiBzdHJpbmc7XHJcbiAgUmF3Q29udGVudFBvbGxFdmVudD8gOiBzdHJpbmc7XHJcbiAgSW5mb1BvbGxFdmVudD86IHN0cmluZ1xyXG59XHJcbi8qKlxyXG4gIERlZmluZSBoZWFkZXIgdmFyaWFibGVzIHVzZWQgYnkgYXBwbGljYXRpb25cclxuKi9cclxuaW50ZXJmYWNlIEhlYWRlclZhcnMge1xyXG4gIGRpc2FibGVTZW5kRGVmYXVsdFJlYXNvbj8gOiBzdHJpbmc7XHJcbiAgZGlzYWJsZVNlbmROb0Fuc3dlclJlYXNvbj8gOiBzdHJpbmdcclxufVxyXG5cclxuZW51bSBBbm5vdHlwZSB7XHJcbiAgQ09OTkVDVCA9IFwiQ09OTkVDVFwiLFxyXG4gIFJJTkdJTkcgPSBcIlJJTkdcIlxyXG59XHJcblxyXG5pbnRlcmZhY2UgUmluZ2luZ1RvbmUge1xyXG4gIGFubm9fbmFtZSA6IHN0cmluZztcclxuICBhbm5vX3R5cGUgOiBBbm5vdHlwZVxyXG59XHJcblxyXG5pbnRlcmZhY2UgU2Vzc2lvbiB7XHJcbiAgbG9nIDogYW55O1xyXG4gIGluQ2FwYWJpbGl0aWVzIDogW0NhcGFiaWxpdGllc107XHJcbiAgb3V0Q2FwYWJpbGl0aWVzPyA6IHN0cmluZztcclxuICBldmVudHM/IDogc3RyaW5nO1xyXG4gIGhlYWRlcnJ1bGV2YXI/IDogc3RyaW5nO1xyXG4gIGhlYWRlcnJ1bGVzc2VsZWN0PyA6IHN0cmluZztcclxuICByaW5naW5ndG9uZXM/IDogc3RyaW5nO1xyXG4gIHNlbmRBY3Rpb24/IDogc3RyaW5nIDtcclxuICBTSVBIZWxwZXIgOiBhbnk7XHJcbiAgU0lQSW5pdGlhbEludml0ZT8gOiBhbnk7XHJcbiAgU0lQTWVzc2FnZT8gOiBhbnk7XHJcbiAgU0lQTWVzc2FnZVR5cGU/IDogYW55XHJcbn1cclxuXHJcblxyXG5lbnVtIENhbGxQb2xsQWN0aW9uVHlwZSB7XHJcbiBBY2NlcHQgPSBcImFjY2VwdFwiLFxyXG4gRm9yd2FyZCA9IFwiZm9yd2FyZFwiLFxyXG4gUmVqZWN0ID0gXCJyZWplY3RcIixcclxufVxyXG5cclxuZW51bSBDYWxsU3RhcnRBY3Rpb25UeXBlIHtcclxuIEFib3J0ID0gMCxcclxuIEZvcndhcmQgPSAxLFxyXG4gUmVqZWN0TXJmID0gMlxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gU2V0IGFjdGlvbiBmb3IgQ2FsbFN0YXJ0IGV2ZW50XHJcbiovXHJcbmludGVyZmFjZSBDYWxsU3RhcnRBY3Rpb24ge1xyXG4gdHlwZSA6IENhbGxTdGFydEFjdGlvblR5cGU7XHJcbiBlcnJvcmNvZGUgOiBudW1iZXI7XHJcbiBjYXVzZSA6IHN0cmluZyA7XHJcbiB1cmkgOiBzdHJpbmc7XHJcbiBlYXJseW1lZGlhIDogbnVtYmVyO1xyXG4gbGVnbmFtZSA6IHN0cmluZyBcclxufVxyXG5cclxuLyoqXHJcbiBTZXQgYWN0aW9uIGZvciBDYWxsUG9sbCBldmVudFxyXG4qL1xyXG5pbnRlcmZhY2UgQ2FsbFBvbGxBY3Rpb24ge1xyXG4gdHlwZSA6IENhbGxQb2xsQWN0aW9uVHlwZVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiBBcHBsaWNhdGlvbiBjYW4gc2V0IGFjdGlvbiBmb3IgYSBzcGVjaWZpYyBsZWcsIHRoaXMgaXMgYXBwbGljYWJsZSBmb3IgTVJGIGNvbnRhY3RcclxuICovXHJcbmludGVyZmFjZSBMZWdBY3Rpb24ge1xyXG4gdHlwZSA6IENhbGxTdGFydEFjdGlvblR5cGUgO1xyXG4gbGVnYWN0aW9uIDogc3RyaW5nXHJcbn1cclxuXHJcbmVudW0gTWVkaWFPcGVyYXRpb25BY3Rpb25UeXBlIHtcclxuIFBlcmZvcm1NZWRpYU9wZXJhdGlvbiA9IFwicGVyZm9ybU1lZGlhT3BlcmF0aW9uXCJcclxufVxyXG5cclxuZW51bSBNZWRpYU9wZXJhdGlvbkNvbnRlbnRUeXBlIHtcclxuIE1TTUwgPSBcImFwcGxpY2F0aW9uL21zbWwreG1sXCJcclxufVxyXG5cclxuaW50ZXJmYWNlIFBlcmZvcm1NZWRpYU9wZXJhdGlvbiB7XHJcbiBDb250ZW50VHlwZSA6IE1lZGlhT3BlcmF0aW9uQ29udGVudFR5cGU7XHJcbiBDb250ZW50IDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBNZWRpYU9wZXJhdGlvbkFjdGlvbiB7XHJcbiB0eXBlIDogbnVtYmVyO1xyXG4gbGVnYWN0aW9uIDogTWVkaWFPcGVyYXRpb25BY3Rpb25UeXBlO1xyXG4gcGVyZm9ybU1lZGlhT3BlcmF0aW9uIDogUGVyZm9ybU1lZGlhT3BlcmF0aW9uXHJcbn1cclxuXHJcbmludGVyZmFjZSBBY3Rpb24ge1xyXG4gYWN0aW9uIDogYW55IFxyXG59XHJcblxyXG5cclxuaW50ZXJmYWNlIEhlYWRlciB7XHJcbiBoZWFkZXIgOiBzdHJpbmc7XHJcbiB2YWx1ZSA6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFFIZWFkZXIge1xyXG4gUHJpdmFjeSA6IHN0cmluZztcclxuIFJlYXNvbiA6IHN0cmluZyA7XHJcbn1cclxuXHJcbmludGVyZmFjZSBQYXJhbWV0ZXIge1xyXG4gdHJhbnNwb3J0IDogc3RyaW5nO1xyXG4gdXNlciA6IHN0cmluZyA7XHJcbn1cclxuXHJcbmludGVyZmFjZSBVUkkge1xyXG4gc2NoZW1lIDogc3RyaW5nO1xyXG4gYXV0aG9yaXR5IDogc3RyaW5nIDtcclxuIGdyIDogc3RyaW5nIDtcclxuIGhvc3Q6IHN0cmluZyA7XHJcbiBsciA6IHN0cmluZyA7XHJcbiBtYWRkciA6IHN0cmluZyA7XHJcbiBwb3J0IDogbnVtYmVyICA7XHJcbiB1c2VyIDogc3RyaW5nIDtcclxuIHBhcmFtZXRlcnMgOiBbUGFyYW1ldGVyXTtcclxuIHFoZWFkZXIgOiBbUUhlYWRlcl07XHJcbn1cclxuXHJcbmludGVyZmFjZSBBZGRyZXNzIHtcclxuIGRpc3BsYXlOYW1lIDogc3RyaW5nO1xyXG4gdXJpIDogVVJJIFxyXG59XHJcblxyXG5pbnRlcmZhY2UgSGlzdG9yeUluZm8gaW1wbGVtZW50cyBIZWFkZXIge1xyXG4gYWRkcmVzcyA6IEFkZHJlc3M7XHJcbiBpbmRleCA6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUEFJIGltcGxlbWVudHMgSGVhZGVyICB7XHJcbiBhZGRyZXNzIDogQWRkcmVzc1xyXG59XHJcblxyXG5pbnRlcmZhY2UgRnJvbSBpbXBsZW1lbnRzIEhlYWRlciB7XHJcbiBhZGRyZXNzIDogQWRkcmVzcztcclxuIHRhZyA6IHN0cmluZyA7XHJcbn1cclxuXHJcbmludGVyZmFjZSBUbyBpbXBsZW1lbnRzIEhlYWRlciB7XHJcbiBhZGRyZXNzIDogQWRkcmVzcztcclxuIHRhZyA6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFBDViBpbXBsZW1lbnRzIEhlYWRlciB7XHJcbiBpY2lkX2dlbmVyYXRlZF9hdDogc3RyaW5nIDtcclxuIGljaWRfdmFsdWUgOiBzdHJpbmcgO1xyXG4gb2FpZCA6IHN0cmluZztcclxuIHRhaWQgOiBzdHJpbmc7XHJcbiBvc2lkIDogc3RyaW5nO1xyXG4gdHNpZCA6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFJlc3VsdENvZGUge1xyXG4gIHJlc3VsdENvZGUgOiBzdHJpbmcgO1xyXG59XHJcblxuOy8vTUFJTkJMT0NLXG47XG4vKlxuLy9jb25maWcgaXMgXCJtcmZfYW5ub3VuY2VtZW50c1wiXG57XG4gIFwiYW5ub1Rlc3RcIjoge1xuICAgIFwibWF4dGltZVwiOiAxNTAwLFxuICAgIFwicGF0aFwiOiBcImZpbGU6Ly8vdG1wL2Fubm9zL1wiLFxuICAgIFwidmFyaWFibGVcIjogXCJcIixcbiAgICBcImJhcmdlXCI6IDEsXG4gICAgXCJwcm9tcHRcIjogXCJ0ZXN0QW5uby53YXZcIixcbiAgICBcImR0bWZcIjoge1xuICAgICAgXCJjbGVhcmRiXCI6IDEsXG4gICAgICBcImlkdFwiOiAxLFxuICAgICAgXCJmZHRcIjogMSxcbiAgICAgIFwibWluXCI6IDEsXG4gICAgICBcIm1heFwiOiAxLFxuICAgICAgXCJydGZcIjogXCIqXCIsXG4gICAgICBcImNhbmNlbFwiOiBcIiNcIlxuICAgIH0sXG4gICAgXCJhbm5pZFwiOiBcImFubm9Qcm9tcHRDb2xsZWN0XCIsXG4gICAgXCJpbnRlcnZhbFwiOiAxMDAsXG4gICAgXCJpdGVyYXRlXCI6IDEsXG4gICAgXCJjbGVhcmRiXCI6IDFcbiAgfSxcbn1cblxuLy8gWE1MIGluIG5leHVzLXNpcC4zLjAuMS0xLmphclxuPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+IFxuPG1zbWwgdmVyc2lvbj1cIjEuMVwiPiBcblx0PGRpYWxvZ3N0YXJ0IG5hbWU9XCJhbm5vUHJvbXB0Q29sbGVjdFwiIHRhcmdldD1cImNvbm46Y2E0NTg1NTFcIiB0eXBlPVwiYXBwbGljYXRpb24vbW9tbCt4bWxcIj4gXG5cdFx0PHBsYXkgaW50ZXJ2YWw9XCIxMDBtc1wiIGl0ZXJhdGU9XCIxXCIgY2xlYXJkYj1cInRydWVcIiBtYXh0aW1lPVwiNTAwMDBtc1wiIGJhcmdlPVwidHJ1ZVwiPiBcblx0XHRcdDxhdWRpbyB1cmk9XCJmaWxlOi8vL2FwcGwvd2F2L3NpbXBsZXBsYXkud2F2XCIvPiBcblx0XHRcdDxwbGF5ZXhpdD4gXG5cdFx0XHRcdDxleGl0IG5hbWVsaXN0PVwicGxheS5lbmQgcGxheS5hbXRcIi8+IFxuXHRcdFx0PC9wbGF5ZXhpdD4gXG5cdFx0PC9wbGF5PiBcblx0PC9kaWFsb2dzdGFydD4gXG48L21zbWw+XG5cdCAgXG4vLyBYTUwgaW4gbmV4dXMtc2lwLjMuMC4/Pz8gZnV0dXJlIC0gc3VwcG9ydCBwcm9tcHQgYW5kIGNvbGxlY3Rcbi8vIHBhdHRlcm4gZGlnaXRzIHggaXMgd2lsZGNhcmQsIHh4IGFyZSB0d28gd2lsZGNhcmQgZGlnaXRzLCAxIGlzIHRoZSBkaWdpdCBvbmUgZXhhY3RseSwgXG4vLyA8cGF0dGVybiBkaWdpdHM9XCIxXCIgaXRlcmF0ZT1cImZvcmV2ZXJcIj4gIFxudXNpbmcgY29sbGVjdFxuPD94bWwgdmVyc2lvbj1cIjEuMFwiPz5cbjxtc21sIHZlcnNpb249XCIxLjFcIj5cblx0PGRpYWxvZ3N0YXJ0IHRhcmdldD1cImNvbm46JHtUQVJHRVR9XCIgdHlwZT1cImFwcGxpY2F0aW9uL21vbWwreG1sXCIgbmFtZT1cImRpYWxvZ25hbWVkZWZhdWx0XCI+XG5cdFx0PGdyb3VwIHRvcG9sb2d5PVwicGFyYWxsZWxcIj5cblx0XHRcdDxwbGF5IGlkPVwiYmVmb3JlYmFyZ2VwbGF5XCI+XG5cdFx0XHRcdDxhdWRpbyB1cmk9XCJmaWxlOi8vL2FwcGwvd2F2L3NpbXBsZXBsYXkud2F2XCIgZm9ybWF0PVwiYXVkaW8vd2F2XCIgIC8+XG5cdFx0XHRcdDxwbGF5ZXhpdD5cblx0XHRcdFx0XHQ8c2VuZCB0YXJnZXQ9XCJjb2xsZWN0XCIgZXZlbnQ9XCJzdGFydHRpbWVyXCIvPlxuXHRcdFx0XHQ8L3BsYXlleGl0PlxuXHRcdFx0PC9wbGF5PlxuXHRcdFx0PGNvbGxlY3QgY2xlYXJkYj1cInRydWVcIiBmZHQ9XCI1c1wiIGlkdD1cIjNzXCI+XG5cdFx0XHRcdDxwYXR0ZXJuIGRpZ2l0cz1cInhcIj5cblx0XHRcdFx0XHQ8c2VuZCB0YXJnZXQ9XCJzb3VyY2VcIiBldmVudD1cImRpYWxvZ25hbWVkZWZhdWx0XCIgbmFtZWxpc3Q9XCJkdG1mLmRpZ2l0cyBkdG1mLmVuZFwiLz5cblx0XHRcdFx0PC9wYXR0ZXJuPlxuXHRcdFx0XHQ8ZGV0ZWN0PlxuXHRcdFx0XHRcdDxzZW5kIHRhcmdldD1cInBsYXkuYmVmb3JlYmFyZ2VwbGF5XCIgZXZlbnQ9XCJ0ZXJtaW5hdGVcIi8+XG5cdFx0XHRcdDwvZGV0ZWN0PlxuXHRcdFx0XHQ8bm9pbnB1dD5cblx0XHRcdFx0XHQ8c2VuZCB0YXJnZXQ9XCJzb3VyY2VcIiBldmVudD1cImRpYWxvZ25hbWVkZWZhdWx0XCIgbmFtZWxpc3Q9XCJkdG1mLmRpZ2l0cyBkdG1mLmVuZFwiLz5cblx0XHRcdFx0PC9ub2lucHV0PlxuXHRcdFx0XHQ8bm9tYXRjaD5cblx0XHRcdFx0XHQ8c2VuZCB0YXJnZXQ9XCJzb3VyY2VcIiBldmVudD1cImRpYWxvZ25hbWVkZWZhdWx0XCIgbmFtZWxpc3Q9XCJkdG1mLmRpZ2l0cyBkdG1mLmVuZFwiLz5cblx0XHRcdFx0PC9ub21hdGNoPlxuXHRcdFx0PC9jb2xsZWN0PlxuXHRcdDwvZ3JvdXA+XG5cdDwvZGlhbG9nc3RhcnQ+XG48L21zbWw+XG5cbiAgICAgIDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PlxuICAgICAgPG1zbWwgdmVyc2lvbj1cIjEuMVwiPlxuICAgICAgIDxkaWFsb2dzdGFydCB0YXJnZXQ9XCJjb25uOjEyMzQ1XCIgbmFtZT1cIjEyMzQ1XCI+XG5cbiAgICAgICAgIDxjb2xsZWN0IGZkdD1cIjEwc1wiIGlkdD1cIjE2c1wiPlxuICAgICAgICAgICAgPHBsYXkgYmFyZ2U9XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICA8YXVkaW8gdXJpPVwiZmlsZTovL3Byb21wdC53YXZcIi8+XG4gICAgICAgICAgICA8L3BsYXk+XG4gICAgICAgICAgICA8cGF0dGVybiBkaWdpdHM9XCJ4eHh4I1wiPlxuICAgICAgICAgICAgICAgPHNlbmQgdGFyZ2V0PVwic291cmNlXCIgZXZlbnQ9XCJkb25lXCJcbiAgICAgICAgICAgICAgICAgICAgIG5hbWVsaXN0PVwiZHRtZi5kaWdpdHMgZHRtZi5lbmRcIi8+XG4gICAgICAgICAgICA8L3BhdHRlcm4+XG4gICAgICAgICAgICA8bm9pbnB1dD5cbiAgICAgICAgICAgICAgIDxzZW5kIHRhcmdldD1cInNvdXJjZVwiIGV2ZW50PVwiZG9uZVwiXG4gICAgICAgICAgICAgICAgICAgICBuYW1lbGlzdD1cImR0bWYuZW5kXCIvPlxuICAgICAgICAgICAgPC9ub2lucHV0PlxuICAgICAgICAgICAgPG5vbWF0Y2g+XG4gICAgICAgICAgICAgICA8c2VuZCB0YXJnZXQ9XCJzb3VyY2VcIiBldmVudD1cImRvbmVcIlxuICAgICAgICAgICAgICAgICAgICAgbmFtZWxpc3Q9XCJkdG1mLmVuZFwiLz5cbiAgICAgICAgICAgIDwvbm9tYXRjaD5cbiAgICAgICAgIDwvY29sbGVjdD5cbiAgICAgICA8L2RpYWxvZ3N0YXJ0PlxuICAgICAgPC9tc21sPlxuXG5cblxuKi9cblxuZnVuY3Rpb24gU2VuZElORk9Qcm9tcHRhbmRDb2xsZWN0KHNlc3Npb24gOiBhbnksIGV2ZW50IDogYW55LCBsb2NhbFBhcmFtczogYW55ICl7XG4gICAgLy9zZXQgdGhlIHhtbCBjb25uIGlkIC0tPiBzZXNzaW9uW1wibXJmXCJdW1wiZG93blN0cmVhbVRvVGFnXCJdXG4gICAgLy90aGlzIGZ1bmN0aW9uIGJ1aWxkcyB0aGUgTVJGIFhNTCBhbmQgc2VuZHMgaXQuIGEgbGliIGlzIHVzZWQgYXMgdGhlIGhhbmRlcmwgc2VuZHMgb25seSBhIGRlZmF1bHQgb25lIHRoYXQgaXMgb25seSB1c2luZyBwbGF5LmVuZCBwbGF5LmFtdCB3aWh0b3V0IGR0bWYuXG4gICAgbGV0IGxvZyA9IHNlc3Npb24ubG9nO1xuXG4gICAgbG9nLmRlYnVnKFwiU2VuZElORk9Qcm9tcHRhbmRDb2xsZWN0OiBtcmZfcGFyYW0ge306XCIsc2Vzc2lvbltcIm1yZl9wYXJhbVwiXSk7XG4gICAgLy9kZWZhdWx0IHZhbHVlc1xuICAgIGxldCBtcmZfdXNlZCA9IHt9O1xuICAgIG1yZl91c2VkID0ge1xuICAgICAgICBcImFubm91bmNlbWVudFwiOlwiZGVmYXVsdFwiLFxuICAgICAgICBcImNvbGxlY3RcIjoge1xuICAgICAgICAgICAgXCJjbGVhcmRiXCI6XCJ0cnVlXCIsXG4gICAgICAgICAgICBcImVkdFwiOlwiMXNcIixcbiAgICAgICAgICAgIFwiZmR0XCI6XCIzc1wiLFxuICAgICAgICAgICAgXCJpZHRcIjpcIjJzXCIsXG4gICAgICAgICAgICBcIml0ZXJhdGVcIjpcIjFcIlxuICAgICAgICB9LFxuICAgICAgICBcInBsYXlcIjoge1xuICAgICAgICAgICAgXCJiYXJnZVwiOlwidHJ1ZVwiLFxuICAgICAgICAgICAgXCJtYXh0aW1lXCI6XCIxMXNcIixcbiAgICAgICAgICAgIFwiaW50ZXJ2YWxcIjpcIjFcIixcbiAgICAgICAgICAgIFwiY2xlYXJkYlwiOlwidHJ1ZVwiLFxuICAgICAgICAgICAgXCJvZmZzZXRcIjpcIjBzXCIsXG4gICAgICAgICAgICBcImF1ZGlvaXRlcmF0ZVwiOlwiMVwiLFxuICAgICAgICAgICAgXCJhdWRpb3VyaVwiOlwiZmlsZTovLy9hcHBsL3dhdi90aWN0YWMud2F2XCIgICAgICAgICAgICBcbiAgICAgICAgfSxcbiAgICAgICAgXCJwYXR0ZXJuXCI6IHtcbiAgICAgICAgICAgIFwiZGlnaXRzXCI6IFwiWzEtMl1cIixcbiAgICAgICAgICAgIFwiZm9ybWF0XCI6IFwicmVnZXhcIlxuICAgICAgICB9ICAgXG4gICAgfTtcbiAgICBsb2cuZGVidWcoXCJTZW5kSU5GT1Byb21wdGFuZENvbGxlY3Q6IG1yZl9kZWZhdWx0IHt9OlwiLEpTT04uc3RyaW5naWZ5KG1yZl91c2VkKSk7XG5cbiAgICAvL2RlZmF1bHQgWE1MIGhlYWRlclxuICAgIGxldCBjb250ZW50ID0gXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJVVEYtOFxcXCI/Plxcbjxtc21sICB2ZXJzaW9uPVxcXCIxLjFcXFwiPlxcbjxkaWFsb2dzdGFydCBuYW1lPVxcXCJkaWFsb2duYW1lZGVmYXVsdFxcXCIgdGFyZ2V0PVxcXCJjb25uOlwiO1xuICAgIC8vYWRkIHRoZSBkeW5hbWljIHRvIHRoYXQgZnJvbSBNUkYgcmVjZWl2ZWQgdG8gdGFnXG4gICAgY29udGVudCA9IGNvbnRlbnQgKyBzZXNzaW9uW1wibXJmXCJdW1wiZG93blN0cmVhbVRvVGFnXCJdO1xuICAgIGNvbnRlbnQgPSBjb250ZW50ICsgXCJcXFwiIHR5cGU9XFxcImFwcGxpY2F0aW9uL21vbWwreG1sXFxcIj5cXG5cIjtcblxuICAgIGxldCBjb2xsZWN0PWZhbHNlO1xuXG4gICAgbGV0IGtleT1cIlwiO1xuICAgIGlmICggc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcImNvbGxlY3RcIl0gIT0gbnVsbCkge1xuICAgICAgICAvL2NvbGxlY3QgaXMgcHJlc2VudC4gdGhpcyBpcyBhIHByb21wdCBhbmQgY29sbGVjdFxuXG4gICAgICAgIC8vb3ZlcndyaXRlIGRlZmF1bHQgdmFsdWVzXG4gICAgICAgIGZvcihrZXkgaW4gc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcImNvbGxlY3RcIl0pXG4gICAgICAgICAgICBsb2cuZGVidWcoXCJTZW5kSU5GT1Byb21wdGFuZENvbGxlY3Q6IHByb2Nlc3MgY29sbGVjdCBrZXkge31cIixrZXkpO1xuICAgICAgICAgICAgbXJmX3VzZWRbXCJjb2xsZWN0XCJdW2tleV0gPSBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wiY29sbGVjdFwiXVtrZXldO1xuICAgICAgICBmb3Ioa2V5IGluIHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJwYXR0ZXJuXCJdKVxuICAgICAgICAgICAgbXJmX3VzZWRbXCJwYXR0ZXJuXCJdW2tleV0gPSBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wicGF0dGVyblwiXVtrZXldOyAgICAgICAgXG4gICAgICAgIGZvcihrZXkgaW4gc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcInBsYXlcIl0pXG4gICAgICAgICAgICBtcmZfdXNlZFtcInBsYXlcIl1ba2V5XSA9IHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJwbGF5XCJdW2tleV07XG4gICAgICAgIGxvZy5kZWJ1ZyhcIlNlbmRJTkZPUHJvbXB0YW5kQ29sbGVjdDogdXNlIGNvbGxlY3RcIik7XG4gICAgICAgIGNvbGxlY3Q9dHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvL3RoaXMgaXMgb25seSBhIHBsYXkgYW5ub3VuY2VtZW50XG4gICAgICAgIGZvcihrZXkgaW4gc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcInBsYXlcIl0pXG4gICAgICAgICAgICBtcmZfdXNlZFtcInBsYXlcIl1ba2V5XSA9IHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJwbGF5XCJdW2tleV07XG4gICAgICAgIGRlbGV0ZSBtcmZfdXNlZFtcInBhdHRlcm5cIl07XG4gICAgICAgIGRlbGV0ZSBtcmZfdXNlZFtcImNvbGxlY3RcIl07XG4gICAgICAgIGxvZy5kZWJ1ZyhcIlNlbmRJTkZPUHJvbXB0YW5kQ29sbGVjdDogdXNlIGFubm91bmNlbWVudFwiKTtcbiAgICAgICAgY29sbGVjdD1mYWxzZTtcbiAgICB9XG4gICAgbG9nLmRlYnVnKFwiU2VuZElORk9Qcm9tcHRhbmRDb2xsZWN0OiBtcmZfdXNlZCB7fTpcIixKU09OLnN0cmluZ2lmeShtcmZfdXNlZCkpO1xuXG4gICAgaWYgKGNvbGxlY3Q9PXRydWUpIHtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBcIjxjb2xsZWN0ICBjbGVhcmRiPVxcXCJcIiArIG1yZl91c2VkW1wiY29sbGVjdFwiXVtcImNsZWFyZGJcIl0gKyBcIlxcXCIgZWR0PVxcXCJcIiArIG1yZl91c2VkW1wiY29sbGVjdFwiXVtcImVkdFwiXSAgKyBcIlxcXCIgZmR0PVxcXCJcIiArIG1yZl91c2VkW1wiY29sbGVjdFwiXVtcImZkdFwiXSAgKyBcIlxcXCIgaWR0PVxcXCJcIiArIG1yZl91c2VkW1wiY29sbGVjdFwiXVtcImlkdFwiXSAgKyBcIlxcXCIgIGl0ZXJhdGU9XFxcIlwiICsgbXJmX3VzZWRbXCJjb2xsZWN0XCJdW1wiaXRlcmF0ZVwiXSAgKyBcIlxcXCI+XFxuXCI7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgXCI8cGxheSBiYXJnZT1cXFwiXCIgKyBtcmZfdXNlZFtcInBsYXlcIl1bXCJiYXJnZVwiXSArIFwiXFxcIj4gbWF4dGltZT1cXFwiXCIgKyBtcmZfdXNlZFtcInBsYXlcIl1bXCJtYXh0aW1lXCJdICsgXCJcXFwiIDxhdWRpbyB1cmk9XFxcIlwiICsgbXJmX3VzZWRbXCJwbGF5XCJdW1wiYXVkaW91cmlcIl0gKyBcIlxcXCIvPiA8L3BsYXk+XFxuXCI7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgXCI8cGF0dGVybiBkaWdpdHM9XFxcIlwiICsgbXJmX3VzZWRbXCJwYXR0ZXJuXCJdW1wiZGlnaXRzXCJdICsgXCJcXFwiPiAgPHNlbmQgdGFyZ2V0PVxcXCJzb3VyY2VcXFwiIGV2ZW50PVxcXCJkb25lXFxcIiBuYW1lbGlzdD1cXFwiZHRtZi5kaWdpdHMgZHRtZi5lbmRcXFwiLz4gPC9wYXR0ZXJuPlxcblwiO1xuICAgICAgICBjb250ZW50ID0gY29udGVudCArIFwiPG5vaW5wdXQ+IDxzZW5kIHRhcmdldD1cXFwic291cmNlXFxcIiBldmVudD1cXFwiZG9uZVxcXCIgbmFtZWxpc3Q9XFxcImR0bWYuZW5kXFxcIi8+IDwvbm9pbnB1dD5cXG5cIjtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBcIjxub21hdGNoPiA8c2VuZCB0YXJnZXQ9XFxcInNvdXJjZVxcXCIgZXZlbnQ9XFxcImRvbmVcXFwiIG5hbWVsaXN0PVxcXCJkdG1mLmVuZFxcXCIvPiA8L25vbWF0Y2g+XFxuXCI7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgXCI8L2NvbGxlY3Q+XFxuXCI7ICAgICAgICBcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZW50ID0gY29udGVudCArIFwiPHBsYXkgYmFyZ2U9XFxcIlwiICsgbXJmX3VzZWRbXCJwbGF5XCJdW1wiYmFyZ2VcIl0gKyBcIlxcXCIgbWF4dGltZT1cXFwiXCIgKyBtcmZfdXNlZFtcInBsYXlcIl1bXCJtYXh0aW1lXCJdICsgXCJcXFwiIGludGVydmFsPVxcXCJcIiArIG1yZl91c2VkW1wicGxheVwiXVtcImludGVydmFsXCJdICsgXCJcXFwiIGNsZWFyZGI9XFxcIlwiICsgbXJmX3VzZWRbXCJwbGF5XCJdW1wiY2xlYXJkYlwiXSArIFwiXFxcIiBvZmZzZXQ9XFxcIlwiICsgbXJmX3VzZWRbXCJwbGF5XCJdW1wib2Zmc2V0XCJdICsgXCJcXFwiPlxcblwiO1xuICAgICAgICBjb250ZW50ID0gY29udGVudCArIFwiPGF1ZGlvIHVyaT1cXFwiXCIgKyBtcmZfdXNlZFtcInBsYXlcIl1bXCJhdWRpb3VyaVwiXSArIFwiXFxcIiBpdGVyYXRlPVxcXCJcIiArIG1yZl91c2VkW1wicGxheVwiXVtcImF1ZGlvaXRlcmF0ZVwiXSArIFwiXFxcIi8+XFxuXCI7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgXCI8cGxheWV4aXQ+XFxuPGV4aXQgbmFtZWxpc3Q9XFxcInBsYXkuZW5kIHBsYXkuYW10XFxcIi8+XFxuPC9wbGF5ZXhpdD5cXG5cIjtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBcIjwvcGxheT5cIjtcbiAgICB9XHRcbiAgICBjb250ZW50ID0gY29udGVudCArIFwiPC9kaWFsb2dzdGFydD5cXG48L21zbWw+XFxuXCI7XG5cbiAgICBsZXQgb3V0ZXZlbnQgPSB7XG4gICAgICAgIFwiY2FsbGlkXCI6IHNlc3Npb25bXCJmc20taWRcIl0sXG4gICAgICAgIFwiZXZlbnQtdHlwZVwiOiBcInNpcFwiLFxuICAgICAgICBcInF1ZXVlXCI6IFwiVEFTVjRfMVwiLFxuICAgICAgICBcImlkXCI6IDIsXG4gICAgICAgIFwiYWN0aW9uXCI6IHtcbiAgICAgICAgXCJsZWdhY3Rpb25cIjogXCJwZXJmb3JtTWVkaWFPcGVyYXRpb25cIixcbiAgICAgICAgXCJwZXJmb3JtTWVkaWFPcGVyYXRpb25cIjoge1xuICAgICAgICAgICAgXCJDb250ZW50VHlwZVwiOiBcImFwcGxpY2F0aW9uL21zbWwreG1sXCIsXG4gICAgICAgICAgICBcIkNvbnRlbnRcIjogY29udGVudFxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjogM1xuICAgICAgICB9LFxuICAgICAgICBcImV2ZW50LW5hbWVcIjogXCJzaXAubWVkaWEucGxheUFubm91bmNlbWVudFwiLFxuICAgICAgICBcImV2ZW50bmFtZVwiOiBcImNhbGxFYXJseUFuc3dlcmVkXCIsXG4gICAgICAgIFwic2Vzc2lvblwiOiBzZXNzaW9uW1wiZnNtLWlkXCJdXG4gICAgfTtcbiAgICAgICAgLypcbiAgICAgICAgICAgIGxldCBvdXRldmVudCA9IHtcbiAgICAgICAgICAgIFwiY2FsbGlkXCI6IHNlc3Npb25bXCJmc20taWRcIl0sXG4gICAgICAgICAgICBcImV2ZW50LXR5cGVcIjogXCJzaXBcIixcbiAgICAgICAgICAgIFwicXVldWVcIjogXCJUQVNWNF8xXCIsXG4gICAgICAgICAgICBcImlkXCI6IDIsXG4gICAgICAgICAgICBcInRpbWVzdGFtcFwiOiAxNzM5Nzg0ODM0NTYzLFxuICAgICAgICAgICAgXCJhY3Rpb25cIjoge1xuICAgICAgICAgICAgXCJsZWdhY3Rpb25cIjogXCJwZXJmb3JtTWVkaWFPcGVyYXRpb25cIixcbiAgICAgICAgICAgIFwicGVyZm9ybU1lZGlhT3BlcmF0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnRUeXBlXCI6IFwiYXBwbGljYXRpb24vbXNtbCt4bWxcIixcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnRcIjogXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJVVEYtOFxcXCI/Plxcbjxtc21sICB2ZXJzaW9uPVxcXCIxLjFcXFwiPlxcbjxkaWFsb2dzdGFydCBuYW1lPVxcXCJhbm5vUHJvbXB0Q29sbGVjdFxcXCIgdGFyZ2V0PVxcXCJjb25uOjViMDA3YzQwXFxcIiB0eXBlPVxcXCJhcHBsaWNhdGlvbi9tb21sK3htbFxcXCI+XFxuPHBsYXkgaW50ZXJ2YWw9XFxcIjEwMG1zXFxcIiBpdGVyYXRlPVxcXCIxXFxcIiBjbGVhcmRiPVxcXCJ0cnVlXFxcIiBtYXh0aW1lPVxcXCI1MDAwMG1zXFxcIiBiYXJnZT1cXFwidHJ1ZVxcXCI+XFxuIDxhdWRpbyB1cmk9XFxcImZpbGU6Ly8vYXBwbC93YXYvc2ltcGxlcGxheS53YXZcXFwiLz5cXG4gPHBsYXlleGl0PlxcbiAgIDxleGl0IG5hbWVsaXN0PVxcXCJwbGF5LmVuZCBwbGF5LmFtdFxcXCIvPlxcbiA8L3BsYXlleGl0PlxcbjwvcGxheT5cXG48L2RpYWxvZ3N0YXJ0PlxcbjwvbXNtbD5cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwidHlwZVwiOiAzXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJldmVudC1uYW1lXCI6IFwic2lwLm1lZGlhLnBsYXlBbm5vdW5jZW1lbnRcIixcbiAgICAgICAgICAgIFwiZXZlbnRuYW1lXCI6IFwiY2FsbEVhcmx5QW5zd2VyZWRcIixcbiAgICAgICAgICAgIFwic2Vzc2lvblwiOiBzZXNzaW9uW1wiZnNtLWlkXCJdLFxuICAgICAgICAgICAgXCJldmVudHRpbWVcIjogMTczOTc4NDgzNDU3OVxuICAgICAgICB9O1xuXG4gICAgICAgIFwiQ29udGVudFwiOiBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIj8+XFxuPG1zbWwgIHZlcnNpb249XFxcIjEuMVxcXCI+XFxuPGRpYWxvZ3N0YXJ0IG5hbWU9XFxcImFubm9Qcm9tcHRDb2xsZWN0XFxcIiB0YXJnZXQ9XFxcImNvbm46XFxcInNlc3Npb25bXCJtcmZcIl1bXCJkb3duU3RyZWFtVG9UYWdcIl0gdHlwZT1cXFwiYXBwbGljYXRpb24vbW9tbCt4bWxcXFwiPlxcbjxwbGF5IGludGVydmFsPVxcXCIxMDBtc1xcXCIgaXRlcmF0ZT1cXFwiMVxcXCIgY2xlYXJkYj1cXFwidHJ1ZVxcXCIgbWF4dGltZT1cXFwiNTAwMDBtc1xcXCIgYmFyZ2U9XFxcInRydWVcXFwiPlxcbiA8YXVkaW8gdXJpPVxcXCJmaWxlOi8vL2FwcGwvd2F2L3NpbXBsZXBsYXkud2F2XFxcIi8+XFxuIDxwbGF5ZXhpdD5cXG4gICA8ZXhpdCBuYW1lbGlzdD1cXFwicGxheS5lbmQgcGxheS5hbXRcXFwiLz5cXG4gPC9wbGF5ZXhpdD5cXG48L3BsYXk+XFxuPC9kaWFsb2dzdGFydD5cXG48L21zbWw+XCJcbiAgICAgICAgKi9cbiAgICAgICAgLy9sZXQgY29udGVudCA9IFwiPD94bWwgdmVyc2lvbj1cXFwiMS4wXFxcIiBlbmNvZGluZz1cXFwiVVRGLThcXFwiPz5cXG48bXNtbCAgdmVyc2lvbj1cXFwiMS4xXFxcIj5cXG48ZGlhbG9nc3RhcnQgbmFtZT1cXFwiZGlhbG9nbmFtZWRlZmF1bHRcXFwiIHRhcmdldD1cXFwiY29ubjpcIjtcbiAgICAgICAgLy9jb250ZW50ID0gY29udGVudCArIHNlc3Npb25bXCJtcmZcIl1bXCJkb3duU3RyZWFtVG9UYWdcIl07XG4gICAgICAgIC8vY29udGVudCA9IGNvbnRlbnQgKyBcIlxcXCIgdHlwZT1cXFwiYXBwbGljYXRpb24vbW9tbCt4bWxcXFwiPlxcblwiO1xuICAgICAgICAvL2NvbnRlbnQgPSBjb250ZW50ICsgXCI8cGxheSBpbnRlcnZhbD1cXFwiMTAwbXNcXFwiIGl0ZXJhdGU9XFxcIjFcXFwiIGNsZWFyZGI9XFxcInRydWVcXFwiIG1heHRpbWU9XFxcIjUwMDAwbXNcXFwiIGJhcmdlPVxcXCJ0cnVlXFxcIj5cXG4gPGF1ZGlvIHVyaT1cXFwiZmlsZTovLy9hcHBsL3dhdi9zaW1wbGVwbGF5LndhdlxcXCIvPlxcbiA8cGxheWV4aXQ+XFxuICAgPGV4aXQgbmFtZWxpc3Q9XFxcInBsYXkuZW5kIHBsYXkuYW10XFxcIi8+XFxuIDwvcGxheWV4aXQ+XFxuPC9wbGF5PlxcbjwvZGlhbG9nc3RhcnQ+XFxuPC9tc21sPlwiO1xuICAgICAgICAvL09DTVAgcmVzcG9uc2UgLSBncm91cHMgbm90IHN1cHBvcnRlZCAgICAgPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwieWVzXCI/Pjxtc21sIHZlcnNpb249XCIxLjFcIj4gICAgPHJlc3VsdCByZXNwb25zZT1cIjQwMlwiPiAgICAgICAgPGRlc2NyaXB0aW9uPkdyb3VwcyBub3Qgc3VwcG9ydGVkPC9kZXNjcmlwdGlvbj4gICAgPC9yZXN1bHQ+PC9tc21sPlxuICAgICAgICAvL2NvbnRlbnQgPSBjb250ZW50ICsgXCI8Z3JvdXAgdG9wb2xvZ3k9XFxcInBhcmFsbGVsXFxcIj5cXG5cIjtcbiAgICAgICAgLy9jb250ZW50ID0gY29udGVudCArIFwiPHBsYXkgaWQ9XFxcImJlZm9yZWJhcmdlcGxheVxcXCI+PGF1ZGlvIHVyaT1cXFwiZmlsZTovLy9hcHBsL3dhdi9zaW1wbGVwbGF5LndhdlxcXCIgZm9ybWF0PVxcXCJhdWRpby93YXZcXFwiICAvPjxwbGF5ZXhpdD48c2VuZCB0YXJnZXQ9XFxcImNvbGxlY3RcXFwiIGV2ZW50PVxcXCJzdGFydHRpbWVyXFxcIi8+PC9wbGF5ZXhpdD48L3BsYXk+XFxuXCI7XG4gICAgICAgIC8vY29udGVudCA9IGNvbnRlbnQgKyBcIjxjb2xsZWN0IGNsZWFyZGI9XFxcInRydWVcXFwiIGZkdD1cXFwiNXNcXFwiIGlkdD1cXFwiM3NcXFwiPjxwYXR0ZXJuIGRpZ2l0cz1cXFwieFxcXCI+PHNlbmQgdGFyZ2V0PVxcXCJzb3VyY2VcXFwiIGV2ZW50PVxcXCJkaWFsb2duYW1lZGVmYXVsdFxcXCIgbmFtZWxpc3Q9XFxcImR0bWYuZGlnaXRzIGR0bWYuZW5kXFxcIi8+PC9wYXR0ZXJuPlxcblwiO1xuICAgICAgICAvL09DTVAgcmVzcG9uc2UgLSBvbmx5IHNvdXJjZSBzdXBwb3J0ZWQgICAgIDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cInllc1wiPz48bXNtbCB2ZXJzaW9uPVwiMS4xXCI+ICAgIDxyZXN1bHQgcmVzcG9uc2U9XCI0MTBcIj4gICAgICAgIDxkZXNjcmlwdGlvbj5Pbmx5ICdzb3VyY2UnIHN1cHBvcnRlZDwvZGVzY3JpcHRpb24+ICAgIDwvcmVzdWx0PjwvbXNtbD5cbiAgICAgICAgLy9jb250ZW50ID0gY29udGVudCArIFwiPGRldGVjdD48c2VuZCB0YXJnZXQ9XFxcInBsYXkuYmVmb3JlYmFyZ2VwbGF5XFxcIiBldmVudD1cXFwidGVybWluYXRlXFxcIi8+PC9kZXRlY3Q+XFxuPG5vaW5wdXQ+PHNlbmQgdGFyZ2V0PVxcXCJzb3VyY2VcXFwiIGV2ZW50PVxcXCJkaWFsb2duYW1lZGVmYXVsdFxcXCIgbmFtZWxpc3Q9XFxcImR0bWYuZGlnaXRzIGR0bWYuZW5kXFxcIi8+PC9ub2lucHV0Plxcbjxub21hdGNoPjxzZW5kIHRhcmdldD1cXFwic291cmNlXFxcIiBldmVudD1cXFwiZGlhbG9nbmFtZWRlZmF1bHRcXFwiIG5hbWVsaXN0PVxcXCJkdG1mLmRpZ2l0cyBkdG1mLmVuZFxcXCIvPjwvbm9tYXRjaD5cXG48L2NvbGxlY3Q+XFxuXCI7XG4gICAgICAgIC8vY29udGVudCA9IGNvbnRlbnQgKyBcIjxkZXRlY3Q+PHNlbmQgdGFyZ2V0PVxcXCJzb3VyY2VcXFwiIGV2ZW50PVxcXCJ0ZXJtaW5hdGVcXFwiLz48L2RldGVjdD5cXG48bm9pbnB1dD48c2VuZCB0YXJnZXQ9XFxcInNvdXJjZVxcXCIgZXZlbnQ9XFxcImRpYWxvZ25hbWVkZWZhdWx0XFxcIiBuYW1lbGlzdD1cXFwiZHRtZi5kaWdpdHMgZHRtZi5lbmRcXFwiLz48L25vaW5wdXQ+XFxuPG5vbWF0Y2g+PHNlbmQgdGFyZ2V0PVxcXCJzb3VyY2VcXFwiIGV2ZW50PVxcXCJkaWFsb2duYW1lZGVmYXVsdFxcXCIgbmFtZWxpc3Q9XFxcImR0bWYuZGlnaXRzIGR0bWYuZW5kXFxcIi8+PC9ub21hdGNoPlxcbjwvY29sbGVjdD5cXG5cIjtcbiAgICAgICAgLy9jb250ZW50ID0gY29udGVudCArIFwiPC9ncm91cD5cXG5cIjtcblxuICAgICAgICAvKiBzdXBwb3J0ZWQgT0NNUDQuOCBjb2xsZWN0IHBhcmFtZXRlcnNcbiAgICAgICAgaWQ6IGFuIG9wdGlvbmFsIGlkZW50aWZpZXIgdGhhdCBtYXkgYmUgcmVmZXJlbmNlZCBlbHNld2hlcmUgZm9yIHNlbmRpbmcgZXZlbnRzIHRvIHRoaXMgcHJpbWl0aXZlLlxuICAgICAgICBjbGVhcmRiOiBhIGJvb2xlYW4gaW5kaWNhdGlvbiBvZiB3aGV0aGVyIHRoZSBidWZmZXIgZm9yIGRpZ2l0IGNvbGxlY3Rpb24gc2hvdWxkIGJlIGNsZWFyZWQgb2YgYW55IGNvbGxlY3RlZCBkaWdpdHMgd2hlbiB0aGUgZWxlbWVudCBpcyBpbnN0YW50aWF0ZWQuICBJZiBzZXQgdG8gZmFsc2UsIGFueSBkaWdpdHMgY3VycmVudGx5IGluIHRoZSBidWZmZXIgTVVTVCBiZSBpbW1lZGlhdGVseSBjb21wYXJlZCBhZ2FpbnN0IHRoZSBwYXR0ZXJuIGVsZW1lbnRzLlxuICAgICAgICBmZHQ6IGRlZmluZXMgdGhlIGZpcnN0LWRpZ2l0IHRpbWVyIHZhbHVlLiAgVGhlIGZpcnN0LWRpZ2l0IHRpbWVyIGlzIHN0YXJ0ZWQgd2hlbiBEVE1GIGRldGVjdGlvbiBpcyBpbml0aWFsbHkgaW52b2tlZC4gIElmIG5vIERUTUYgZGlnaXRzIGFyZSBkZXRlY3RlZCBkdXJpbmcgdGhpcyBpbml0aWFsIGludGVydmFsLCB0aGUgPG5vaW5wdXQ+IGVsZW1lbnQgTVVTVCBiZSBpbnZva2VkLiAgT3B0aW9uYWwsIGRlZmF1bHQgaXMgMCBzICh3YWl0IGZvcmV2ZXIgZm9yIHRoZSBmaXJzdCBkaWdpdCkuXG4gICAgICAgIGlkdDogZGVmaW5lcyB0aGUgaW50ZXItZGlnaXQgdGltZXIgdG8gYmUgdXNlZCB3aGVuIGRpZ2l0cyBhcmUgYmVpbmcgY29sbGVjdGVkLiAgV2hlbiBzcGVjaWZpZWQsIHRoZSB0aW1lciBpcyBzdGFydGVkIHdoZW4gdGhlIGZpcnN0IGRpZ2l0IGlzIGRldGVjdGVkIGFuZCByZXN0YXJ0ZWQgb24gZWFjaCBzdWJzZXF1ZW50IGRpZ2l0LiBUaW1lciBleHBpcmF0aW9uIGlzIGFwcGxpZWQgdG8gYWxsIHBhdHRlcm5zLiAgQWZ0ZXIgdGhhdCwgaWYgYW55IHBhdHRlcm5zIHJlbWFpbiBhY3RpdmUgYW5kIGEgbm9tYXRjaCBlbGVtZW50IGlzIHNwZWNpZmllZCwgdGhlIG5vbWF0Y2ggaXMgZXhlY3V0ZWQgYW5kIERUTUYgaW5wdXQgTVVTVCB0ZXJtaW5hdGUuICBUaGUgaWR0IGF0dHJpYnV0ZSBzaG91bGQgb25seSBiZSB1c2VkIHdoZW4gZGlnaXQgY29sbGVjdGlvbiBpcyBiZWluZyBwZXJmb3JtZWQuICBPcHRpb25hbCwgZGVmYXVsdCBpcyA0IHMuXG4gICAgICAgIGVkdDogZGVmaW5lcyB0aGUgZXh0cmEtZGlnaXQgdGltZXIgdmFsdWUuICBTcGVjaWZpZXMgdGhlIGxlbmd0aCBvZiB0aW1lIHRoZSBtZWRpYSBzZXJ2ZXIgTVVTVCB3YWl0IGFmdGVyIGEgbWF0Y2ggdG8gZGV0ZWN0IGEgdGVybWluYXRpb24ga2V5LCBpZiBvbmUgaXMgc3BlY2lmaWVkIGJ5IHRoZSA8cGF0dGVybj4gZWxlbWVudC4gT3B0aW9uYWwsIGRlZmF1bHQgaXMgNCBzLlxuICAgICAgICBpdGVyYXRlOiBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUgPHBhdHRlcm4+LCA8bm9pbnB1dD4sICBhbmQgPG5vbWF0Y2g+IGVsZW1lbnRzIG1heSBiZSBleGVjdXRlZCB1bmxlc3MgdGhvc2UgZWxlbWVudHMgc3BlY2lmeSBkaWZmZXJlbnRseS4gIFRoZSB2YWx1ZSBcImZvcmV2ZXJcIiBNQVkgYmUgdXNlZCB0byBpbmRpY2F0ZSB0aGF0IHRoZXNlIG1heSBiZSBleGVjdXRlZCBhbnkgbnVtYmVyIG9mIHRpbWVzLiAgRGVmYXVsdCBpcyBvbmNlICcxJy5cbiAgICAgICAgKi9cbiAgICAgICAgLyogc3VwcG9ydGVkIE9DTVA0LjggcGxheSBwYXJhbWV0ZXJzXG4gICAgICAgIGlkOiBhbiBvcHRpb25hbCBpZGVudGlmaWVyIHRoYXQgbWF5IGJlIHJlZmVyZW5jZWQgZWxzZXdoZXJlIGZvciBzZW5kaW5nIGV2ZW50cyB0byB0aGUgcGxheSBwcmltaXRpdmUuXG4gICAgICAgIGludGVydmFsOiBzcGVjaWZpZXMgdGhlIGRlbGF5IGJldHdlZW4gc3RvcHBpbmcgb25lIGl0ZXJhdGlvbiBhbmQgYmVnaW5uaW5nIGFub3RoZXIuICBUaGUgYXR0cmlidXRlIGhhcyBubyBlZmZlY3QgaWYgaXRlcmF0ZSBpcyBub3QgYWxzbyBzcGVjaWZpZWQuICBEZWZhdWx0IGlzIG5vIGludGVydmFsLiBcbiAgICAgICAgaXRlcmF0ZTogc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIG1lZGlhIHNwZWNpZmllZCBieSB0aGUgY2hpbGQgbWVkaWEgZWxlbWVudHMgc2hvdWxkIGJlIHBsYXllZC4gIEVhY2ggaXRlcmF0aW9uIGlzIGEgIGNvbXBsZXRlIHBsYXkgb2YgZWFjaCBvZiB0aGUgY2hpbGQgbWVkaWEgZWxlbWVudHMgaW4gZG9jdW1lbnQgb3JkZXIuICBEZWZhdWx0cyB0byBvbmNlICcxJy5cbiAgICAgICAgbWF4dGltZTogZGVmaW5lcyB0aGUgbWF4aW11bSBhbGxvd2VkIHRpbWUgZm9yIHRoZSA8cGxheT4gdG8gY29tcGxldGUuXG4gICAgICAgICAgICBpbiBnYXJnZT10cnVlIHRoZSBhbm5vdW5jZW1lbnQgaXMgbm90IHN0b3BwZWQgYXQgbWF4dGltZVxuICAgICAgICBiYXJnZTogZGVmaW5lcyB3aGV0aGVyIG9yIG5vdCBhdWRpbyBhbm5vdW5jZW1lbnRzIG1heSBiZSAgaW50ZXJydXB0ZWQgYnkgRFRNRiBkZXRlY3Rpb24gZHVyaW5nIHBsYXktb3V0LiAgVGhlIERUTUYgZGlnaXQgYmFyZ2luZyB0aGUgYW5ub3VuY2VtZW50IGlzIHN0b3JlZCBpbiB0aGUgZGlnaXQgYnVmZmVyLiAgVmFsaWQgdmFsdWVzIGZvciBiYXJnZSBhcmUgXCJ0cnVlXCIgb3IgXCJmYWxzZVwiLCBhbmQgdGhlIGF0dHJpYnV0ZSBpcyBtYW5kYXRvcnkuICBXaGVuIGJhcmdlIGlzIGFwcGxpZWQgdG8gYSBjb25mZXJlbmNlIHRhcmdldCwgRFRNRiBkaWdpdCBkZXRlY3RlZCBmcm9tIGFueSBjb25mZXJlbmNlIHBhcnRpY2lwYW50IE1VU1QgdGVybWluYXRlIHRoZSBhbm5vdW5jZW1lbnQuXG4gICAgICAgIGNsZWFyZGI6IGRlZmluZXMgd2hldGhlciBvciBub3QgdGhlIGRpZ2l0IGJ1ZmZlciBpcyBjbGVhcmVkLCBwcmlvciAgdG8gc3RhcnRpbmcgdGhlIGFubm91bmNlbWVudC4gIFZhbGlkIHZhbHVlcyBmb3IgY2xlYXJkYiBhcmUgXCJ0cnVlXCIgb3IgXCJmYWxzZVwiLCBhbmQgdGhlIGF0dHJpYnV0ZSBpcyBtYW5kYXRvcnkuIFxuICAgICAgICBvZmZzZXQ6IGRlZmluZXMgYW4gb2Zmc2V0LCBtZWFzdXJlZCBpbiB1bml0cyBvZiB0aW1lLCB3aGVyZSB0aGUgPHBsYXk+IGlzIHRvIGJlZ2luIG1lZGlhIGdlbmVyYXRpb24uICBPZmZzZXQgaXMgb25seSB2YWxpZCB3aGVuIGFsbCBjaGlsZCBtZWRpYSBlbGVtZW50cyBhcmUgPGF1ZGlvPi5cbiAgICAgICAgKi9cblxuICAgICAgICAvLyBjbGVhbiBpdCB1cCBmb3IgdGhlIG5leHQgcnVuXG4gICAgICAgIGRlbGV0ZSBzZXNzaW9uW1wibXJmX3BhcmFtXCJdO1xuICAgIHJldHVybiBvdXRldmVudDtcbn1cblxuXG5mdW5jdGlvbiBpbnB1dHZhbGlkYXRpb24oc2Vzc2lvbiA6IGFueSwgZXZlbnQgOiBhbnksIGxvY2FsUGFyYW1zOiBhbnkgKXtcbiAgICBsZXQgbG9nID0gc2Vzc2lvbi5sb2c7XG5cbiAgICB0cnkge1xuICAgICAgICAvL2NyZWF0ZSBtcmYgb2JqZWN0XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl09e307XG5cbiAgICAgICAgLy9zaXAgaW52aXRlIGlzIGluICNzZXNzaW9uW1wic19TSVBJbnZpdGVcIl1cbiAgICAgICAgaWYgKCBzZXNzaW9uW1wic19TSVBJbnZpdGVcIl0gIT0gbnVsbCApIHtcbiAgICAgICAgICAgIGlmKCBzZXNzaW9uW1wic19TSVBJbnZpdGVcIl1bXCJldmVudC10eXBlXCJdIT09bnVsbCAmJiAoc2Vzc2lvbltcInNfU0lQSW52aXRlXCJdW1wiZXZlbnQtdHlwZVwiXT09PVwic2lwXCIgfHwgc2Vzc2lvbltcInNfU0lQSW52aXRlXCJdW1wiZXZlbnQtdHlwZVwiXT09PVwib2NjcFwiKSkge1xuICAgICAgICAgICAgICAgIGlmKCBzZXNzaW9uW1wic19TSVBJbnZpdGVcIl1bXCJldmVudC1uYW1lXCJdIT09bnVsbCAmJiBzZXNzaW9uW1wic19TSVBJbnZpdGVcIl1bXCJldmVudC1uYW1lXCJdID09PSBcInNpcC5jYWxsU3RhcnQuTk9ORVwiKVxuICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJnb3Qgc2lwIGludml0ZVwiKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImVycm9yLmlucHV0LnNpcGludml0ZWluY29ycmVjdGV2ZW50bmFtZVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJlcnJvci5pbnB1dC5zaXBpbnZpdGVpbmNvcnJlY3RldmVudHR5cGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcImVycm9yLmlucHV0LnNpcGludml0ZW1pc3NpbmdcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc2Vzc2lvbltcIm1yZl9wYXJhbVwiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoIHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJlYXJseWRpYWxvZ1wiXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwibXJmIGVhcmx5ZGlhbG9nIHByZXNlbnQgYW5kIHt9XCIsc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcImVhcmx5ZGlhbG9nXCJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcImVhcmx5ZGlhbG9nXCJdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJtcmYgZWFybHlkaWFsb2cgbm90IHByZXNlbnQgLSB1c2UgZGVmYXVsdFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIm1yZiBvYmplY3Qgbm90IHByZXNlbnQgLSB1c2UgZGVmYXVsdFwiKTtcbiAgICAgICAgICAgIHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJlYXJseWRpYWxvZ1wiXSA9IHRydWU7XG4gICAgICAgIH1cdFxuICAgICAgICByZXR1cm4gc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcImVhcmx5ZGlhbG9nXCJdO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nLmRlYnVnKFwiTG9nLmlucHV0dmFsaWRhdGlvbjoge31cIiwgZSk7XG4gICAgICAgIHJldHVybiBcImVycm9yLmV4Y2VwdGlvblwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXJtTVJGZXZlbnRzKHNlc3Npb25EYXRhOmFueSxldmVudERhdGE6YW55LGxvY2FsUGFyYW1zOmFueSk6IGFueSB7XG4gbGV0IHJldDogUmVzdWx0Q29kZSA7XG5cbiAgICBsZXQgc3RhdHVzMiA6IHN0cmluZztcbiAgICBsZXQgZXZlbnRzIDogRXZlbnRzO1xuICAgIGV2ZW50cyA9IGV2ZW50cyB8fCB7fTtcbiAgICBldmVudHMuSW5mb1BvbGxFdmVudD1cIm51bGxcIjtcbiAgICBldmVudHMuU3VjY2Vzc1Jlc3BvbnNlUG9sbEV2ZW50PVwibnVsbFwiO1xuICAgIGV2ZW50cy5SYXdDb250ZW50UG9sbEV2ZW50PVwidGVzdC90ZXN0XCI7XG5cbiAgICBsZXQgaGVhZGVyVmFycyA6IEhlYWRlclZhcnM7XG4gICAgaGVhZGVyVmFycyA9IGhlYWRlclZhcnMgfHwge307XG4gICAgaGVhZGVyVmFycy5kaXNhYmxlU2VuZERlZmF1bHRSZWFzb24gPSBcIkRpc2FibGVkXCI7XG4gICAgaGVhZGVyVmFycy5kaXNhYmxlU2VuZE5vQW5zd2VyUmVhc29uID0gXCJEaXNhYmxlZFwiO1xuXG4gICAgbGV0IHJpbmdpbmdUb25lcyA6IFtSaW5naW5nVG9uZV07XG4gICAgcmluZ2luZ1RvbmVzID0gcmluZ2luZ1RvbmVzIHx8IFtdO1xuICAgIGxldCBjb21mIDogUmluZ2luZ1RvbmU7XG4gICAgY29tZiA9IGNvbWYgfHwge307XG4gICAgY29tZi5hbm5vX25hbWU9XCJjb21mb3J0XCI7XG4gICAgY29tZi5hbm5vX3R5cGU9QW5ub3R5cGUuQ09OTkVDVDtcbiAgICBsZXQgcmluZyA6IFJpbmdpbmdUb25lO1xuICAgIHJpbmcgPSByaW5nIHx8IHt9O1xuICAgIHJpbmcuYW5ub19uYW1lPVwicmluZ2luZ1wiO1xuICAgIHJpbmcuYW5ub190eXBlPUFubm90eXBlLlJJTkdJTkc7XG4gICAgcmluZ2luZ1RvbmVzLnB1c2goY29tZiwgcmluZyk7XG5cbiAgICBsZXQgY2FwYWJpbGl0aWVzID0gc2Vzc2lvbkRhdGEuaW5DYXBhYmlsaXRpZXM7XG4gICAgaWYoIGNhcGFiaWxpdGllcyE9bnVsbCl7XG4gICAgICAgIGNhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5QRU0pO1xuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuRk9SS0lORyk7XG4gICAgICAgIGNhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5VUERBVEUpO1xuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuSU5GTyk7XG4gICAgICAgIHNlc3Npb25EYXRhLm91dENhcGFiaWxpdGllcyA9IEpTT04uc3RyaW5naWZ5KGNhcGFiaWxpdGllcyk7XG4gICAgfVxuXG4gICAgc2Vzc2lvbkRhdGEuZXZlbnRzID0gSlNPTi5zdHJpbmdpZnkoZXZlbnRzKTtcbiAgICBzZXNzaW9uRGF0YS5oZWFkZXJydWxldmFyPUpTT04uc3RyaW5naWZ5KGhlYWRlclZhcnMpO1xuICAgIHNlc3Npb25EYXRhLmhlYWRlcnJ1bGVzc2VsZWN0ID0gXCJTaXBTZXJ2aWNlU3BlY2lmaWNSdWxlc1NldFwiO1xuICAgIHNlc3Npb25EYXRhLnJpbmdpbmd0b25lcyA9IEpTT04uc3RyaW5naWZ5KHJpbmdpbmdUb25lcyk7XG4gICAgc2Vzc2lvbkRhdGEudXBzdHJlYW1DYXBhYmlsaXRpZXM9SlNPTi5zdHJpbmdpZnkoW10pO1xuXG4gICAgcmV0dXJuIFwic3VjY2Vzc1wiO1xufVxuXG5cbmZ1bmN0aW9uIGhhbmRsZTIwME9LSU5WSVRFKHNlc3Npb246YW55LGV2ZW50Ok9DQ1BTSVAuT0NDUEV2ZW50LGxvY2FsUGFyYW1zOmFueSkge1xuICAgIGxldCBsb2cgPSBzZXNzaW9uLmxvZztcblxuICAgIHRyeSB7XG4gICAgICAgIC8vdGhlIHJlY2VpdmVkIGV2ZW50IGlzIG5vdyBpbiBsb2NhbFBhcmFtc1xuICAgICAgICBsZXQgZXZlbnREYXRhID0gbG9jYWxQYXJhbXMubWVzc2FnZTtcbiAgICAgICAgLy9zZXNzaW9uLmV2ZW50cyA9IG51bGw7XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJoZWFkZXJydWxldmFyPW51bGxcIl07XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJoZWFkZXJydWxlc3NlbGVjdFwiXSA9IG51bGw7XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJyaW5naW5ndG9uZXNcIl0gPSBudWxsO1xuXG4gICAgICAgIGxldCBwb2xsQWN0aW9uIDogQ2FsbFBvbGxBY3Rpb247XG4gICAgICAgIHBvbGxBY3Rpb24gPSBwb2xsQWN0aW9uIHx8IHt9O1xuICAgICAgICBwb2xsQWN0aW9uLnR5cGUgPSBDYWxsUG9sbEFjdGlvblR5cGUuQWNjZXB0O1xuICAgICAgICBzZXNzaW9uLnNlbmRBY3Rpb24gPSBKU09OLnN0cmluZ2lmeShwb2xsQWN0aW9uKTtcblxuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1widGltZTIwME9LSU5WSVRFXCJdICA9IE1hdGguZmxvb3IobmV3IERhdGUoKS8xMDAwKTtcblxuICAgICAgICAvL3NhdmUgdG8gdGFnXG4gICAgICAgIGxldCB0byA6IFRvID0gZXZlbnREYXRhLlNJUC5UbztcbiAgICAgICAgaWYoIHRvIT1udWxsKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoXCJyZWNlaXZlZCBmcm9tIE1SRiB0byB0YWc6e31cIix0byk7XG4gICAgICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiY2FsbHN0YXRlXCJdICA9IFwiTVJGQ09OTkVDVEVEMjAwT0tcIjtcbiAgICAgICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJkb3duU3RyZWFtVG9UYWdcIl09dG8udGFnO1xuICAgICAgICAgICAgcmV0dXJuIFwic3VjY2Vzc1wiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nLmRlYnVnKFwicmVjZWl2ZWQgZnJvbSBNUkYgbm8gdG8gdGFnOnt9XCIsdG8pO1xuICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3Iubm90b3RhZ1wiO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nLmRlYnVnKFwiaGFuZGxlMjAwT0tJTlZJVEUgTG9nOiB7fVwiLCBlKTtcbiAgICAgICAgcmV0dXJuIFwiZXJyb3IuZXhjZXB0aW9uXCI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGUyMDBPS0lORk8oc2Vzc2lvbjphbnksZXZlbnQ6T0NDUFNJUC5FdmVudCxsb2NhbFBhcmFtczpMb2NhbFBhcmFtZXRlcnMpOiBhbnl7XG4gICAgXG4gICAgbGV0IGxvZyA9IHNlc3Npb24ubG9nO1xuXG4gICAgdHJ5IHsgICAgICAgIFxuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1widGltZTIwME9LSU5GT1wiXSAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkvMTAwMCk7XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJjYWxsc3RhdGVcIl0gID0gXCJNUkZDT05ORUNURURcIjsgICAgICAgIFxuICAgICAgICBpZiAoZXZlbnRbXCJldmVudC1uYW1lXCJdPT1cInNpcC5tZWRpYU9wZXJhdGlvbk5vdGlmaWNhdGlvbi4qXCIpICB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZXZlbnRbXCJ0eXBlXCJdPT1cIjIwMFwiKSAge1xuICAgICAgICAgICAgICAgIC8vVGhpcyBpcyB0aGUgMjAwb2sgZm9yIFNJUCBJTkZPIC0gbm8gRFRNRiBldGMgaXMgcHJlc2VudFxuICAgICAgICAgICAgICAgIGlmIChldmVudC5TSVAuY29udGVudC5qc29uLm1zbWwucmVzdWx0LmRlc2NyaXB0aW9uPT1cIk9LXCIpICB7XG4gICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcImhhbmRsZTIwME9LSU5GTzpSZWNldmllZCAyMDBPS0lORk8gYW5kIGl0cyBva1wiKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImR0bWZkaWdpdHNcIl0gPSBcImluaXRpYWxpemVkXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInJlY2VpdmVkLk9LXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwiaGFuZGxlMjAwT0tJTkZPOlJlY2V2aWVkIDIwME9LSU5GTyBhbmQgaXRzIE5PVCBvayB7fVwiLGV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5yZXN1bHQuZGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJyZWNlaXZlZC5OT0tcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmV2ZW50W1widHlwZVwiXT09XCJJTkZPXCIpICB7XG4gICAgICAgICAgICAgICAgLy9UaGlzIGlzIHRoZSBpbmNvbWluZyBTSVAgSU5GTyB3aXRoIGVpdGhlciBhIHRpbWVvdXQgb3Igbm9tYXRjaCBvciBhIG1hdGNoIHdpdGggdGhlIGRpZ2l0XG4gICAgICAgICAgICAgICAgaWYoIGV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5ldmVudC5uYW1lIT1udWxsICYmIGV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5ldmVudC5uYW1lLnNpemUoKT4xICl7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5hbWVbMV0gLT4gdmFsdWVbMF0gICAgYW5kIG5hbWVbMl0gLT4gdmFsdWVbMV1cbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpPTA7aTw9ZXZlbnQuU0lQLmNvbnRlbnQuanNvbi5tc21sLmV2ZW50Lm5hbWUuc2l6ZSgpLTE7aSsrKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcImhhbmRsZTIwME9LSU5GTzppbmRleCBhbmQgZXZlbnQtbmFtZSB7fSAtIHt9XCIsIGksIGV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5ldmVudC5uYW1lLmdldChpKSk7ICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5ldmVudC5uYW1lLmdldChpKS5lcXVhbHMoXCJkdG1mLmRpZ2l0c1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcImhhbmRsZTIwME9LSU5GTzpyZWNlaXZlZCBkdG1mLmRpZ2l0cyBhcyB7fVwiLCBldmVudC5TSVAuY29udGVudC5qc29uLm1zbWwuZXZlbnQudmFsdWVbaS0xXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImR0bWZkaWdpdHNcIl0gID0gZXZlbnQuU0lQLmNvbnRlbnQuanNvbi5tc21sLmV2ZW50LnZhbHVlW2ktMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBldmVudC5TSVAuY29udGVudC5qc29uLm1zbWwuZXZlbnQubmFtZS5nZXQoaSkuZXF1YWxzKFwiZHRtZi5lbmRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJoYW5kbGUyMDBPS0lORk86cmVjZWl2ZWQgZHRtZi5lbmRcIik7ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBldmVudC5TSVAuY29udGVudC5qc29uLm1zbWwuZXZlbnQubmFtZS5nZXQoaSkuZXF1YWxzKFwibXNtbC5kaWFsb2cuZXhpdFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcImhhbmRsZTIwME9LSU5GTzpyZWNlaXZlZCBtc21sLmRpYWxvZy5leGl0IC0gcmV0dXJuIHdpdGggTVJGIGRpYWxvZyBjbG9zZWQuXCIpOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJtcmZkaWFsb2cuY2xvc2VkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcImhhbmRsZTIwME9LSU5GTzpyZWNlaXZlZCBvdGhlciBldmVudCBuYW1lXCIpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJoYW5kbGUyMDBPS0lORk86UmV0dXJuIHRoZSBkZWNvZGVkIGR0bWYuZGlnaXRzOiB7fVwiLHNlc3Npb25bXCJtcmZcIl1bXCJkdG1mZGlnaXRzXCJdKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2Vzc2lvbltcIm1yZlwiXVtcImR0bWZkaWdpdHNcIl07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInVuZXhwZWN0ZWRldmVudHR5cGUuXCIgKyBldmVudC5ldmVudFtcInR5cGVcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcImhhbmRsZTIwME9LSU5GTzpMb2c6IHt9XCIsIGUpO1xuICAgICAgICByZXR1cm4gXCJlcnJvci5leGNlcHRpb25cIjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG1yZnJldHVybihzZXNzaW9uIDogYW55LCBldmVudCA6IGFueSwgbG9jYWxQYXJhbXM6IGFueSApe1xuICAgIHJldHVybiBcImR0bWYuZGlnaXQuXCIgKyBzZXNzaW9uW1wibXJmXCJdW1wiZHRtZmRpZ2l0c1wiXTtcbn1cblxuZnVuY3Rpb24gY2FsbEFuc3dlcmVkKHNlc3Npb24gOiBhbnksIGV2ZW50IDogYW55LCBsb2NhbFBhcmFtczogYW55ICl7XG4gICAgbGV0IGxvZyA9IHNlc3Npb24ubG9nO1xuXG4gICAgdHJ5IHsgICAgICAgIFxuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiY2FsbHN0YXRlXCJdICA9IFwiQU5TV0VSRURcIjtcbiAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImFuc3dlcnRpbWVcIl0gID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLzEwMDApO1xuICAgICAgICByZXR1cm4gXCJzdWNjZXNzXCI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2cuZGVidWcoXCJMb2c6IHt9XCIsIGUpO1xuICAgICAgICByZXR1cm4gXCJlcnJvci5leGNlcHRpb25cIjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRGlzY29ubmVjdFJlYXNvbihzZXNzaW9uIDogYW55LCBldmVudCA6IGFueSwgbG9jYWxQYXJhbXM6IGFueSApe1xuICAgIGxldCBsb2cgPSBzZXNzaW9uLmxvZztcblxuICAgIHRyeSB7ICBcbiAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImNhbGxzdGF0ZVwiXSAgPSBcIkNvbm5lY3RFcnJvclwiO1xuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiY29ubmVjdGVycm9ydGltZVwiXSAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkvMTAwMCk7ICAgICAgICBcbiAgICAgICAgbGV0IGV2ZW50c1N0YWNrPWV2ZW50WydldmVudHMtc3RhY2snXTtcbiAgICAgICAgaWYoIGV2ZW50c1N0YWNrIT1udWxsICYmIGV2ZW50c1N0YWNrLnNpemUoKT4wICl7XG4gICAgICAgICAgICBmb3IodmFyIGk9ZXZlbnRzU3RhY2suc2l6ZSgpLTE7aT49MDtpLS0pe1xuICAgICAgICAgICAgICAgIGlmKCBldmVudHNTdGFjay5nZXQoaSkuZXF1YWxzKFwibGVnLnRpbWVvdXRcIikgJiYgaT49KGV2ZW50c1N0YWNrLnNpemUoKS0yKSl7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb24ubG9naW5mbyA9IHNlc3Npb24ubG9naW5mbytcIlRJTUVPVVQ7XCI7IFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJlcnJvci5tcmYuY29ubmVjdC50aW1lb3V0XCI7ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2cuZGVidWcoXCJMb2c6IHt9XCIsIGUpO1xuICAgICAgICByZXR1cm4gXCJlcnJvci5tcmYuY29ubmVjdC5leGNlcHRpb25cIjtcbiAgICB9ICAgICAgICBcbiAgICByZXR1cm4gXCJlcnJvci5tcmYuY29ubmVjdC5vdGhlcnNcIjtcbn1cblxuZnVuY3Rpb24gc2V0cmVsZWFzZShzZXNzaW9uIDogYW55LCBldmVudCA6IGFueSwgbG9jYWxQYXJhbXM6IGFueSApe1xuICAgIGxldCBsb2cgPSBzZXNzaW9uLmxvZztcblxuICAgIHRyeSB7ICBcbiAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImNhbGxzdGF0ZVwiXSAgPSBcIlJlbGVhc2VkXCI7XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJyZWxlYXNldGltZVwiXSAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkvMTAwMCk7ICAgICAgICBcbiAgICAgICAgcmV0dXJuIFwic3VjY2Vzc1wiO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nLmRlYnVnKFwiTG9nOiB7fVwiLCBlKTtcbiAgICAgICAgcmV0dXJuIFwiZXJyb3IucmVsZWFzZVwiO1xuICAgIH0gICAgICAgIFxufVxuXG5mdW5jdGlvbiBwcmVwYXJlQ2FsbFJvdXRpbmcoc2Vzc2lvbjphbnksZXZlbnREYXRhOmFueSxsb2NhbFBhcmFtczphbnkpOiBhbnkge1xuIGxldCByZXQ6IFJlc3VsdENvZGUgO1xuICAgIHJldCA9IHJldCB8fCB7fTtcbiAgICByZXQucmVzdWx0Q29kZT1cInN1Y2Nlc3NcIjtcbiAgICBsZXQgc3RhdHVzMiA6IHN0cmluZztcbiAgICBsZXQgZXZlbnRzIDogRXZlbnRzO1xuICAgIGV2ZW50cyA9IGV2ZW50cyB8fCB7fTtcbiAgICBldmVudHMuSW5mb1BvbGxFdmVudD1cIm51bGxcIjtcbiAgICBldmVudHMuU3VjY2Vzc1Jlc3BvbnNlUG9sbEV2ZW50PVwibnVsbFwiO1xuICAgIGV2ZW50cy5SYXdDb250ZW50UG9sbEV2ZW50PVwidGVzdC90ZXN0XCI7XG4gICAgbGV0IGhlYWRlclZhcnMgOiBIZWFkZXJWYXJzO1xuICAgIGhlYWRlclZhcnMgPSBoZWFkZXJWYXJzIHx8IHt9O1xuICAgIGhlYWRlclZhcnMuZGlzYWJsZVNlbmREZWZhdWx0UmVhc29uID0gXCJEaXNhYmxlZFwiO1xuICAgIGhlYWRlclZhcnMuZGlzYWJsZVNlbmROb0Fuc3dlclJlYXNvbiA9IFwiRGlzYWJsZWRcIjtcbiAgICBsZXQgcmluZ2luZ1RvbmVzIDogW1JpbmdpbmdUb25lXTtcbiAgICByaW5naW5nVG9uZXMgPSByaW5naW5nVG9uZXMgfHwgW107XG4gICAgbGV0IGNvbWYgOiBSaW5naW5nVG9uZTtcbiAgICBjb21mID0gY29tZiB8fCB7fTtcbiAgICBjb21mLmFubm9fbmFtZT1cImNvbWZvcnRcIjtcbiAgICBjb21mLmFubm9fdHlwZT1Bbm5vdHlwZS5DT05ORUNUO1xuICAgIGxldCByaW5nIDogUmluZ2luZ1RvbmU7XG4gICAgcmluZyA9IHJpbmcgfHwge307XG4gICAgcmluZy5hbm5vX25hbWU9XCJyaW5naW5nXCI7XG4gICAgcmluZy5hbm5vX3R5cGU9QW5ub3R5cGUuUklOR0lORztcbiAgICByaW5naW5nVG9uZXMucHVzaChjb21mLCByaW5nKTtcbiAgICBsZXQgY2FwYWJpbGl0aWVzID0gc2Vzc2lvbkRhdGEuaW5DYXBhYmlsaXRpZXM7XG4gICAgaWYoIGNhcGFiaWxpdGllcyE9bnVsbCl7XG4gICAgICAgIGNhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5QRU0pO1xuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuRk9SS0lORyk7XG4gICAgICAgIHNlc3Npb25EYXRhLm91dENhcGFiaWxpdGllcyA9IEpTT04uc3RyaW5naWZ5KGNhcGFiaWxpdGllcyk7XG4gICAgfVxuICAgIHNlc3Npb24uZXZlbnRzID0gSlNPTi5zdHJpbmdpZnkoZXZlbnRzKTtcbiAgICBzZXNzaW9uLmhlYWRlcnJ1bGV2YXI9SlNPTi5zdHJpbmdpZnkoaGVhZGVyVmFycyk7XG4gICAgc2Vzc2lvbi5oZWFkZXJydWxlc3NlbGVjdCA9IFwiU2lwU2VydmljZVNwZWNpZmljUnVsZXNTZXRcIjtcbiAgICBzZXNzaW9uLnJpbmdpbmd0b25lcyA9IEpTT04uc3RyaW5naWZ5KHJpbmdpbmdUb25lcyk7XG4gICAgc2Vzc2lvbi51cHN0cmVhbUNhcGFiaWxpdGllcz1KU09OLnN0cmluZ2lmeShbXSk7XG4gICAgc3RhdHVzMiA9IFwic3VjY2Vzc1wiO1xuICAgIHJldHVybiByZXQ7XG59XG4iXX0=