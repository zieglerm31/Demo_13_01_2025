"use strict";
var Capabilities;
(function (Capabilities) {
    Capabilities["REL1XX"] = "REL1XX";
    Capabilities["FORKING"] = "FORKING";
    Capabilities["PRECONDITION"] = "PRECONDITION";
    Capabilities["PEM"] = "PEM";
    Capabilities["UPDATE"] = "UPDATE";
})(Capabilities || (Capabilities = {}));
var Annotype;
(function (Annotype) {
    Annotype["CONNECT"] = "CONNECT";
    Annotype["RINGING"] = "RING";
})(Annotype || (Annotype = {}));
var CallPollActionType;
(function (CallPollActionType) {
    CallPollActionType["Accept"] = "accept";
    CallPollActionType["Forward"] = "forward";
    CallPollActionType["Reject"] = "reject";
})(CallPollActionType || (CallPollActionType = {}));
var CallStartActionType;
(function (CallStartActionType) {
    CallStartActionType[CallStartActionType["Abort"] = 0] = "Abort";
    CallStartActionType[CallStartActionType["Forward"] = 1] = "Forward";
    CallStartActionType[CallStartActionType["RejectMrf"] = 2] = "RejectMrf";
})(CallStartActionType || (CallStartActionType = {}));
var MediaOperationActionType;
(function (MediaOperationActionType) {
    MediaOperationActionType["PerformMediaOperation"] = "performMediaOperation";
})(MediaOperationActionType || (MediaOperationActionType = {}));
var MediaOperationContentType;
(function (MediaOperationContentType) {
    MediaOperationContentType["MSML"] = "application/msml+xml";
})(MediaOperationContentType || (MediaOperationContentType = {}));
;
;
function SendINFOPromptandCollect(session, event, localParams) {
    var log = session.log;
    log.debug("SendINFOPromptandCollect: mrf_param {}:", session["mrf_param"]);
    var mrf_used = {};
    mrf_used = {
        "announcement": "default",
        "collect": {
            "cleardb": "true",
            "edt": "1s",
            "fdt": "3s",
            "idt": "2s",
            "iterate": "1"
        },
        "play": {
            "barge": "true",
            "maxtime": "11s",
            "interval": "1",
            "cleardb": "true",
            "offset": "0",
            "audioiterate": "1",
            "audiouri": "file:///appl/wav/tictac.wav"
        },
        "pattern": {
            "digits": "[1-2]",
            "format": "regex"
        }
    };
    log.debug("SendINFOPromptandCollect: mrf_default {}:", JSON.stringify(mrf_used));
    var content = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<msml  version=\"1.1\">\n<dialogstart name=\"dialognamedefault\" target=\"conn:";
    content = content + session["mrf"]["downStreamToTag"];
    content = content + "\" type=\"application/moml+xml\">\n";
    var collect = false;
    var mrfx_used = {};
    var key = "";
    if (session["mrf_param"]["collect"] != null) {
        for (key in session["mrf_param"]["collect"])
            mrfx_used["collect"][key] = session["mrf_param"]["collect"][key];
        for (key in session["mrf_param"]["collect"])
            mrfx_used["pattern"][key] = session["mrf_param"]["pattern"][key];
        for (key in session["mrf_param"]["collect"])
            mrfx_used["play"][key] = session["mrf_param"]["play"][key];
        log.debug("SendINFOPromptandCollect: mrfx_used {}:", JSON.stringify(mrfx_used));
        mrf_used["collect"] = session["mrf_param"]["collect"];
        mrf_used["pattern"] = session["mrf_param"]["pattern"];
        mrf_used["play"] = session["mrf_param"]["play"];
        log.debug("SendINFOPromptandCollect: use collect");
        collect = true;
    }
    else {
        for (key in session["mrf_param"]["collect"])
            mrfx_used["play"][key] = session["mrf_param"]["play"][key];
        log.debug("SendINFOPromptandCollect: mrfx_used {}:", JSON.stringify(mrfx_used));
        mrf_used["play"] = session["mrf_param"]["play"];
        log.debug("SendINFOPromptandCollect: use announcement");
        collect = false;
    }
    log.debug("SendINFOPromptandCollect: mrf_used {}:", JSON.stringify(mrf_used));
    if (collect == true) {
        content = content + "<collect  cleardb=\"" + mrf_used["collect"]["cleardb"] + "\" edt=\"" + mrf_used["collect"]["edt"] + "\" fdt=\"" + mrf_used["collect"]["fdt"] + "\" idt=\"" + mrf_used["collect"]["idt"] + "\"  iterate=\"" + mrf_used["collect"]["iterate"] + "\">\n";
        content = content + "<play barge=\"" + mrf_used["play"]["barge"] + "\"> maxtime=\"" + mrf_used["play"]["maxtime"] + "\" <audio uri=\"" + mrf_used["play"]["audiouri"] + "\"/> </play>\n";
        content = content + "<pattern digits=\"" + mrf_used["pattern"]["digits"] + "\">  <send target=\"source\" event=\"done\" namelist=\"dtmf.digits dtmf.end\"/> </pattern>\n";
        content = content + "<noinput> <send target=\"source\" event=\"done\" namelist=\"dtmf.end\"/> </noinput>\n";
        content = content + "<nomatch> <send target=\"source\" event=\"done\" namelist=\"dtmf.end\"/> </nomatch>\n";
        content = content + "</collect>\n";
    }
    else {
        content = content + "<play barge=\"" + mrf_used["play"]["barge"] + "\" maxtime=\"" + mrf_used["play"]["maxtime"] + "\" interval=\"" + mrf_used["play"]["interval"] + "\" cleardb=\"" + mrf_used["play"]["cleardb"] + "\" offset=\"" + mrf_used["play"]["offset"] + "\">\n";
        content = content + "<audio uri=\"" + mrf_used["play"]["audiouri"] + "\" iterate=\"" + mrf_used["play"]["audioiterate"] + "\"/>\n";
        content = content + "<playexit>\n<exit namelist=\"play.end play.amt\"/>\n</playexit>\n";
        content = content + "</play>";
    }
    content = content + "</dialogstart>\n</msml>\n";
    var outevent = {
        "callid": session["fsm-id"],
        "event-type": "sip",
        "queue": "TASV4_1",
        "id": 2,
        "action": {
            "legaction": "performMediaOperation",
            "performMediaOperation": {
                "ContentType": "application/msml+xml",
                "Content": content
            },
            "type": 3
        },
        "event-name": "sip.media.playAnnouncement",
        "eventname": "callEarlyAnswered",
        "session": session["fsm-id"]
    };
    delete session["mrf_param"];
    return outevent;
}
function inputvalidation(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"] = {};
        if (session["s_SIPInvite"] != null) {
            if (session["s_SIPInvite"]["event-type"] !== null && (session["s_SIPInvite"]["event-type"] === "sip" || session["s_SIPInvite"]["event-type"] === "occp")) {
                if (session["s_SIPInvite"]["event-name"] !== null && session["s_SIPInvite"]["event-name"] === "sip.callStart.NONE")
                    log.debug("got sip invite");
                else
                    return "error.input.sipinviteincorrecteventname";
            }
            else {
                return "error.input.sipinviteincorrecteventtype";
            }
        }
        else {
            return "error.input.sipinvitemissing";
        }
        if (session["mrf_param"] != null) {
            if (session["mrf_param"]["earlydialog"] != null) {
                log.debug("mrf earlydialog present and {}", session["mrf_param"]["earlydialog"]);
            }
            else {
                session["mrf_param"]["earlydialog"] = true;
                log.debug("mrf earlydialog not present - use default");
            }
        }
        else {
            log.debug("mrf object not present - use default");
            session["mrf_param"]["earlydialog"] = true;
        }
        return session["mrf_param"]["earlydialog"];
    }
    catch (e) {
        log.debug("Log.inputvalidation: {}", e);
        return "error.exception";
    }
}
function armMRFevents(sessionData, eventData, localParams) {
    var ret;
    var status2;
    var events;
    events = events || {};
    events.InfoPollEvent = "null";
    events.SuccessResponsePollEvent = "null";
    events.RawContentPollEvent = "test/test";
    var headerVars;
    headerVars = headerVars || {};
    headerVars.disableSendDefaultReason = "Disabled";
    headerVars.disableSendNoAnswerReason = "Disabled";
    var ringingTones;
    ringingTones = ringingTones || [];
    var comf;
    comf = comf || {};
    comf.anno_name = "comfort";
    comf.anno_type = Annotype.CONNECT;
    var ring;
    ring = ring || {};
    ring.anno_name = "ringing";
    ring.anno_type = Annotype.RINGING;
    ringingTones.push(comf, ring);
    var capabilities = sessionData.inCapabilities;
    if (capabilities != null) {
        capabilities.push(Capabilities.PEM);
        capabilities.push(Capabilities.FORKING);
        capabilities.push(Capabilities.UPDATE);
        capabilities.push(Capabilities.INFO);
        sessionData.outCapabilities = JSON.stringify(capabilities);
    }
    sessionData.events = JSON.stringify(events);
    sessionData.headerrulevar = JSON.stringify(headerVars);
    sessionData.headerrulesselect = "SipServiceSpecificRulesSet";
    sessionData.ringingtones = JSON.stringify(ringingTones);
    sessionData.upstreamCapabilities = JSON.stringify([]);
    return "success";
}
function handle200OKINVITE(session, event, localParams) {
    var log = session.log;
    try {
        var eventData = localParams.message;
        session["mrf"]["headerrulevar=null"];
        session["mrf"]["headerrulesselect"] = null;
        session["mrf"]["ringingtones"] = null;
        var pollAction = void 0;
        pollAction = pollAction || {};
        pollAction.type = CallPollActionType.Accept;
        session.sendAction = JSON.stringify(pollAction);
        session["mrf"]["time200OKINVITE"] = Math.floor(new Date() / 1000);
        var to = eventData.SIP.To;
        if (to != null) {
            log.debug("received from MRF to tag:{}", to);
            session["mrf"]["callstate"] = "MRFCONNECTED200OK";
            session["mrf"]["downStreamToTag"] = to.tag;
            return "success";
        }
        else {
            log.debug("received from MRF no to tag:{}", to);
            return "error.nototag";
        }
    }
    catch (e) {
        log.debug("handle200OKINVITE Log: {}", e);
        return "error.exception";
    }
}
function handle200OKINFO(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["time200OKINFO"] = Math.floor(new Date() / 1000);
        session["mrf"]["callstate"] = "MRFCONNECTED";
        if (event["event-name"] == "sip.mediaOperationNotification.*") {
            if (event.event["type"] == "200") {
                if (event.SIP.content.json.msml.result.description == "OK") {
                    log.debug("handle200OKINFO:Recevied 200OKINFO and its ok");
                    session["mrf"]["dtmfdigits"] = "initialized";
                    return "received.OK";
                }
                else {
                    log.debug("handle200OKINFO:Recevied 200OKINFO and its NOT ok {}", event.SIP.content.json.msml.result.description);
                    return "received.NOK";
                }
            }
            else if (event.event["type"] == "INFO") {
                if (event.SIP.content.json.msml.event.name != null && event.SIP.content.json.msml.event.name.size() > 1) {
                    for (var i = 0; i <= event.SIP.content.json.msml.event.name.size() - 1; i++) {
                        log.debug("handle200OKINFO:index and event-name {} - {}", i, event.SIP.content.json.msml.event.name.get(i));
                        if (event.SIP.content.json.msml.event.name.get(i).equals("dtmf.digits")) {
                            log.debug("handle200OKINFO:received dtmf.digits as {}", event.SIP.content.json.msml.event.value[i - 1]);
                            session["mrf"]["dtmfdigits"] = event.SIP.content.json.msml.event.value[i - 1];
                        }
                        else if (event.SIP.content.json.msml.event.name.get(i).equals("dtmf.end")) {
                            log.debug("handle200OKINFO:received dtmf.end");
                        }
                        else if (event.SIP.content.json.msml.event.name.get(i).equals("msml.dialog.exit")) {
                            log.debug("handle200OKINFO:received msml.dialog.exit - return with MRF dialog closed.");
                            return "mrfdialog.closed";
                        }
                        else {
                            log.debug("handle200OKINFO:received other event name");
                        }
                    }
                }
                log.debug("handle200OKINFO:Return the decoded dtmf.digits: {}", session["mrf"]["dtmfdigits"]);
                return session["mrf"]["dtmfdigits"];
            }
            else {
                return "unexpectedeventtype." + event.event["type"];
            }
        }
    }
    catch (e) {
        log.debug("handle200OKINFO:Log: {}", e);
        return "error.exception";
    }
}
function mrfreturn(session, event, localParams) {
    return "dtmf.digit." + session["mrf"]["dtmfdigits"];
}
function callAnswered(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["callstate"] = "ANSWERED";
        session["mrf"]["answertime"] = Math.floor(new Date() / 1000);
        return "success";
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.exception";
    }
}
function checkDisconnectReason(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["callstate"] = "ConnectError";
        session["mrf"]["connecterrortime"] = Math.floor(new Date() / 1000);
        var eventsStack = event['events-stack'];
        if (eventsStack != null && eventsStack.size() > 0) {
            for (var i = eventsStack.size() - 1; i >= 0; i--) {
                if (eventsStack.get(i).equals("leg.timeout") && i >= (eventsStack.size() - 2)) {
                    session.loginfo = session.loginfo + "TIMEOUT;";
                    return "error.mrf.connect.timeout";
                }
            }
        }
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.mrf.connect.exception";
    }
    return "error.mrf.connect.others";
}
function setrelease(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["callstate"] = "Released";
        session["mrf"]["releasetime"] = Math.floor(new Date() / 1000);
        return "success";
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.release";
    }
}
function prepareCallRouting(session, eventData, localParams) {
    var ret;
    ret = ret || {};
    ret.resultCode = "success";
    var status2;
    var events;
    events = events || {};
    events.InfoPollEvent = "null";
    events.SuccessResponsePollEvent = "null";
    events.RawContentPollEvent = "test/test";
    var headerVars;
    headerVars = headerVars || {};
    headerVars.disableSendDefaultReason = "Disabled";
    headerVars.disableSendNoAnswerReason = "Disabled";
    var ringingTones;
    ringingTones = ringingTones || [];
    var comf;
    comf = comf || {};
    comf.anno_name = "comfort";
    comf.anno_type = Annotype.CONNECT;
    var ring;
    ring = ring || {};
    ring.anno_name = "ringing";
    ring.anno_type = Annotype.RINGING;
    ringingTones.push(comf, ring);
    var capabilities = sessionData.inCapabilities;
    if (capabilities != null) {
        capabilities.push(Capabilities.PEM);
        capabilities.push(Capabilities.FORKING);
        sessionData.outCapabilities = JSON.stringify(capabilities);
    }
    session.events = JSON.stringify(events);
    session.headerrulevar = JSON.stringify(headerVars);
    session.headerrulesselect = "SipServiceSpecificRulesSet";
    session.ringingtones = JSON.stringify(ringingTones);
    session.upstreamCapabilities = JSON.stringify([]);
    status2 = "success";
    return ret;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFXQSxJQUFLLFlBTUo7QUFORCxXQUFLLFlBQVk7SUFDZixpQ0FBaUIsQ0FBQTtJQUNqQixtQ0FBa0IsQ0FBQTtJQUNsQiw2Q0FBMkIsQ0FBQTtJQUMzQiwyQkFBUyxDQUFBO0lBQ1QsaUNBQWUsQ0FBQTtBQUNqQixDQUFDLEVBTkksWUFBWSxLQUFaLFlBQVksUUFNaEI7QUFzREQsSUFBSyxRQUdKO0FBSEQsV0FBSyxRQUFRO0lBQ1gsK0JBQW1CLENBQUE7SUFDbkIsNEJBQWdCLENBQUE7QUFDbEIsQ0FBQyxFQUhJLFFBQVEsS0FBUixRQUFRLFFBR1o7QUF1QkQsSUFBSyxrQkFJSjtBQUpELFdBQUssa0JBQWtCO0lBQ3RCLHVDQUFpQixDQUFBO0lBQ2pCLHlDQUFtQixDQUFBO0lBQ25CLHVDQUFpQixDQUFBO0FBQ2xCLENBQUMsRUFKSSxrQkFBa0IsS0FBbEIsa0JBQWtCLFFBSXRCO0FBRUQsSUFBSyxtQkFJSjtBQUpELFdBQUssbUJBQW1CO0lBQ3ZCLCtEQUFTLENBQUE7SUFDVCxtRUFBVyxDQUFBO0lBQ1gsdUVBQWEsQ0FBQTtBQUNkLENBQUMsRUFKSSxtQkFBbUIsS0FBbkIsbUJBQW1CLFFBSXZCO0FBZ0NELElBQUssd0JBRUo7QUFGRCxXQUFLLHdCQUF3QjtJQUM1QiwyRUFBK0MsQ0FBQTtBQUNoRCxDQUFDLEVBRkksd0JBQXdCLEtBQXhCLHdCQUF3QixRQUU1QjtBQUVELElBQUsseUJBRUo7QUFGRCxXQUFLLHlCQUF5QjtJQUM3QiwwREFBNkIsQ0FBQTtBQUM5QixDQUFDLEVBRkkseUJBQXlCLEtBQXpCLHlCQUF5QixRQUU3QjtBQW1GRCxDQUFDO0FBQ0QsQ0FBQztBQW1HRCxTQUFTLHdCQUF3QixDQUFDLE9BQWEsRUFBRSxLQUFXLEVBQUUsV0FBZ0I7SUFHMUUsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FB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LEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDOUIsSUFBSSxZQUFZLEdBQUcsV0FBVyxDQUFDLGNBQWMsQ0FBQztJQUM5QyxJQUFJLFlBQVksSUFBRSxJQUFJLEVBQUM7UUFDbkIsWUFBWSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDcEMsWUFBWSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDeEMsV0FBVyxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO0tBQzlEO0lBQ0QsT0FBTyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3hDLE9BQU8sQ0FBQyxhQUFhLEdBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNqRCxPQUFPLENBQUMsaUJBQWlCLEdBQUcsNEJBQTRCLENBQUM7SUFDekQsT0FBTyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3BELE9BQU8sQ0FBQyxvQkFBb0IsR0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ2hELE9BQU8sR0FBRyxTQUFTLENBQUM7SUFDcEIsT0FBTyxHQUFHLENBQUM7QUFDZixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiXG4vL2ludGVyZmFjZSBkZWZpbml0aW9uXHJcblxyXG5pbnRlcmZhY2UgTGVnIHtcclxuICBhZGRyZXNzIDogc3RyaW5nO1xyXG4gIG5hbWUgOiBzdHJpbmdcclxufVxyXG5pbnRlcmZhY2UgQ2FsbCB7XHJcbiAgc3RhdGUgOiBudW1iZXJcclxufVxyXG5cclxuZW51bSBDYXBhYmlsaXRpZXMge1xyXG4gIFJFTDFYWCA9IFwiUkVMMVhYXCIsXHJcbiAgRk9SS0lORz0gXCJGT1JLSU5HXCIsXHJcbiAgUFJFQ09ORElUSU9OPVwiUFJFQ09ORElUSU9OXCIsXHJcbiAgUEVNPVwiUEVNXCIsXHJcbiAgVVBEQVRFPVwiVVBEQVRFXCJcclxufVxyXG5cclxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xyXG4gIG1ldGhvZCA6IFtzdHJpbmddO1xyXG4gIHR5cGUgOiBbc3RyaW5nXTtcclxuICBib2R5IDogW3N0cmluZ11cclxufVxyXG5cclxuaW50ZXJmYWNlIFNJUCB7XHJcbiAgY2FwYWJpbGl0aWVzIDogW0NhcGFiaWxpdGllc107XHJcbiAgbWVzc2FnZSA6IE1lc3NhZ2VcclxufVxyXG5cclxuaW50ZXJmYWNlIENhbGxTdGFydCB7XHJcbiAgY29udGFjdCA6IHN0cmluZztcclxuICBjYXVzZTogc3RyaW5nO1xyXG4gIGxlZyA6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2FsbFBvbGwge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICB0eXBlOiBzdHJpbmc7XHJcbiAgbGVnOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIEV2ZW50IHtcclxuICBuYW1lIDogc3RyaW5nO1xyXG4gIGNhbGxTdGFydD8gOiBDYWxsU3RhcnQ7XHJcbiAgY2FsbFBvbGw/IDogQ2FsbFBvbGxcclxufVxyXG5cclxuXHJcbmludGVyZmFjZSBPQ0NQRXZlbnQge1xyXG4gIGNhbGxpZCA6IHN0cmluZztcclxuICBjYWxsIDogQ2FsbDtcclxuICBhcyA6IHN0cmluZztcclxuICBldmVudHRpbWUgOiBudW1iZXI7XHJcbiAgU0lQIDogU0lQO1xyXG4gIGV2ZW50OiBFdmVudFxyXG59XHJcblxyXG5pbnRlcmZhY2UgRXZlbnRzIHtcclxuICBTdWNjZXNzUmVzcG9uc2VQb2xsRXZlbnQ/IDogc3RyaW5nO1xyXG4gIFJhd0NvbnRlbnRQb2xsRXZlbnQ/IDogc3RyaW5nO1xyXG4gIEluZm9Qb2xsRXZlbnQ/OiBzdHJpbmdcclxufVxyXG4vKipcclxuICBEZWZpbmUgaGVhZGVyIHZhcmlhYmxlcyB1c2VkIGJ5IGFwcGxpY2F0aW9uXHJcbiovXHJcbmludGVyZmFjZSBIZWFkZXJWYXJzIHtcclxuICBkaXNhYmxlU2VuZERlZmF1bHRSZWFzb24/IDogc3RyaW5nO1xyXG4gIGRpc2FibGVTZW5kTm9BbnN3ZXJSZWFzb24/IDogc3RyaW5nXHJcbn1cclxuXHJcbmVudW0gQW5ub3R5cGUge1xyXG4gIENPTk5FQ1QgPSBcIkNPTk5FQ1RcIixcclxuICBSSU5HSU5HID0gXCJSSU5HXCJcclxufVxyXG5cclxuaW50ZXJmYWNlIFJpbmdpbmdUb25lIHtcclxuICBhbm5vX25hbWUgOiBzdHJpbmc7XHJcbiAgYW5ub190eXBlIDogQW5ub3R5cGVcclxufVxyXG5cclxuaW50ZXJmYWNlIFNlc3Npb24ge1xyXG4gIGxvZyA6IGFueTtcclxuICBpbkNhcGFiaWxpdGllcyA6IFtDYXBhYmlsaXRpZXNdO1xyXG4gIG91dENhcGFiaWxpdGllcz8gOiBzdHJpbmc7XHJcbiAgZXZlbnRzPyA6IHN0cmluZztcclxuICBoZWFkZXJydWxldmFyPyA6IHN0cmluZztcclxuICBoZWFkZXJydWxlc3NlbGVjdD8gOiBzdHJpbmc7XHJcbiAgcmluZ2luZ3RvbmVzPyA6IHN0cmluZztcclxuICBzZW5kQWN0aW9uPyA6IHN0cmluZyA7XHJcbiAgU0lQSGVscGVyIDogYW55O1xyXG4gIFNJUEluaXRpYWxJbnZpdGU/IDogYW55O1xyXG4gIFNJUE1lc3NhZ2U/IDogYW55O1xyXG4gIFNJUE1lc3NhZ2VUeXBlPyA6IGFueVxyXG59XHJcblxyXG5cclxuZW51bSBDYWxsUG9sbEFjdGlvblR5cGUge1xyXG4gQWNjZXB0ID0gXCJhY2NlcHRcIixcclxuIEZvcndhcmQgPSBcImZvcndhcmRcIixcclxuIFJlamVjdCA9IFwicmVqZWN0XCIsXHJcbn1cclxuXHJcbmVudW0gQ2FsbFN0YXJ0QWN0aW9uVHlwZSB7XHJcbiBBYm9ydCA9IDAsXHJcbiBGb3J3YXJkID0gMSxcclxuIFJlamVjdE1yZiA9IDJcclxufVxyXG5cclxuXHJcblxyXG4vKipcclxuIFNldCBhY3Rpb24gZm9yIENhbGxTdGFydCBldmVudFxyXG4qL1xyXG5pbnRlcmZhY2UgQ2FsbFN0YXJ0QWN0aW9uIHtcclxuIHR5cGUgOiBDYWxsU3RhcnRBY3Rpb25UeXBlO1xyXG4gZXJyb3Jjb2RlIDogbnVtYmVyO1xyXG4gY2F1c2UgOiBzdHJpbmcgO1xyXG4gdXJpIDogc3RyaW5nO1xyXG4gZWFybHltZWRpYSA6IG51bWJlcjtcclxuIGxlZ25hbWUgOiBzdHJpbmcgXHJcbn1cclxuXHJcbi8qKlxyXG4gU2V0IGFjdGlvbiBmb3IgQ2FsbFBvbGwgZXZlbnRcclxuKi9cclxuaW50ZXJmYWNlIENhbGxQb2xsQWN0aW9uIHtcclxuIHR5cGUgOiBDYWxsUG9sbEFjdGlvblR5cGVcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gQXBwbGljYXRpb24gY2FuIHNldCBhY3Rpb24gZm9yIGEgc3BlY2lmaWMgbGVnLCB0aGlzIGlzIGFwcGxpY2FibGUgZm9yIE1SRiBjb250YWN0XHJcbiAqL1xyXG5pbnRlcmZhY2UgTGVnQWN0aW9uIHtcclxuIHR5cGUgOiBDYWxsU3RhcnRBY3Rpb25UeXBlIDtcclxuIGxlZ2FjdGlvbiA6IHN0cmluZ1xyXG59XHJcblxyXG5lbnVtIE1lZGlhT3BlcmF0aW9uQWN0aW9uVHlwZSB7XHJcbiBQZXJmb3JtTWVkaWFPcGVyYXRpb24gPSBcInBlcmZvcm1NZWRpYU9wZXJhdGlvblwiXHJcbn1cclxuXHJcbmVudW0gTWVkaWFPcGVyYXRpb25Db250ZW50VHlwZSB7XHJcbiBNU01MID0gXCJhcHBsaWNhdGlvbi9tc21sK3htbFwiXHJcbn1cclxuXHJcbmludGVyZmFjZSBQZXJmb3JtTWVkaWFPcGVyYXRpb24ge1xyXG4gQ29udGVudFR5cGUgOiBNZWRpYU9wZXJhdGlvbkNvbnRlbnRUeXBlO1xyXG4gQ29udGVudCA6IHN0cmluZ1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTWVkaWFPcGVyYXRpb25BY3Rpb24ge1xyXG4gdHlwZSA6IG51bWJlcjtcclxuIGxlZ2FjdGlvbiA6IE1lZGlhT3BlcmF0aW9uQWN0aW9uVHlwZTtcclxuIHBlcmZvcm1NZWRpYU9wZXJhdGlvbiA6IFBlcmZvcm1NZWRpYU9wZXJhdGlvblxyXG59XHJcblxyXG5pbnRlcmZhY2UgQWN0aW9uIHtcclxuIGFjdGlvbiA6IGFueSBcclxufVxyXG5cclxuXHJcbmludGVyZmFjZSBIZWFkZXIge1xyXG4gaGVhZGVyIDogc3RyaW5nO1xyXG4gdmFsdWUgOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBRSGVhZGVyIHtcclxuIFByaXZhY3kgOiBzdHJpbmc7XHJcbiBSZWFzb24gOiBzdHJpbmcgO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUGFyYW1ldGVyIHtcclxuIHRyYW5zcG9ydCA6IHN0cmluZztcclxuIHVzZXIgOiBzdHJpbmcgO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVVJJIHtcclxuIHNjaGVtZSA6IHN0cmluZztcclxuIGF1dGhvcml0eSA6IHN0cmluZyA7XHJcbiBnciA6IHN0cmluZyA7XHJcbiBob3N0OiBzdHJpbmcgO1xyXG4gbHIgOiBzdHJpbmcgO1xyXG4gbWFkZHIgOiBzdHJpbmcgO1xyXG4gcG9ydCA6IG51bWJlciAgO1xyXG4gdXNlciA6IHN0cmluZyA7XHJcbiBwYXJhbWV0ZXJzIDogW1BhcmFtZXRlcl07XHJcbiBxaGVhZGVyIDogW1FIZWFkZXJdO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQWRkcmVzcyB7XHJcbiBkaXNwbGF5TmFtZSA6IHN0cmluZztcclxuIHVyaSA6IFVSSSBcclxufVxyXG5cclxuaW50ZXJmYWNlIEhpc3RvcnlJbmZvIGltcGxlbWVudHMgSGVhZGVyIHtcclxuIGFkZHJlc3MgOiBBZGRyZXNzO1xyXG4gaW5kZXggOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIFBBSSBpbXBsZW1lbnRzIEhlYWRlciAge1xyXG4gYWRkcmVzcyA6IEFkZHJlc3NcclxufVxyXG5cclxuaW50ZXJmYWNlIEZyb20gaW1wbGVtZW50cyBIZWFkZXIge1xyXG4gYWRkcmVzcyA6IEFkZHJlc3M7XHJcbiB0YWcgOiBzdHJpbmcgO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgVG8gaW1wbGVtZW50cyBIZWFkZXIge1xyXG4gYWRkcmVzcyA6IEFkZHJlc3M7XHJcbiB0YWcgOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBQQ1YgaW1wbGVtZW50cyBIZWFkZXIge1xyXG4gaWNpZF9nZW5lcmF0ZWRfYXQ6IHN0cmluZyA7XHJcbiBpY2lkX3ZhbHVlIDogc3RyaW5nIDtcclxuIG9haWQgOiBzdHJpbmc7XHJcbiB0YWlkIDogc3RyaW5nO1xyXG4gb3NpZCA6IHN0cmluZztcclxuIHRzaWQgOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBSZXN1bHRDb2RlIHtcclxuICByZXN1bHRDb2RlIDogc3RyaW5nIDtcclxufVxyXG5cbjsvL01BSU5CTE9DS1xuO1xuLypcbi8vY29uZmlnIGlzIFwibXJmX2Fubm91bmNlbWVudHNcIlxue1xuICBcImFubm9UZXN0XCI6IHtcbiAgICBcIm1heHRpbWVcIjogMTUwMCxcbiAgICBcInBhdGhcIjogXCJmaWxlOi8vL3RtcC9hbm5vcy9cIixcbiAgICBcInZhcmlhYmxlXCI6IFwiXCIsXG4gICAgXCJiYXJnZVwiOiAxLFxuICAgIFwicHJvbXB0XCI6IFwidGVzdEFubm8ud2F2XCIsXG4gICAgXCJkdG1mXCI6IHtcbiAgICAgIFwiY2xlYXJkYlwiOiAxLFxuICAgICAgXCJpZHRcIjogMSxcbiAgICAgIFwiZmR0XCI6IDEsXG4gICAgICBcIm1pblwiOiAxLFxuICAgICAgXCJtYXhcIjogMSxcbiAgICAgIFwicnRmXCI6IFwiKlwiLFxuICAgICAgXCJjYW5jZWxcIjogXCIjXCJcbiAgICB9LFxuICAgIFwiYW5uaWRcIjogXCJhbm5vUHJvbXB0Q29sbGVjdFwiLFxuICAgIFwiaW50ZXJ2YWxcIjogMTAwLFxuICAgIFwiaXRlcmF0ZVwiOiAxLFxuICAgIFwiY2xlYXJkYlwiOiAxXG4gIH0sXG59XG5cbi8vIFhNTCBpbiBuZXh1cy1zaXAuMy4wLjEtMS5qYXJcbjw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCI/PiBcbjxtc21sIHZlcnNpb249XCIxLjFcIj4gXG5cdDxkaWFsb2dzdGFydCBuYW1lPVwiYW5ub1Byb21wdENvbGxlY3RcIiB0YXJnZXQ9XCJjb25uOmNhNDU4NTUxXCIgdHlwZT1cImFwcGxpY2F0aW9uL21vbWwreG1sXCI+IFxuXHRcdDxwbGF5IGludGVydmFsPVwiMTAwbXNcIiBpdGVyYXRlPVwiMVwiIGNsZWFyZGI9XCJ0cnVlXCIgbWF4dGltZT1cIjUwMDAwbXNcIiBiYXJnZT1cInRydWVcIj4gXG5cdFx0XHQ8YXVkaW8gdXJpPVwiZmlsZTovLy9hcHBsL3dhdi9zaW1wbGVwbGF5LndhdlwiLz4gXG5cdFx0XHQ8cGxheWV4aXQ+IFxuXHRcdFx0XHQ8ZXhpdCBuYW1lbGlzdD1cInBsYXkuZW5kIHBsYXkuYW10XCIvPiBcblx0XHRcdDwvcGxheWV4aXQ+IFxuXHRcdDwvcGxheT4gXG5cdDwvZGlhbG9nc3RhcnQ+IFxuPC9tc21sPlxuXHQgIFxuLy8gWE1MIGluIG5leHVzLXNpcC4zLjAuPz8/IGZ1dHVyZSAtIHN1cHBvcnQgcHJvbXB0IGFuZCBjb2xsZWN0XG4vLyBwYXR0ZXJuIGRpZ2l0cyB4IGlzIHdpbGRjYXJkLCB4eCBhcmUgdHdvIHdpbGRjYXJkIGRpZ2l0cywgMSBpcyB0aGUgZGlnaXQgb25lIGV4YWN0bHksIFxuLy8gPHBhdHRlcm4gZGlnaXRzPVwiMVwiIGl0ZXJhdGU9XCJmb3JldmVyXCI+ICBcbnVzaW5nIGNvbGxlY3Rcbjw/eG1sIHZlcnNpb249XCIxLjBcIj8+XG48bXNtbCB2ZXJzaW9uPVwiMS4xXCI+XG5cdDxkaWFsb2dzdGFydCB0YXJnZXQ9XCJjb25uOiR7VEFSR0VUfVwiIHR5cGU9XCJhcHBsaWNhdGlvbi9tb21sK3htbFwiIG5hbWU9XCJkaWFsb2duYW1lZGVmYXVsdFwiPlxuXHRcdDxncm91cCB0b3BvbG9neT1cInBhcmFsbGVsXCI+XG5cdFx0XHQ8cGxheSBpZD1cImJlZm9yZWJhcmdlcGxheVwiPlxuXHRcdFx0XHQ8YXVkaW8gdXJpPVwiZmlsZTovLy9hcHBsL3dhdi9zaW1wbGVwbGF5LndhdlwiIGZvcm1hdD1cImF1ZGlvL3dhdlwiICAvPlxuXHRcdFx0XHQ8cGxheWV4aXQ+XG5cdFx0XHRcdFx0PHNlbmQgdGFyZ2V0PVwiY29sbGVjdFwiIGV2ZW50PVwic3RhcnR0aW1lclwiLz5cblx0XHRcdFx0PC9wbGF5ZXhpdD5cblx0XHRcdDwvcGxheT5cblx0XHRcdDxjb2xsZWN0IGNsZWFyZGI9XCJ0cnVlXCIgZmR0PVwiNXNcIiBpZHQ9XCIzc1wiPlxuXHRcdFx0XHQ8cGF0dGVybiBkaWdpdHM9XCJ4XCI+XG5cdFx0XHRcdFx0PHNlbmQgdGFyZ2V0PVwic291cmNlXCIgZXZlbnQ9XCJkaWFsb2duYW1lZGVmYXVsdFwiIG5hbWVsaXN0PVwiZHRtZi5kaWdpdHMgZHRtZi5lbmRcIi8+XG5cdFx0XHRcdDwvcGF0dGVybj5cblx0XHRcdFx0PGRldGVjdD5cblx0XHRcdFx0XHQ8c2VuZCB0YXJnZXQ9XCJwbGF5LmJlZm9yZWJhcmdlcGxheVwiIGV2ZW50PVwidGVybWluYXRlXCIvPlxuXHRcdFx0XHQ8L2RldGVjdD5cblx0XHRcdFx0PG5vaW5wdXQ+XG5cdFx0XHRcdFx0PHNlbmQgdGFyZ2V0PVwic291cmNlXCIgZXZlbnQ9XCJkaWFsb2duYW1lZGVmYXVsdFwiIG5hbWVsaXN0PVwiZHRtZi5kaWdpdHMgZHRtZi5lbmRcIi8+XG5cdFx0XHRcdDwvbm9pbnB1dD5cblx0XHRcdFx0PG5vbWF0Y2g+XG5cdFx0XHRcdFx0PHNlbmQgdGFyZ2V0PVwic291cmNlXCIgZXZlbnQ9XCJkaWFsb2duYW1lZGVmYXVsdFwiIG5hbWVsaXN0PVwiZHRtZi5kaWdpdHMgZHRtZi5lbmRcIi8+XG5cdFx0XHRcdDwvbm9tYXRjaD5cblx0XHRcdDwvY29sbGVjdD5cblx0XHQ8L2dyb3VwPlxuXHQ8L2RpYWxvZ3N0YXJ0PlxuPC9tc21sPlxuXG4gICAgICA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz5cbiAgICAgIDxtc21sIHZlcnNpb249XCIxLjFcIj5cbiAgICAgICA8ZGlhbG9nc3RhcnQgdGFyZ2V0PVwiY29ubjoxMjM0NVwiIG5hbWU9XCIxMjM0NVwiPlxuXG4gICAgICAgICA8Y29sbGVjdCBmZHQ9XCIxMHNcIiBpZHQ9XCIxNnNcIj5cbiAgICAgICAgICAgIDxwbGF5IGJhcmdlPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgPGF1ZGlvIHVyaT1cImZpbGU6Ly9wcm9tcHQud2F2XCIvPlxuICAgICAgICAgICAgPC9wbGF5PlxuICAgICAgICAgICAgPHBhdHRlcm4gZGlnaXRzPVwieHh4eCNcIj5cbiAgICAgICAgICAgICAgIDxzZW5kIHRhcmdldD1cInNvdXJjZVwiIGV2ZW50PVwiZG9uZVwiXG4gICAgICAgICAgICAgICAgICAgICBuYW1lbGlzdD1cImR0bWYuZGlnaXRzIGR0bWYuZW5kXCIvPlxuICAgICAgICAgICAgPC9wYXR0ZXJuPlxuICAgICAgICAgICAgPG5vaW5wdXQ+XG4gICAgICAgICAgICAgICA8c2VuZCB0YXJnZXQ9XCJzb3VyY2VcIiBldmVudD1cImRvbmVcIlxuICAgICAgICAgICAgICAgICAgICAgbmFtZWxpc3Q9XCJkdG1mLmVuZFwiLz5cbiAgICAgICAgICAgIDwvbm9pbnB1dD5cbiAgICAgICAgICAgIDxub21hdGNoPlxuICAgICAgICAgICAgICAgPHNlbmQgdGFyZ2V0PVwic291cmNlXCIgZXZlbnQ9XCJkb25lXCJcbiAgICAgICAgICAgICAgICAgICAgIG5hbWVsaXN0PVwiZHRtZi5lbmRcIi8+XG4gICAgICAgICAgICA8L25vbWF0Y2g+XG4gICAgICAgICA8L2NvbGxlY3Q+XG4gICAgICAgPC9kaWFsb2dzdGFydD5cbiAgICAgIDwvbXNtbD5cblxuXG5cbiovXG5cbmZ1bmN0aW9uIFNlbmRJTkZPUHJvbXB0YW5kQ29sbGVjdChzZXNzaW9uIDogYW55LCBldmVudCA6IGFueSwgbG9jYWxQYXJhbXM6IGFueSApe1xuICAgIC8vc2V0IHRoZSB4bWwgY29ubiBpZCAtLT4gc2Vzc2lvbltcIm1yZlwiXVtcImRvd25TdHJlYW1Ub1RhZ1wiXVxuICAgIC8vdGhpcyBmdW5jdGlvbiBidWlsZHMgdGhlIE1SRiBYTUwgYW5kIHNlbmRzIGl0LiBhIGxpYiBpcyB1c2VkIGFzIHRoZSBoYW5kZXJsIHNlbmRzIG9ubHkgYSBkZWZhdWx0IG9uZSB0aGF0IGlzIG9ubHkgdXNpbmcgcGxheS5lbmQgcGxheS5hbXQgd2lodG91dCBkdG1mLlxuICAgIGxldCBsb2cgPSBzZXNzaW9uLmxvZztcblxuICAgIGxvZy5kZWJ1ZyhcIlNlbmRJTkZPUHJvbXB0YW5kQ29sbGVjdDogbXJmX3BhcmFtIHt9OlwiLHNlc3Npb25bXCJtcmZfcGFyYW1cIl0pO1xuICAgIC8vZGVmYXVsdCB2YWx1ZXNcbiAgICBsZXQgbXJmX3VzZWQgPSB7fTtcbiAgICBtcmZfdXNlZCA9IHtcbiAgICAgICAgXCJhbm5vdW5jZW1lbnRcIjpcImRlZmF1bHRcIixcbiAgICAgICAgXCJjb2xsZWN0XCI6IHtcbiAgICAgICAgICAgIFwiY2xlYXJkYlwiOlwidHJ1ZVwiLFxuICAgICAgICAgICAgXCJlZHRcIjpcIjFzXCIsXG4gICAgICAgICAgICBcImZkdFwiOlwiM3NcIixcbiAgICAgICAgICAgIFwiaWR0XCI6XCIyc1wiLFxuICAgICAgICAgICAgXCJpdGVyYXRlXCI6XCIxXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJwbGF5XCI6IHtcbiAgICAgICAgICAgIFwiYmFyZ2VcIjpcInRydWVcIixcbiAgICAgICAgICAgIFwibWF4dGltZVwiOlwiMTFzXCIsXG4gICAgICAgICAgICBcImludGVydmFsXCI6XCIxXCIsXG4gICAgICAgICAgICBcImNsZWFyZGJcIjpcInRydWVcIixcbiAgICAgICAgICAgIFwib2Zmc2V0XCI6XCIwXCIsXG4gICAgICAgICAgICBcImF1ZGlvaXRlcmF0ZVwiOlwiMVwiLFxuICAgICAgICAgICAgXCJhdWRpb3VyaVwiOlwiZmlsZTovLy9hcHBsL3dhdi90aWN0YWMud2F2XCIgICAgICAgICAgICBcbiAgICAgICAgfSxcbiAgICAgICAgXCJwYXR0ZXJuXCI6IHtcbiAgICAgICAgICAgIFwiZGlnaXRzXCI6IFwiWzEtMl1cIixcbiAgICAgICAgICAgIFwiZm9ybWF0XCI6IFwicmVnZXhcIlxuICAgICAgICB9ICAgXG4gICAgfTtcbiAgICBsb2cuZGVidWcoXCJTZW5kSU5GT1Byb21wdGFuZENvbGxlY3Q6IG1yZl9kZWZhdWx0IHt9OlwiLEpTT04uc3RyaW5naWZ5KG1yZl91c2VkKSk7XG5cbiAgICAvL2RlZmF1bHQgWE1MIGhlYWRlclxuICAgIGxldCBjb250ZW50ID0gXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJVVEYtOFxcXCI/Plxcbjxtc21sICB2ZXJzaW9uPVxcXCIxLjFcXFwiPlxcbjxkaWFsb2dzdGFydCBuYW1lPVxcXCJkaWFsb2duYW1lZGVmYXVsdFxcXCIgdGFyZ2V0PVxcXCJjb25uOlwiO1xuICAgIC8vYWRkIHRoZSBkeW5hbWljIHRvIHRoYXQgZnJvbSBNUkYgcmVjZWl2ZWQgdG8gdGFnXG4gICAgY29udGVudCA9IGNvbnRlbnQgKyBzZXNzaW9uW1wibXJmXCJdW1wiZG93blN0cmVhbVRvVGFnXCJdO1xuICAgIGNvbnRlbnQgPSBjb250ZW50ICsgXCJcXFwiIHR5cGU9XFxcImFwcGxpY2F0aW9uL21vbWwreG1sXFxcIj5cXG5cIjtcblxuICAgIGxldCBjb2xsZWN0PWZhbHNlO1xuXG4gICAgbGV0IG1yZnhfdXNlZD17fTtcbiAgICBsZXQga2V5PVwiXCI7XG4gICAgaWYgKCBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wiY29sbGVjdFwiXSAhPSBudWxsKSB7XG4gICAgICAgIC8vY29sbGVjdCBpcyBwcmVzZW50LiB0aGlzIGlzIGEgcHJvbXB0IGFuZCBjb2xsZWN0XG5cbiAgICAgICAgLy9vdmVyd3JpdGUgZGVmYXVsdCB2YWx1ZXNcbiAgICAgICAgZm9yKGtleSBpbiBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wiY29sbGVjdFwiXSlcbiAgICAgICAgICAgIG1yZnhfdXNlZFtcImNvbGxlY3RcIl1ba2V5XSA9IHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJjb2xsZWN0XCJdW2tleV07XG4gICAgICAgIGZvcihrZXkgaW4gc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcImNvbGxlY3RcIl0pXG4gICAgICAgICAgICBtcmZ4X3VzZWRbXCJwYXR0ZXJuXCJdW2tleV0gPSBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wicGF0dGVyblwiXVtrZXldOyAgICAgICAgXG4gICAgICAgIGZvcihrZXkgaW4gc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcImNvbGxlY3RcIl0pXG4gICAgICAgICAgICBtcmZ4X3VzZWRbXCJwbGF5XCJdW2tleV0gPSBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wicGxheVwiXVtrZXldO1xuICAgICAgICBsb2cuZGVidWcoXCJTZW5kSU5GT1Byb21wdGFuZENvbGxlY3Q6IG1yZnhfdXNlZCB7fTpcIixKU09OLnN0cmluZ2lmeShtcmZ4X3VzZWQpKTtcbiAgICAgICAgXG4gICAgICAgIG1yZl91c2VkW1wiY29sbGVjdFwiXSA9IHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJjb2xsZWN0XCJdO1xuICAgICAgICBtcmZfdXNlZFtcInBhdHRlcm5cIl0gPSBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wicGF0dGVyblwiXTtcbiAgICAgICAgbXJmX3VzZWRbXCJwbGF5XCJdID0gc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcInBsYXlcIl07XG4gICAgICAgIGxvZy5kZWJ1ZyhcIlNlbmRJTkZPUHJvbXB0YW5kQ29sbGVjdDogdXNlIGNvbGxlY3RcIik7XG4gICAgICAgIGNvbGxlY3Q9dHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvL3RoaXMgaXMgb25seSBhIHBsYXkgYW5ub3VuY2VtZW50XG4gICAgICAgIGZvcihrZXkgaW4gc2Vzc2lvbltcIm1yZl9wYXJhbVwiXVtcImNvbGxlY3RcIl0pXG4gICAgICAgICAgICBtcmZ4X3VzZWRbXCJwbGF5XCJdW2tleV0gPSBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wicGxheVwiXVtrZXldO1xuICAgICAgICBsb2cuZGVidWcoXCJTZW5kSU5GT1Byb21wdGFuZENvbGxlY3Q6IG1yZnhfdXNlZCB7fTpcIixKU09OLnN0cmluZ2lmeShtcmZ4X3VzZWQpKTtcblxuICAgICAgICBtcmZfdXNlZFtcInBsYXlcIl0gPSBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wicGxheVwiXTsgICAgICAgIFxuICAgICAgICBsb2cuZGVidWcoXCJTZW5kSU5GT1Byb21wdGFuZENvbGxlY3Q6IHVzZSBhbm5vdW5jZW1lbnRcIik7XG4gICAgICAgIGNvbGxlY3Q9ZmFsc2U7XG4gICAgfVxuICAgIGxvZy5kZWJ1ZyhcIlNlbmRJTkZPUHJvbXB0YW5kQ29sbGVjdDogbXJmX3VzZWQge306XCIsSlNPTi5zdHJpbmdpZnkobXJmX3VzZWQpKTtcblxuICAgIGlmIChjb2xsZWN0PT10cnVlKSB7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgXCI8Y29sbGVjdCAgY2xlYXJkYj1cXFwiXCIgKyBtcmZfdXNlZFtcImNvbGxlY3RcIl1bXCJjbGVhcmRiXCJdICsgXCJcXFwiIGVkdD1cXFwiXCIgKyBtcmZfdXNlZFtcImNvbGxlY3RcIl1bXCJlZHRcIl0gICsgXCJcXFwiIGZkdD1cXFwiXCIgKyBtcmZfdXNlZFtcImNvbGxlY3RcIl1bXCJmZHRcIl0gICsgXCJcXFwiIGlkdD1cXFwiXCIgKyBtcmZfdXNlZFtcImNvbGxlY3RcIl1bXCJpZHRcIl0gICsgXCJcXFwiICBpdGVyYXRlPVxcXCJcIiArIG1yZl91c2VkW1wiY29sbGVjdFwiXVtcIml0ZXJhdGVcIl0gICsgXCJcXFwiPlxcblwiO1xuICAgICAgICBjb250ZW50ID0gY29udGVudCArIFwiPHBsYXkgYmFyZ2U9XFxcIlwiICsgbXJmX3VzZWRbXCJwbGF5XCJdW1wiYmFyZ2VcIl0gKyBcIlxcXCI+IG1heHRpbWU9XFxcIlwiICsgbXJmX3VzZWRbXCJwbGF5XCJdW1wibWF4dGltZVwiXSArIFwiXFxcIiA8YXVkaW8gdXJpPVxcXCJcIiArIG1yZl91c2VkW1wicGxheVwiXVtcImF1ZGlvdXJpXCJdICsgXCJcXFwiLz4gPC9wbGF5PlxcblwiO1xuICAgICAgICBjb250ZW50ID0gY29udGVudCArIFwiPHBhdHRlcm4gZGlnaXRzPVxcXCJcIiArIG1yZl91c2VkW1wicGF0dGVyblwiXVtcImRpZ2l0c1wiXSArIFwiXFxcIj4gIDxzZW5kIHRhcmdldD1cXFwic291cmNlXFxcIiBldmVudD1cXFwiZG9uZVxcXCIgbmFtZWxpc3Q9XFxcImR0bWYuZGlnaXRzIGR0bWYuZW5kXFxcIi8+IDwvcGF0dGVybj5cXG5cIjtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBcIjxub2lucHV0PiA8c2VuZCB0YXJnZXQ9XFxcInNvdXJjZVxcXCIgZXZlbnQ9XFxcImRvbmVcXFwiIG5hbWVsaXN0PVxcXCJkdG1mLmVuZFxcXCIvPiA8L25vaW5wdXQ+XFxuXCI7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgXCI8bm9tYXRjaD4gPHNlbmQgdGFyZ2V0PVxcXCJzb3VyY2VcXFwiIGV2ZW50PVxcXCJkb25lXFxcIiBuYW1lbGlzdD1cXFwiZHRtZi5lbmRcXFwiLz4gPC9ub21hdGNoPlxcblwiO1xuICAgICAgICBjb250ZW50ID0gY29udGVudCArIFwiPC9jb2xsZWN0PlxcblwiOyAgICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBcIjxwbGF5IGJhcmdlPVxcXCJcIiArIG1yZl91c2VkW1wicGxheVwiXVtcImJhcmdlXCJdICsgXCJcXFwiIG1heHRpbWU9XFxcIlwiICsgbXJmX3VzZWRbXCJwbGF5XCJdW1wibWF4dGltZVwiXSArIFwiXFxcIiBpbnRlcnZhbD1cXFwiXCIgKyBtcmZfdXNlZFtcInBsYXlcIl1bXCJpbnRlcnZhbFwiXSArIFwiXFxcIiBjbGVhcmRiPVxcXCJcIiArIG1yZl91c2VkW1wicGxheVwiXVtcImNsZWFyZGJcIl0gKyBcIlxcXCIgb2Zmc2V0PVxcXCJcIiArIG1yZl91c2VkW1wicGxheVwiXVtcIm9mZnNldFwiXSArIFwiXFxcIj5cXG5cIjtcbiAgICAgICAgY29udGVudCA9IGNvbnRlbnQgKyBcIjxhdWRpbyB1cmk9XFxcIlwiICsgbXJmX3VzZWRbXCJwbGF5XCJdW1wiYXVkaW91cmlcIl0gKyBcIlxcXCIgaXRlcmF0ZT1cXFwiXCIgKyBtcmZfdXNlZFtcInBsYXlcIl1bXCJhdWRpb2l0ZXJhdGVcIl0gKyBcIlxcXCIvPlxcblwiO1xuICAgICAgICBjb250ZW50ID0gY29udGVudCArIFwiPHBsYXlleGl0PlxcbjxleGl0IG5hbWVsaXN0PVxcXCJwbGF5LmVuZCBwbGF5LmFtdFxcXCIvPlxcbjwvcGxheWV4aXQ+XFxuXCI7XG4gICAgICAgIGNvbnRlbnQgPSBjb250ZW50ICsgXCI8L3BsYXk+XCI7XG4gICAgfVx0XG4gICAgY29udGVudCA9IGNvbnRlbnQgKyBcIjwvZGlhbG9nc3RhcnQ+XFxuPC9tc21sPlxcblwiO1xuXG4gICAgbGV0IG91dGV2ZW50ID0ge1xuICAgICAgICBcImNhbGxpZFwiOiBzZXNzaW9uW1wiZnNtLWlkXCJdLFxuICAgICAgICBcImV2ZW50LXR5cGVcIjogXCJzaXBcIixcbiAgICAgICAgXCJxdWV1ZVwiOiBcIlRBU1Y0XzFcIixcbiAgICAgICAgXCJpZFwiOiAyLFxuICAgICAgICBcImFjdGlvblwiOiB7XG4gICAgICAgIFwibGVnYWN0aW9uXCI6IFwicGVyZm9ybU1lZGlhT3BlcmF0aW9uXCIsXG4gICAgICAgIFwicGVyZm9ybU1lZGlhT3BlcmF0aW9uXCI6IHtcbiAgICAgICAgICAgIFwiQ29udGVudFR5cGVcIjogXCJhcHBsaWNhdGlvbi9tc21sK3htbFwiLFxuICAgICAgICAgICAgXCJDb250ZW50XCI6IGNvbnRlbnRcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IDNcbiAgICAgICAgfSxcbiAgICAgICAgXCJldmVudC1uYW1lXCI6IFwic2lwLm1lZGlhLnBsYXlBbm5vdW5jZW1lbnRcIixcbiAgICAgICAgXCJldmVudG5hbWVcIjogXCJjYWxsRWFybHlBbnN3ZXJlZFwiLFxuICAgICAgICBcInNlc3Npb25cIjogc2Vzc2lvbltcImZzbS1pZFwiXVxuICAgIH07XG4gICAgICAgIC8qXG4gICAgICAgICAgICBsZXQgb3V0ZXZlbnQgPSB7XG4gICAgICAgICAgICBcImNhbGxpZFwiOiBzZXNzaW9uW1wiZnNtLWlkXCJdLFxuICAgICAgICAgICAgXCJldmVudC10eXBlXCI6IFwic2lwXCIsXG4gICAgICAgICAgICBcInF1ZXVlXCI6IFwiVEFTVjRfMVwiLFxuICAgICAgICAgICAgXCJpZFwiOiAyLFxuICAgICAgICAgICAgXCJ0aW1lc3RhbXBcIjogMTczOTc4NDgzNDU2MyxcbiAgICAgICAgICAgIFwiYWN0aW9uXCI6IHtcbiAgICAgICAgICAgIFwibGVnYWN0aW9uXCI6IFwicGVyZm9ybU1lZGlhT3BlcmF0aW9uXCIsXG4gICAgICAgICAgICBcInBlcmZvcm1NZWRpYU9wZXJhdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgXCJDb250ZW50VHlwZVwiOiBcImFwcGxpY2F0aW9uL21zbWwreG1sXCIsXG4gICAgICAgICAgICAgICAgXCJDb250ZW50XCI6IFwiPD94bWwgdmVyc2lvbj1cXFwiMS4wXFxcIiBlbmNvZGluZz1cXFwiVVRGLThcXFwiPz5cXG48bXNtbCAgdmVyc2lvbj1cXFwiMS4xXFxcIj5cXG48ZGlhbG9nc3RhcnQgbmFtZT1cXFwiYW5ub1Byb21wdENvbGxlY3RcXFwiIHRhcmdldD1cXFwiY29ubjo1YjAwN2M0MFxcXCIgdHlwZT1cXFwiYXBwbGljYXRpb24vbW9tbCt4bWxcXFwiPlxcbjxwbGF5IGludGVydmFsPVxcXCIxMDBtc1xcXCIgaXRlcmF0ZT1cXFwiMVxcXCIgY2xlYXJkYj1cXFwidHJ1ZVxcXCIgbWF4dGltZT1cXFwiNTAwMDBtc1xcXCIgYmFyZ2U9XFxcInRydWVcXFwiPlxcbiA8YXVkaW8gdXJpPVxcXCJmaWxlOi8vL2FwcGwvd2F2L3NpbXBsZXBsYXkud2F2XFxcIi8+XFxuIDxwbGF5ZXhpdD5cXG4gICA8ZXhpdCBuYW1lbGlzdD1cXFwicGxheS5lbmQgcGxheS5hbXRcXFwiLz5cXG4gPC9wbGF5ZXhpdD5cXG48L3BsYXk+XFxuPC9kaWFsb2dzdGFydD5cXG48L21zbWw+XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcInR5cGVcIjogM1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZXZlbnQtbmFtZVwiOiBcInNpcC5tZWRpYS5wbGF5QW5ub3VuY2VtZW50XCIsXG4gICAgICAgICAgICBcImV2ZW50bmFtZVwiOiBcImNhbGxFYXJseUFuc3dlcmVkXCIsXG4gICAgICAgICAgICBcInNlc3Npb25cIjogc2Vzc2lvbltcImZzbS1pZFwiXSxcbiAgICAgICAgICAgIFwiZXZlbnR0aW1lXCI6IDE3Mzk3ODQ4MzQ1NzlcbiAgICAgICAgfTtcblxuICAgICAgICBcIkNvbnRlbnRcIjogXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJVVEYtOFxcXCI/Plxcbjxtc21sICB2ZXJzaW9uPVxcXCIxLjFcXFwiPlxcbjxkaWFsb2dzdGFydCBuYW1lPVxcXCJhbm5vUHJvbXB0Q29sbGVjdFxcXCIgdGFyZ2V0PVxcXCJjb25uOlxcXCJzZXNzaW9uW1wibXJmXCJdW1wiZG93blN0cmVhbVRvVGFnXCJdIHR5cGU9XFxcImFwcGxpY2F0aW9uL21vbWwreG1sXFxcIj5cXG48cGxheSBpbnRlcnZhbD1cXFwiMTAwbXNcXFwiIGl0ZXJhdGU9XFxcIjFcXFwiIGNsZWFyZGI9XFxcInRydWVcXFwiIG1heHRpbWU9XFxcIjUwMDAwbXNcXFwiIGJhcmdlPVxcXCJ0cnVlXFxcIj5cXG4gPGF1ZGlvIHVyaT1cXFwiZmlsZTovLy9hcHBsL3dhdi9zaW1wbGVwbGF5LndhdlxcXCIvPlxcbiA8cGxheWV4aXQ+XFxuICAgPGV4aXQgbmFtZWxpc3Q9XFxcInBsYXkuZW5kIHBsYXkuYW10XFxcIi8+XFxuIDwvcGxheWV4aXQ+XFxuPC9wbGF5PlxcbjwvZGlhbG9nc3RhcnQ+XFxuPC9tc21sPlwiXG4gICAgICAgICovXG4gICAgICAgIC8vbGV0IGNvbnRlbnQgPSBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIj8+XFxuPG1zbWwgIHZlcnNpb249XFxcIjEuMVxcXCI+XFxuPGRpYWxvZ3N0YXJ0IG5hbWU9XFxcImRpYWxvZ25hbWVkZWZhdWx0XFxcIiB0YXJnZXQ9XFxcImNvbm46XCI7XG4gICAgICAgIC8vY29udGVudCA9IGNvbnRlbnQgKyBzZXNzaW9uW1wibXJmXCJdW1wiZG93blN0cmVhbVRvVGFnXCJdO1xuICAgICAgICAvL2NvbnRlbnQgPSBjb250ZW50ICsgXCJcXFwiIHR5cGU9XFxcImFwcGxpY2F0aW9uL21vbWwreG1sXFxcIj5cXG5cIjtcbiAgICAgICAgLy9jb250ZW50ID0gY29udGVudCArIFwiPHBsYXkgaW50ZXJ2YWw9XFxcIjEwMG1zXFxcIiBpdGVyYXRlPVxcXCIxXFxcIiBjbGVhcmRiPVxcXCJ0cnVlXFxcIiBtYXh0aW1lPVxcXCI1MDAwMG1zXFxcIiBiYXJnZT1cXFwidHJ1ZVxcXCI+XFxuIDxhdWRpbyB1cmk9XFxcImZpbGU6Ly8vYXBwbC93YXYvc2ltcGxlcGxheS53YXZcXFwiLz5cXG4gPHBsYXlleGl0PlxcbiAgIDxleGl0IG5hbWVsaXN0PVxcXCJwbGF5LmVuZCBwbGF5LmFtdFxcXCIvPlxcbiA8L3BsYXlleGl0PlxcbjwvcGxheT5cXG48L2RpYWxvZ3N0YXJ0PlxcbjwvbXNtbD5cIjtcbiAgICAgICAgLy9PQ01QIHJlc3BvbnNlIC0gZ3JvdXBzIG5vdCBzdXBwb3J0ZWQgICAgIDw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cIlVURi04XCIgc3RhbmRhbG9uZT1cInllc1wiPz48bXNtbCB2ZXJzaW9uPVwiMS4xXCI+ICAgIDxyZXN1bHQgcmVzcG9uc2U9XCI0MDJcIj4gICAgICAgIDxkZXNjcmlwdGlvbj5Hcm91cHMgbm90IHN1cHBvcnRlZDwvZGVzY3JpcHRpb24+ICAgIDwvcmVzdWx0PjwvbXNtbD5cbiAgICAgICAgLy9jb250ZW50ID0gY29udGVudCArIFwiPGdyb3VwIHRvcG9sb2d5PVxcXCJwYXJhbGxlbFxcXCI+XFxuXCI7XG4gICAgICAgIC8vY29udGVudCA9IGNvbnRlbnQgKyBcIjxwbGF5IGlkPVxcXCJiZWZvcmViYXJnZXBsYXlcXFwiPjxhdWRpbyB1cmk9XFxcImZpbGU6Ly8vYXBwbC93YXYvc2ltcGxlcGxheS53YXZcXFwiIGZvcm1hdD1cXFwiYXVkaW8vd2F2XFxcIiAgLz48cGxheWV4aXQ+PHNlbmQgdGFyZ2V0PVxcXCJjb2xsZWN0XFxcIiBldmVudD1cXFwic3RhcnR0aW1lclxcXCIvPjwvcGxheWV4aXQ+PC9wbGF5PlxcblwiO1xuICAgICAgICAvL2NvbnRlbnQgPSBjb250ZW50ICsgXCI8Y29sbGVjdCBjbGVhcmRiPVxcXCJ0cnVlXFxcIiBmZHQ9XFxcIjVzXFxcIiBpZHQ9XFxcIjNzXFxcIj48cGF0dGVybiBkaWdpdHM9XFxcInhcXFwiPjxzZW5kIHRhcmdldD1cXFwic291cmNlXFxcIiBldmVudD1cXFwiZGlhbG9nbmFtZWRlZmF1bHRcXFwiIG5hbWVsaXN0PVxcXCJkdG1mLmRpZ2l0cyBkdG1mLmVuZFxcXCIvPjwvcGF0dGVybj5cXG5cIjtcbiAgICAgICAgLy9PQ01QIHJlc3BvbnNlIC0gb25seSBzb3VyY2Ugc3VwcG9ydGVkICAgICA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJ5ZXNcIj8+PG1zbWwgdmVyc2lvbj1cIjEuMVwiPiAgICA8cmVzdWx0IHJlc3BvbnNlPVwiNDEwXCI+ICAgICAgICA8ZGVzY3JpcHRpb24+T25seSAnc291cmNlJyBzdXBwb3J0ZWQ8L2Rlc2NyaXB0aW9uPiAgICA8L3Jlc3VsdD48L21zbWw+XG4gICAgICAgIC8vY29udGVudCA9IGNvbnRlbnQgKyBcIjxkZXRlY3Q+PHNlbmQgdGFyZ2V0PVxcXCJwbGF5LmJlZm9yZWJhcmdlcGxheVxcXCIgZXZlbnQ9XFxcInRlcm1pbmF0ZVxcXCIvPjwvZGV0ZWN0Plxcbjxub2lucHV0PjxzZW5kIHRhcmdldD1cXFwic291cmNlXFxcIiBldmVudD1cXFwiZGlhbG9nbmFtZWRlZmF1bHRcXFwiIG5hbWVsaXN0PVxcXCJkdG1mLmRpZ2l0cyBkdG1mLmVuZFxcXCIvPjwvbm9pbnB1dD5cXG48bm9tYXRjaD48c2VuZCB0YXJnZXQ9XFxcInNvdXJjZVxcXCIgZXZlbnQ9XFxcImRpYWxvZ25hbWVkZWZhdWx0XFxcIiBuYW1lbGlzdD1cXFwiZHRtZi5kaWdpdHMgZHRtZi5lbmRcXFwiLz48L25vbWF0Y2g+XFxuPC9jb2xsZWN0PlxcblwiO1xuICAgICAgICAvL2NvbnRlbnQgPSBjb250ZW50ICsgXCI8ZGV0ZWN0PjxzZW5kIHRhcmdldD1cXFwic291cmNlXFxcIiBldmVudD1cXFwidGVybWluYXRlXFxcIi8+PC9kZXRlY3Q+XFxuPG5vaW5wdXQ+PHNlbmQgdGFyZ2V0PVxcXCJzb3VyY2VcXFwiIGV2ZW50PVxcXCJkaWFsb2duYW1lZGVmYXVsdFxcXCIgbmFtZWxpc3Q9XFxcImR0bWYuZGlnaXRzIGR0bWYuZW5kXFxcIi8+PC9ub2lucHV0Plxcbjxub21hdGNoPjxzZW5kIHRhcmdldD1cXFwic291cmNlXFxcIiBldmVudD1cXFwiZGlhbG9nbmFtZWRlZmF1bHRcXFwiIG5hbWVsaXN0PVxcXCJkdG1mLmRpZ2l0cyBkdG1mLmVuZFxcXCIvPjwvbm9tYXRjaD5cXG48L2NvbGxlY3Q+XFxuXCI7XG4gICAgICAgIC8vY29udGVudCA9IGNvbnRlbnQgKyBcIjwvZ3JvdXA+XFxuXCI7XG5cbiAgICAgICAgLyogc3VwcG9ydGVkIE9DTVA0LjggY29sbGVjdCBwYXJhbWV0ZXJzXG4gICAgICAgIGlkOiBhbiBvcHRpb25hbCBpZGVudGlmaWVyIHRoYXQgbWF5IGJlIHJlZmVyZW5jZWQgZWxzZXdoZXJlIGZvciBzZW5kaW5nIGV2ZW50cyB0byB0aGlzIHByaW1pdGl2ZS5cbiAgICAgICAgY2xlYXJkYjogYSBib29sZWFuIGluZGljYXRpb24gb2Ygd2hldGhlciB0aGUgYnVmZmVyIGZvciBkaWdpdCBjb2xsZWN0aW9uIHNob3VsZCBiZSBjbGVhcmVkIG9mIGFueSBjb2xsZWN0ZWQgZGlnaXRzIHdoZW4gdGhlIGVsZW1lbnQgaXMgaW5zdGFudGlhdGVkLiAgSWYgc2V0IHRvIGZhbHNlLCBhbnkgZGlnaXRzIGN1cnJlbnRseSBpbiB0aGUgYnVmZmVyIE1VU1QgYmUgaW1tZWRpYXRlbHkgY29tcGFyZWQgYWdhaW5zdCB0aGUgcGF0dGVybiBlbGVtZW50cy5cbiAgICAgICAgZmR0OiBkZWZpbmVzIHRoZSBmaXJzdC1kaWdpdCB0aW1lciB2YWx1ZS4gIFRoZSBmaXJzdC1kaWdpdCB0aW1lciBpcyBzdGFydGVkIHdoZW4gRFRNRiBkZXRlY3Rpb24gaXMgaW5pdGlhbGx5IGludm9rZWQuICBJZiBubyBEVE1GIGRpZ2l0cyBhcmUgZGV0ZWN0ZWQgZHVyaW5nIHRoaXMgaW5pdGlhbCBpbnRlcnZhbCwgdGhlIDxub2lucHV0PiBlbGVtZW50IE1VU1QgYmUgaW52b2tlZC4gIE9wdGlvbmFsLCBkZWZhdWx0IGlzIDAgcyAod2FpdCBmb3JldmVyIGZvciB0aGUgZmlyc3QgZGlnaXQpLlxuICAgICAgICBpZHQ6IGRlZmluZXMgdGhlIGludGVyLWRpZ2l0IHRpbWVyIHRvIGJlIHVzZWQgd2hlbiBkaWdpdHMgYXJlIGJlaW5nIGNvbGxlY3RlZC4gIFdoZW4gc3BlY2lmaWVkLCB0aGUgdGltZXIgaXMgc3RhcnRlZCB3aGVuIHRoZSBmaXJzdCBkaWdpdCBpcyBkZXRlY3RlZCBhbmQgcmVzdGFydGVkIG9uIGVhY2ggc3Vic2VxdWVudCBkaWdpdC4gVGltZXIgZXhwaXJhdGlvbiBpcyBhcHBsaWVkIHRvIGFsbCBwYXR0ZXJucy4gIEFmdGVyIHRoYXQsIGlmIGFueSBwYXR0ZXJucyByZW1haW4gYWN0aXZlIGFuZCBhIG5vbWF0Y2ggZWxlbWVudCBpcyBzcGVjaWZpZWQsIHRoZSBub21hdGNoIGlzIGV4ZWN1dGVkIGFuZCBEVE1GIGlucHV0IE1VU1QgdGVybWluYXRlLiAgVGhlIGlkdCBhdHRyaWJ1dGUgc2hvdWxkIG9ubHkgYmUgdXNlZCB3aGVuIGRpZ2l0IGNvbGxlY3Rpb24gaXMgYmVpbmcgcGVyZm9ybWVkLiAgT3B0aW9uYWwsIGRlZmF1bHQgaXMgNCBzLlxuICAgICAgICBlZHQ6IGRlZmluZXMgdGhlIGV4dHJhLWRpZ2l0IHRpbWVyIHZhbHVlLiAgU3BlY2lmaWVzIHRoZSBsZW5ndGggb2YgdGltZSB0aGUgbWVkaWEgc2VydmVyIE1VU1Qgd2FpdCBhZnRlciBhIG1hdGNoIHRvIGRldGVjdCBhIHRlcm1pbmF0aW9uIGtleSwgaWYgb25lIGlzIHNwZWNpZmllZCBieSB0aGUgPHBhdHRlcm4+IGVsZW1lbnQuIE9wdGlvbmFsLCBkZWZhdWx0IGlzIDQgcy5cbiAgICAgICAgaXRlcmF0ZTogc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgdGltZXMgdGhlIDxwYXR0ZXJuPiwgPG5vaW5wdXQ+LCAgYW5kIDxub21hdGNoPiBlbGVtZW50cyBtYXkgYmUgZXhlY3V0ZWQgdW5sZXNzIHRob3NlIGVsZW1lbnRzIHNwZWNpZnkgZGlmZmVyZW50bHkuICBUaGUgdmFsdWUgXCJmb3JldmVyXCIgTUFZIGJlIHVzZWQgdG8gaW5kaWNhdGUgdGhhdCB0aGVzZSBtYXkgYmUgZXhlY3V0ZWQgYW55IG51bWJlciBvZiB0aW1lcy4gIERlZmF1bHQgaXMgb25jZSAnMScuXG4gICAgICAgICovXG4gICAgICAgIC8qIHN1cHBvcnRlZCBPQ01QNC44IHBsYXkgcGFyYW1ldGVyc1xuICAgICAgICBpZDogYW4gb3B0aW9uYWwgaWRlbnRpZmllciB0aGF0IG1heSBiZSByZWZlcmVuY2VkIGVsc2V3aGVyZSBmb3Igc2VuZGluZyBldmVudHMgdG8gdGhlIHBsYXkgcHJpbWl0aXZlLlxuICAgICAgICBpbnRlcnZhbDogc3BlY2lmaWVzIHRoZSBkZWxheSBiZXR3ZWVuIHN0b3BwaW5nIG9uZSBpdGVyYXRpb24gYW5kIGJlZ2lubmluZyBhbm90aGVyLiAgVGhlIGF0dHJpYnV0ZSBoYXMgbm8gZWZmZWN0IGlmIGl0ZXJhdGUgaXMgbm90IGFsc28gc3BlY2lmaWVkLiAgRGVmYXVsdCBpcyBubyBpbnRlcnZhbC4gXG4gICAgICAgIGl0ZXJhdGU6IHNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIHRpbWVzIHRoZSBtZWRpYSBzcGVjaWZpZWQgYnkgdGhlIGNoaWxkIG1lZGlhIGVsZW1lbnRzIHNob3VsZCBiZSBwbGF5ZWQuICBFYWNoIGl0ZXJhdGlvbiBpcyBhICBjb21wbGV0ZSBwbGF5IG9mIGVhY2ggb2YgdGhlIGNoaWxkIG1lZGlhIGVsZW1lbnRzIGluIGRvY3VtZW50IG9yZGVyLiAgRGVmYXVsdHMgdG8gb25jZSAnMScuXG4gICAgICAgIG1heHRpbWU6IGRlZmluZXMgdGhlIG1heGltdW0gYWxsb3dlZCB0aW1lIGZvciB0aGUgPHBsYXk+IHRvIGNvbXBsZXRlLlxuICAgICAgICAgICAgaW4gZ2FyZ2U9dHJ1ZSB0aGUgYW5ub3VuY2VtZW50IGlzIG5vdCBzdG9wcGVkIGF0IG1heHRpbWVcbiAgICAgICAgYmFyZ2U6IGRlZmluZXMgd2hldGhlciBvciBub3QgYXVkaW8gYW5ub3VuY2VtZW50cyBtYXkgYmUgIGludGVycnVwdGVkIGJ5IERUTUYgZGV0ZWN0aW9uIGR1cmluZyBwbGF5LW91dC4gIFRoZSBEVE1GIGRpZ2l0IGJhcmdpbmcgdGhlIGFubm91bmNlbWVudCBpcyBzdG9yZWQgaW4gdGhlIGRpZ2l0IGJ1ZmZlci4gIFZhbGlkIHZhbHVlcyBmb3IgYmFyZ2UgYXJlIFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiwgYW5kIHRoZSBhdHRyaWJ1dGUgaXMgbWFuZGF0b3J5LiAgV2hlbiBiYXJnZSBpcyBhcHBsaWVkIHRvIGEgY29uZmVyZW5jZSB0YXJnZXQsIERUTUYgZGlnaXQgZGV0ZWN0ZWQgZnJvbSBhbnkgY29uZmVyZW5jZSBwYXJ0aWNpcGFudCBNVVNUIHRlcm1pbmF0ZSB0aGUgYW5ub3VuY2VtZW50LlxuICAgICAgICBjbGVhcmRiOiBkZWZpbmVzIHdoZXRoZXIgb3Igbm90IHRoZSBkaWdpdCBidWZmZXIgaXMgY2xlYXJlZCwgcHJpb3IgIHRvIHN0YXJ0aW5nIHRoZSBhbm5vdW5jZW1lbnQuICBWYWxpZCB2YWx1ZXMgZm9yIGNsZWFyZGIgYXJlIFwidHJ1ZVwiIG9yIFwiZmFsc2VcIiwgYW5kIHRoZSBhdHRyaWJ1dGUgaXMgbWFuZGF0b3J5LiBcbiAgICAgICAgb2Zmc2V0OiBkZWZpbmVzIGFuIG9mZnNldCwgbWVhc3VyZWQgaW4gdW5pdHMgb2YgdGltZSwgd2hlcmUgdGhlIDxwbGF5PiBpcyB0byBiZWdpbiBtZWRpYSBnZW5lcmF0aW9uLiAgT2Zmc2V0IGlzIG9ubHkgdmFsaWQgd2hlbiBhbGwgY2hpbGQgbWVkaWEgZWxlbWVudHMgYXJlIDxhdWRpbz4uXG4gICAgICAgICovXG5cbiAgICAgICAgLy8gY2xlYW4gaXQgdXAgZm9yIHRoZSBuZXh0IHJ1blxuICAgICAgICBkZWxldGUgc2Vzc2lvbltcIm1yZl9wYXJhbVwiXTtcbiAgICByZXR1cm4gb3V0ZXZlbnQ7XG59XG5cblxuZnVuY3Rpb24gaW5wdXR2YWxpZGF0aW9uKHNlc3Npb24gOiBhbnksIGV2ZW50IDogYW55LCBsb2NhbFBhcmFtczogYW55ICl7XG4gICAgbGV0IGxvZyA9IHNlc3Npb24ubG9nO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgLy9jcmVhdGUgbXJmIG9iamVjdFxuICAgICAgICBzZXNzaW9uW1wibXJmXCJdPXt9O1xuXG4gICAgICAgIC8vc2lwIGludml0ZSBpcyBpbiAjc2Vzc2lvbltcInNfU0lQSW52aXRlXCJdXG4gICAgICAgIGlmICggc2Vzc2lvbltcInNfU0lQSW52aXRlXCJdICE9IG51bGwgKSB7XG4gICAgICAgICAgICBpZiggc2Vzc2lvbltcInNfU0lQSW52aXRlXCJdW1wiZXZlbnQtdHlwZVwiXSE9PW51bGwgJiYgKHNlc3Npb25bXCJzX1NJUEludml0ZVwiXVtcImV2ZW50LXR5cGVcIl09PT1cInNpcFwiIHx8IHNlc3Npb25bXCJzX1NJUEludml0ZVwiXVtcImV2ZW50LXR5cGVcIl09PT1cIm9jY3BcIikpIHtcbiAgICAgICAgICAgICAgICBpZiggc2Vzc2lvbltcInNfU0lQSW52aXRlXCJdW1wiZXZlbnQtbmFtZVwiXSE9PW51bGwgJiYgc2Vzc2lvbltcInNfU0lQSW52aXRlXCJdW1wiZXZlbnQtbmFtZVwiXSA9PT0gXCJzaXAuY2FsbFN0YXJ0Lk5PTkVcIilcbiAgICAgICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwiZ290IHNpcCBpbnZpdGVcIik7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJlcnJvci5pbnB1dC5zaXBpbnZpdGVpbmNvcnJlY3RldmVudG5hbWVcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3IuaW5wdXQuc2lwaW52aXRlaW5jb3JyZWN0ZXZlbnR0eXBlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJlcnJvci5pbnB1dC5zaXBpbnZpdGVtaXNzaW5nXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHNlc3Npb25bXCJtcmZfcGFyYW1cIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKCBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wiZWFybHlkaWFsb2dcIl0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIm1yZiBlYXJseWRpYWxvZyBwcmVzZW50IGFuZCB7fVwiLHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJlYXJseWRpYWxvZ1wiXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJlYXJseWRpYWxvZ1wiXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwibXJmIGVhcmx5ZGlhbG9nIG5vdCBwcmVzZW50IC0gdXNlIGRlZmF1bHRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoXCJtcmYgb2JqZWN0IG5vdCBwcmVzZW50IC0gdXNlIGRlZmF1bHRcIik7XG4gICAgICAgICAgICBzZXNzaW9uW1wibXJmX3BhcmFtXCJdW1wiZWFybHlkaWFsb2dcIl0gPSB0cnVlO1xuICAgICAgICB9XHRcbiAgICAgICAgcmV0dXJuIHNlc3Npb25bXCJtcmZfcGFyYW1cIl1bXCJlYXJseWRpYWxvZ1wiXTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcIkxvZy5pbnB1dHZhbGlkYXRpb246IHt9XCIsIGUpO1xuICAgICAgICByZXR1cm4gXCJlcnJvci5leGNlcHRpb25cIjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFybU1SRmV2ZW50cyhzZXNzaW9uRGF0YTphbnksZXZlbnREYXRhOmFueSxsb2NhbFBhcmFtczphbnkpOiBhbnkge1xuIGxldCByZXQ6IFJlc3VsdENvZGUgO1xuXG4gICAgbGV0IHN0YXR1czIgOiBzdHJpbmc7XG4gICAgbGV0IGV2ZW50cyA6IEV2ZW50cztcbiAgICBldmVudHMgPSBldmVudHMgfHwge307XG4gICAgZXZlbnRzLkluZm9Qb2xsRXZlbnQ9XCJudWxsXCI7XG4gICAgZXZlbnRzLlN1Y2Nlc3NSZXNwb25zZVBvbGxFdmVudD1cIm51bGxcIjtcbiAgICBldmVudHMuUmF3Q29udGVudFBvbGxFdmVudD1cInRlc3QvdGVzdFwiO1xuXG4gICAgbGV0IGhlYWRlclZhcnMgOiBIZWFkZXJWYXJzO1xuICAgIGhlYWRlclZhcnMgPSBoZWFkZXJWYXJzIHx8IHt9O1xuICAgIGhlYWRlclZhcnMuZGlzYWJsZVNlbmREZWZhdWx0UmVhc29uID0gXCJEaXNhYmxlZFwiO1xuICAgIGhlYWRlclZhcnMuZGlzYWJsZVNlbmROb0Fuc3dlclJlYXNvbiA9IFwiRGlzYWJsZWRcIjtcblxuICAgIGxldCByaW5naW5nVG9uZXMgOiBbUmluZ2luZ1RvbmVdO1xuICAgIHJpbmdpbmdUb25lcyA9IHJpbmdpbmdUb25lcyB8fCBbXTtcbiAgICBsZXQgY29tZiA6IFJpbmdpbmdUb25lO1xuICAgIGNvbWYgPSBjb21mIHx8IHt9O1xuICAgIGNvbWYuYW5ub19uYW1lPVwiY29tZm9ydFwiO1xuICAgIGNvbWYuYW5ub190eXBlPUFubm90eXBlLkNPTk5FQ1Q7XG4gICAgbGV0IHJpbmcgOiBSaW5naW5nVG9uZTtcbiAgICByaW5nID0gcmluZyB8fCB7fTtcbiAgICByaW5nLmFubm9fbmFtZT1cInJpbmdpbmdcIjtcbiAgICByaW5nLmFubm9fdHlwZT1Bbm5vdHlwZS5SSU5HSU5HO1xuICAgIHJpbmdpbmdUb25lcy5wdXNoKGNvbWYsIHJpbmcpO1xuXG4gICAgbGV0IGNhcGFiaWxpdGllcyA9IHNlc3Npb25EYXRhLmluQ2FwYWJpbGl0aWVzO1xuICAgIGlmKCBjYXBhYmlsaXRpZXMhPW51bGwpe1xuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuUEVNKTtcbiAgICAgICAgY2FwYWJpbGl0aWVzLnB1c2goQ2FwYWJpbGl0aWVzLkZPUktJTkcpO1xuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuVVBEQVRFKTtcbiAgICAgICAgY2FwYWJpbGl0aWVzLnB1c2goQ2FwYWJpbGl0aWVzLklORk8pO1xuICAgICAgICBzZXNzaW9uRGF0YS5vdXRDYXBhYmlsaXRpZXMgPSBKU09OLnN0cmluZ2lmeShjYXBhYmlsaXRpZXMpO1xuICAgIH1cblxuICAgIHNlc3Npb25EYXRhLmV2ZW50cyA9IEpTT04uc3RyaW5naWZ5KGV2ZW50cyk7XG4gICAgc2Vzc2lvbkRhdGEuaGVhZGVycnVsZXZhcj1KU09OLnN0cmluZ2lmeShoZWFkZXJWYXJzKTtcbiAgICBzZXNzaW9uRGF0YS5oZWFkZXJydWxlc3NlbGVjdCA9IFwiU2lwU2VydmljZVNwZWNpZmljUnVsZXNTZXRcIjtcbiAgICBzZXNzaW9uRGF0YS5yaW5naW5ndG9uZXMgPSBKU09OLnN0cmluZ2lmeShyaW5naW5nVG9uZXMpO1xuICAgIHNlc3Npb25EYXRhLnVwc3RyZWFtQ2FwYWJpbGl0aWVzPUpTT04uc3RyaW5naWZ5KFtdKTtcblxuICAgIHJldHVybiBcInN1Y2Nlc3NcIjtcbn1cblxuXG5mdW5jdGlvbiBoYW5kbGUyMDBPS0lOVklURShzZXNzaW9uOmFueSxldmVudDpPQ0NQU0lQLk9DQ1BFdmVudCxsb2NhbFBhcmFtczphbnkpIHtcbiAgICBsZXQgbG9nID0gc2Vzc2lvbi5sb2c7XG5cbiAgICB0cnkge1xuICAgICAgICAvL3RoZSByZWNlaXZlZCBldmVudCBpcyBub3cgaW4gbG9jYWxQYXJhbXNcbiAgICAgICAgbGV0IGV2ZW50RGF0YSA9IGxvY2FsUGFyYW1zLm1lc3NhZ2U7XG4gICAgICAgIC8vc2Vzc2lvbi5ldmVudHMgPSBudWxsO1xuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiaGVhZGVycnVsZXZhcj1udWxsXCJdO1xuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiaGVhZGVycnVsZXNzZWxlY3RcIl0gPSBudWxsO1xuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wicmluZ2luZ3RvbmVzXCJdID0gbnVsbDtcblxuICAgICAgICBsZXQgcG9sbEFjdGlvbiA6IENhbGxQb2xsQWN0aW9uO1xuICAgICAgICBwb2xsQWN0aW9uID0gcG9sbEFjdGlvbiB8fCB7fTtcbiAgICAgICAgcG9sbEFjdGlvbi50eXBlID0gQ2FsbFBvbGxBY3Rpb25UeXBlLkFjY2VwdDtcbiAgICAgICAgc2Vzc2lvbi5zZW5kQWN0aW9uID0gSlNPTi5zdHJpbmdpZnkocG9sbEFjdGlvbik7XG5cbiAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcInRpbWUyMDBPS0lOVklURVwiXSAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkvMTAwMCk7XG5cbiAgICAgICAgLy9zYXZlIHRvIHRhZ1xuICAgICAgICBsZXQgdG8gOiBUbyA9IGV2ZW50RGF0YS5TSVAuVG87XG4gICAgICAgIGlmKCB0byE9bnVsbCkge1xuICAgICAgICAgICAgbG9nLmRlYnVnKFwicmVjZWl2ZWQgZnJvbSBNUkYgdG8gdGFnOnt9XCIsdG8pO1xuICAgICAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImNhbGxzdGF0ZVwiXSAgPSBcIk1SRkNPTk5FQ1RFRDIwME9LXCI7XG4gICAgICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiZG93blN0cmVhbVRvVGFnXCJdPXRvLnRhZztcbiAgICAgICAgICAgIHJldHVybiBcInN1Y2Nlc3NcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhcInJlY2VpdmVkIGZyb20gTVJGIG5vIHRvIHRhZzp7fVwiLHRvKTtcbiAgICAgICAgICAgIHJldHVybiBcImVycm9yLm5vdG90YWdcIjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcImhhbmRsZTIwME9LSU5WSVRFIExvZzoge31cIiwgZSk7XG4gICAgICAgIHJldHVybiBcImVycm9yLmV4Y2VwdGlvblwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlMjAwT0tJTkZPKHNlc3Npb246YW55LGV2ZW50Ok9DQ1BTSVAuRXZlbnQsbG9jYWxQYXJhbXM6TG9jYWxQYXJhbWV0ZXJzKTogYW55e1xuICAgIFxuICAgIGxldCBsb2cgPSBzZXNzaW9uLmxvZztcblxuICAgIHRyeSB7ICAgICAgICBcbiAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcInRpbWUyMDBPS0lORk9cIl0gID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLzEwMDApO1xuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiY2FsbHN0YXRlXCJdICA9IFwiTVJGQ09OTkVDVEVEXCI7ICAgICAgICBcbiAgICAgICAgaWYgKGV2ZW50W1wiZXZlbnQtbmFtZVwiXT09XCJzaXAubWVkaWFPcGVyYXRpb25Ob3RpZmljYXRpb24uKlwiKSAge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmV2ZW50W1widHlwZVwiXT09XCIyMDBcIikgIHtcbiAgICAgICAgICAgICAgICAvL1RoaXMgaXMgdGhlIDIwMG9rIGZvciBTSVAgSU5GTyAtIG5vIERUTUYgZXRjIGlzIHByZXNlbnRcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuU0lQLmNvbnRlbnQuanNvbi5tc21sLnJlc3VsdC5kZXNjcmlwdGlvbj09XCJPS1wiKSAge1xuICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJoYW5kbGUyMDBPS0lORk86UmVjZXZpZWQgMjAwT0tJTkZPIGFuZCBpdHMgb2tcIik7XG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJkdG1mZGlnaXRzXCJdID0gXCJpbml0aWFsaXplZFwiO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJyZWNlaXZlZC5PS1wiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcImhhbmRsZTIwME9LSU5GTzpSZWNldmllZCAyMDBPS0lORk8gYW5kIGl0cyBOT1Qgb2sge31cIixldmVudC5TSVAuY29udGVudC5qc29uLm1zbWwucmVzdWx0LmRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwicmVjZWl2ZWQuTk9LXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChldmVudC5ldmVudFtcInR5cGVcIl09PVwiSU5GT1wiKSAge1xuICAgICAgICAgICAgICAgIC8vVGhpcyBpcyB0aGUgaW5jb21pbmcgU0lQIElORk8gd2l0aCBlaXRoZXIgYSB0aW1lb3V0IG9yIG5vbWF0Y2ggb3IgYSBtYXRjaCB3aXRoIHRoZSBkaWdpdFxuICAgICAgICAgICAgICAgIGlmKCBldmVudC5TSVAuY29udGVudC5qc29uLm1zbWwuZXZlbnQubmFtZSE9bnVsbCAmJiBldmVudC5TSVAuY29udGVudC5qc29uLm1zbWwuZXZlbnQubmFtZS5zaXplKCk+MSApe1xuICAgICAgICAgICAgICAgICAgICAvLyBuYW1lWzFdIC0+IHZhbHVlWzBdICAgIGFuZCBuYW1lWzJdIC0+IHZhbHVlWzFdXG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8PWV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5ldmVudC5uYW1lLnNpemUoKS0xO2krKyl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJoYW5kbGUyMDBPS0lORk86aW5kZXggYW5kIGV2ZW50LW5hbWUge30gLSB7fVwiLCBpLCBldmVudC5TSVAuY29udGVudC5qc29uLm1zbWwuZXZlbnQubmFtZS5nZXQoaSkpOyAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBldmVudC5TSVAuY29udGVudC5qc29uLm1zbWwuZXZlbnQubmFtZS5nZXQoaSkuZXF1YWxzKFwiZHRtZi5kaWdpdHNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJoYW5kbGUyMDBPS0lORk86cmVjZWl2ZWQgZHRtZi5kaWdpdHMgYXMge31cIiwgZXZlbnQuU0lQLmNvbnRlbnQuanNvbi5tc21sLmV2ZW50LnZhbHVlW2ktMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJkdG1mZGlnaXRzXCJdICA9IGV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5ldmVudC52YWx1ZVtpLTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggZXZlbnQuU0lQLmNvbnRlbnQuanNvbi5tc21sLmV2ZW50Lm5hbWUuZ2V0KGkpLmVxdWFscyhcImR0bWYuZW5kXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwiaGFuZGxlMjAwT0tJTkZPOnJlY2VpdmVkIGR0bWYuZW5kXCIpOyAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggZXZlbnQuU0lQLmNvbnRlbnQuanNvbi5tc21sLmV2ZW50Lm5hbWUuZ2V0KGkpLmVxdWFscyhcIm1zbWwuZGlhbG9nLmV4aXRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJoYW5kbGUyMDBPS0lORk86cmVjZWl2ZWQgbXNtbC5kaWFsb2cuZXhpdCAtIHJldHVybiB3aXRoIE1SRiBkaWFsb2cgY2xvc2VkLlwiKTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibXJmZGlhbG9nLmNsb3NlZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJoYW5kbGUyMDBPS0lORk86cmVjZWl2ZWQgb3RoZXIgZXZlbnQgbmFtZVwiKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9nLmRlYnVnKFwiaGFuZGxlMjAwT0tJTkZPOlJldHVybiB0aGUgZGVjb2RlZCBkdG1mLmRpZ2l0czoge31cIixzZXNzaW9uW1wibXJmXCJdW1wiZHRtZmRpZ2l0c1wiXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25bXCJtcmZcIl1bXCJkdG1mZGlnaXRzXCJdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ1bmV4cGVjdGVkZXZlbnR0eXBlLlwiICsgZXZlbnQuZXZlbnRbXCJ0eXBlXCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2cuZGVidWcoXCJoYW5kbGUyMDBPS0lORk86TG9nOiB7fVwiLCBlKTtcbiAgICAgICAgcmV0dXJuIFwiZXJyb3IuZXhjZXB0aW9uXCI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBtcmZyZXR1cm4oc2Vzc2lvbiA6IGFueSwgZXZlbnQgOiBhbnksIGxvY2FsUGFyYW1zOiBhbnkgKXtcbiAgICByZXR1cm4gXCJkdG1mLmRpZ2l0LlwiICsgc2Vzc2lvbltcIm1yZlwiXVtcImR0bWZkaWdpdHNcIl07XG59XG5cbmZ1bmN0aW9uIGNhbGxBbnN3ZXJlZChzZXNzaW9uIDogYW55LCBldmVudCA6IGFueSwgbG9jYWxQYXJhbXM6IGFueSApe1xuICAgIGxldCBsb2cgPSBzZXNzaW9uLmxvZztcblxuICAgIHRyeSB7ICAgICAgICBcbiAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImNhbGxzdGF0ZVwiXSAgPSBcIkFOU1dFUkVEXCI7XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJhbnN3ZXJ0aW1lXCJdICA9IE1hdGguZmxvb3IobmV3IERhdGUoKS8xMDAwKTtcbiAgICAgICAgcmV0dXJuIFwic3VjY2Vzc1wiO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nLmRlYnVnKFwiTG9nOiB7fVwiLCBlKTtcbiAgICAgICAgcmV0dXJuIFwiZXJyb3IuZXhjZXB0aW9uXCI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0Rpc2Nvbm5lY3RSZWFzb24oc2Vzc2lvbiA6IGFueSwgZXZlbnQgOiBhbnksIGxvY2FsUGFyYW1zOiBhbnkgKXtcbiAgICBsZXQgbG9nID0gc2Vzc2lvbi5sb2c7XG5cbiAgICB0cnkgeyAgXG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJjYWxsc3RhdGVcIl0gID0gXCJDb25uZWN0RXJyb3JcIjtcbiAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImNvbm5lY3RlcnJvcnRpbWVcIl0gID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLzEwMDApOyAgICAgICAgXG4gICAgICAgIGxldCBldmVudHNTdGFjaz1ldmVudFsnZXZlbnRzLXN0YWNrJ107XG4gICAgICAgIGlmKCBldmVudHNTdGFjayE9bnVsbCAmJiBldmVudHNTdGFjay5zaXplKCk+MCApe1xuICAgICAgICAgICAgZm9yKHZhciBpPWV2ZW50c1N0YWNrLnNpemUoKS0xO2k+PTA7aS0tKXtcbiAgICAgICAgICAgICAgICBpZiggZXZlbnRzU3RhY2suZ2V0KGkpLmVxdWFscyhcImxlZy50aW1lb3V0XCIpICYmIGk+PShldmVudHNTdGFjay5zaXplKCktMikpe1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmxvZ2luZm8gPSBzZXNzaW9uLmxvZ2luZm8rXCJUSU1FT1VUO1wiOyBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3IubXJmLmNvbm5lY3QudGltZW91dFwiOyAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nLmRlYnVnKFwiTG9nOiB7fVwiLCBlKTtcbiAgICAgICAgcmV0dXJuIFwiZXJyb3IubXJmLmNvbm5lY3QuZXhjZXB0aW9uXCI7XG4gICAgfSAgICAgICAgXG4gICAgcmV0dXJuIFwiZXJyb3IubXJmLmNvbm5lY3Qub3RoZXJzXCI7XG59XG5cbmZ1bmN0aW9uIHNldHJlbGVhc2Uoc2Vzc2lvbiA6IGFueSwgZXZlbnQgOiBhbnksIGxvY2FsUGFyYW1zOiBhbnkgKXtcbiAgICBsZXQgbG9nID0gc2Vzc2lvbi5sb2c7XG5cbiAgICB0cnkgeyAgXG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJjYWxsc3RhdGVcIl0gID0gXCJSZWxlYXNlZFwiO1xuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wicmVsZWFzZXRpbWVcIl0gID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLzEwMDApOyAgICAgICAgXG4gICAgICAgIHJldHVybiBcInN1Y2Nlc3NcIjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcIkxvZzoge31cIiwgZSk7XG4gICAgICAgIHJldHVybiBcImVycm9yLnJlbGVhc2VcIjtcbiAgICB9ICAgICAgICBcbn1cblxuZnVuY3Rpb24gcHJlcGFyZUNhbGxSb3V0aW5nKHNlc3Npb246YW55LGV2ZW50RGF0YTphbnksbG9jYWxQYXJhbXM6YW55KTogYW55IHtcbiBsZXQgcmV0OiBSZXN1bHRDb2RlIDtcbiAgICByZXQgPSByZXQgfHwge307XG4gICAgcmV0LnJlc3VsdENvZGU9XCJzdWNjZXNzXCI7XG4gICAgbGV0IHN0YXR1czIgOiBzdHJpbmc7XG4gICAgbGV0IGV2ZW50cyA6IEV2ZW50cztcbiAgICBldmVudHMgPSBldmVudHMgfHwge307XG4gICAgZXZlbnRzLkluZm9Qb2xsRXZlbnQ9XCJudWxsXCI7XG4gICAgZXZlbnRzLlN1Y2Nlc3NSZXNwb25zZVBvbGxFdmVudD1cIm51bGxcIjtcbiAgICBldmVudHMuUmF3Q29udGVudFBvbGxFdmVudD1cInRlc3QvdGVzdFwiO1xuICAgIGxldCBoZWFkZXJWYXJzIDogSGVhZGVyVmFycztcbiAgICBoZWFkZXJWYXJzID0gaGVhZGVyVmFycyB8fCB7fTtcbiAgICBoZWFkZXJWYXJzLmRpc2FibGVTZW5kRGVmYXVsdFJlYXNvbiA9IFwiRGlzYWJsZWRcIjtcbiAgICBoZWFkZXJWYXJzLmRpc2FibGVTZW5kTm9BbnN3ZXJSZWFzb24gPSBcIkRpc2FibGVkXCI7XG4gICAgbGV0IHJpbmdpbmdUb25lcyA6IFtSaW5naW5nVG9uZV07XG4gICAgcmluZ2luZ1RvbmVzID0gcmluZ2luZ1RvbmVzIHx8IFtdO1xuICAgIGxldCBjb21mIDogUmluZ2luZ1RvbmU7XG4gICAgY29tZiA9IGNvbWYgfHwge307XG4gICAgY29tZi5hbm5vX25hbWU9XCJjb21mb3J0XCI7XG4gICAgY29tZi5hbm5vX3R5cGU9QW5ub3R5cGUuQ09OTkVDVDtcbiAgICBsZXQgcmluZyA6IFJpbmdpbmdUb25lO1xuICAgIHJpbmcgPSByaW5nIHx8IHt9O1xuICAgIHJpbmcuYW5ub19uYW1lPVwicmluZ2luZ1wiO1xuICAgIHJpbmcuYW5ub190eXBlPUFubm90eXBlLlJJTkdJTkc7XG4gICAgcmluZ2luZ1RvbmVzLnB1c2goY29tZiwgcmluZyk7XG4gICAgbGV0IGNhcGFiaWxpdGllcyA9IHNlc3Npb25EYXRhLmluQ2FwYWJpbGl0aWVzO1xuICAgIGlmKCBjYXBhYmlsaXRpZXMhPW51bGwpe1xuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuUEVNKTtcbiAgICAgICAgY2FwYWJpbGl0aWVzLnB1c2goQ2FwYWJpbGl0aWVzLkZPUktJTkcpO1xuICAgICAgICBzZXNzaW9uRGF0YS5vdXRDYXBhYmlsaXRpZXMgPSBKU09OLnN0cmluZ2lmeShjYXBhYmlsaXRpZXMpO1xuICAgIH1cbiAgICBzZXNzaW9uLmV2ZW50cyA9IEpTT04uc3RyaW5naWZ5KGV2ZW50cyk7XG4gICAgc2Vzc2lvbi5oZWFkZXJydWxldmFyPUpTT04uc3RyaW5naWZ5KGhlYWRlclZhcnMpO1xuICAgIHNlc3Npb24uaGVhZGVycnVsZXNzZWxlY3QgPSBcIlNpcFNlcnZpY2VTcGVjaWZpY1J1bGVzU2V0XCI7XG4gICAgc2Vzc2lvbi5yaW5naW5ndG9uZXMgPSBKU09OLnN0cmluZ2lmeShyaW5naW5nVG9uZXMpO1xuICAgIHNlc3Npb24udXBzdHJlYW1DYXBhYmlsaXRpZXM9SlNPTi5zdHJpbmdpZnkoW10pO1xuICAgIHN0YXR1czIgPSBcInN1Y2Nlc3NcIjtcbiAgICByZXR1cm4gcmV0O1xufVxuIl19