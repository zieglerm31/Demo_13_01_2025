"use strict";
var Capabilities;
(function (Capabilities) {
    Capabilities["REL1XX"] = "REL1XX";
    Capabilities["FORKING"] = "FORKING";
    Capabilities["PRECONDITION"] = "PRECONDITION";
    Capabilities["PEM"] = "PEM";
    Capabilities["UPDATE"] = "UPDATE";
})(Capabilities || (Capabilities = {}));
var Annotype;
(function (Annotype) {
    Annotype["CONNECT"] = "CONNECT";
    Annotype["RINGING"] = "RING";
})(Annotype || (Annotype = {}));
var CallPollActionType;
(function (CallPollActionType) {
    CallPollActionType["Accept"] = "accept";
    CallPollActionType["Forward"] = "forward";
    CallPollActionType["Reject"] = "reject";
})(CallPollActionType || (CallPollActionType = {}));
var CallStartActionType;
(function (CallStartActionType) {
    CallStartActionType[CallStartActionType["Abort"] = 0] = "Abort";
    CallStartActionType[CallStartActionType["Forward"] = 1] = "Forward";
    CallStartActionType[CallStartActionType["RejectMrf"] = 2] = "RejectMrf";
})(CallStartActionType || (CallStartActionType = {}));
var MediaOperationActionType;
(function (MediaOperationActionType) {
    MediaOperationActionType["PerformMediaOperation"] = "performMediaOperation";
})(MediaOperationActionType || (MediaOperationActionType = {}));
var MediaOperationContentType;
(function (MediaOperationContentType) {
    MediaOperationContentType["MSML"] = "application/msml+xml";
})(MediaOperationContentType || (MediaOperationContentType = {}));
;
;
function SendINFOPromptandCollect(session, event, localParams) {
    var content = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<msml  version=\"1.1\">\n<dialogstart name=\"annoPromptCollect\" target=\"conn:";
    content = content + session["mrf"]["downStreamToTag"];
    content = content + "\" type=\"application/moml+xml\">\n<play interval=\"100ms\" iterate=\"1\" cleardb=\"true\" maxtime=\"50000ms\" barge=\"true\">\n <audio uri=\"file:///appl/wav/simpleplay.wav\"/>\n <playexit>\n   <exit namelist=\"play.end play.amt\"/>\n </playexit>\n</play>\n</dialogstart>\n</msml>";
    var outevent = {
        "callid": session["fsm-id"],
        "event-type": "sip",
        "queue": "TASV4_1",
        "id": 2,
        "action": {
            "legaction": "performMediaOperation",
            "performMediaOperation": {
                "ContentType": "application/msml+xml",
                "Content": content
            },
            "type": 3
        },
        "event-name": "sip.media.playAnnouncement",
        "eventname": "callEarlyAnswered",
        "session": session["fsm-id"]
    };
    return outevent;
}
function inputvalidation(session, event, localParams) {
    var log = session.log;
    try {
        if (session["s_SIPInvite"] != null) {
            if (session["s_SIPInvite"]["event-type"] !== null && (session["s_SIPInvite"]["event-type"] === "sip" || session["s_SIPInvite"]["event-type"] === "occp")) {
                if (session["s_SIPInvite"]["event-name"] !== null && session["s_SIPInvite"]["event-name"] === "sip.callStart.NONE")
                    log.debug("got sip invite");
                else
                    return "error.input.sipinviteincorrecteventname";
            }
            else {
                return "error.input.sipinviteincorrecteventtype";
            }
        }
        else {
            return "error.input.sipinvitemissing";
        }
        return "true";
        if (event["announcement"] != null) {
            log.debug("announcement: {}", event["announcement"]);
            session["mrf"]["announcement"] = event["announcement"];
        }
        else {
            return "error.input.actionmissing";
        }
        if ((event["action"] != null) && ((event["action"] === "promptandcollect") || (event["action"] === "playannouncement"))) {
            log.debug("action: {}", event["action"]);
            if (event["action"] === "promptandcollect")
                session["mrf"]["action"] = "promptandcollect";
            else if (event["action"] === "playannouncement")
                session["mrf"]["action"] = "playannouncement";
            else
                return "error.input.actionincorrect";
        }
        else {
            return "error.input.actionmissing";
        }
        if (event["earlydialog"] != null) {
            log.debug("earlydialog: {}", event["earlydialog"]);
            if (event["earlydialog"] === true) {
                session["mrf"]["earlydialog"] = true;
                return "true";
            }
            else if (event["earlydialog"] === false) {
                session["mrf"]["earlydialog"] = false;
                return "false";
            }
            else {
                return "error.input.earlydialogincorrect";
            }
        }
        else {
            return "error.input.earlydialog";
        }
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.exception";
    }
}
function armMRFevents(sessionData, eventData, localParams) {
    var ret;
    var status2;
    var events;
    events = events || {};
    events.InfoPollEvent = "null";
    events.SuccessResponsePollEvent = "null";
    events.RawContentPollEvent = "test/test";
    var headerVars;
    headerVars = headerVars || {};
    headerVars.disableSendDefaultReason = "Disabled";
    headerVars.disableSendNoAnswerReason = "Disabled";
    var ringingTones;
    ringingTones = ringingTones || [];
    var comf;
    comf = comf || {};
    comf.anno_name = "comfort";
    comf.anno_type = Annotype.CONNECT;
    var ring;
    ring = ring || {};
    ring.anno_name = "ringing";
    ring.anno_type = Annotype.RINGING;
    ringingTones.push(comf, ring);
    var capabilities = sessionData.inCapabilities;
    if (capabilities != null) {
        capabilities.push(Capabilities.PEM);
        capabilities.push(Capabilities.FORKING);
        capabilities.push(Capabilities.UPDATE);
        capabilities.push(Capabilities.INFO);
        sessionData.outCapabilities = JSON.stringify(capabilities);
    }
    sessionData.events = JSON.stringify(events);
    sessionData.headerrulevar = JSON.stringify(headerVars);
    sessionData.headerrulesselect = "SipServiceSpecificRulesSet";
    sessionData.ringingtones = JSON.stringify(ringingTones);
    sessionData.upstreamCapabilities = JSON.stringify([]);
    return "success";
}
function handle200OKINVITE(session, event, localParams) {
    var log = session.log;
    try {
        var eventData = localParams.message;
        session["mrf"]["headerrulevar=null"];
        session["mrf"]["headerrulesselect"] = null;
        session["mrf"]["ringingtones"] = null;
        var pollAction = void 0;
        pollAction = pollAction || {};
        pollAction.type = CallPollActionType.Accept;
        session.sendAction = JSON.stringify(pollAction);
        session["mrf"]["time200OKINVITE"] = Math.floor(new Date() / 1000);
        var to = eventData.SIP.To;
        if (to != null) {
            log.debug("received from MRF to tag:{}", to);
            session["mrf"]["callstate"] = "MRFCONNECTED200OK";
            session["mrf"]["downStreamToTag"] = to.tag;
            return "success";
        }
        else {
            log.debug("received from MRF no to tag:{}", to);
            return "error.nototag";
        }
    }
    catch (e) {
        log.debug("handle200OKINVITE Log: {}", e);
        return "error.exception";
    }
}
function handle200OKINFO(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["time200OKINFO"] = Math.floor(new Date() / 1000);
        session["mrf"]["callstate"] = "MRFCONNECTED";
        if (event.SIP.content.json.msml.event.name[2] != null) {
            if (event.SIP.content.json.msml.event.name[2] == "dtmf.digits") {
                log.debug("Got DTMF digits;");
                if (event.SIP.content.json.msml.event.value[1] != null) {
                    session["mrf"]["dtmfdigit"] = event.SIP.content.json.msml.event.value[1];
                }
                else {
                    session["mrf"]["dtmfdigit"] = "0";
                }
            }
            else {
                log.debug("No DTMF digits;");
            }
        }
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.exception";
    }
    return session["mrf"]["dtmfdigit"];
}
function callAnswered(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["callstate"] = "ANSWERED";
        session["mrf"]["answertime"] = Math.floor(new Date() / 1000);
        return "success";
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.exception";
    }
}
function checkDisconnectReason(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["callstate"] = "ConnectError";
        session["mrf"]["connecterrortime"] = Math.floor(new Date() / 1000);
        var eventsStack = event['events-stack'];
        if (eventsStack != null && eventsStack.size() > 0) {
            for (var i = eventsStack.size() - 1; i >= 0; i--) {
                if (eventsStack.get(i).equals("leg.timeout") && i >= (eventsStack.size() - 2)) {
                    session.loginfo = session.loginfo + "TIMEOUT;";
                    return "error.mrf.connect.timeout";
                }
            }
        }
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.mrf.connect.exception";
    }
    return "error.mrf.connect.others";
}
function setrelease(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"]["callstate"] = "Released";
        session["mrf"]["releasetime"] = Math.floor(new Date() / 1000);
        return "success";
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error.release";
    }
}
function prepareCallRouting(session, eventData, localParams) {
    var ret;
    ret = ret || {};
    ret.resultCode = "success";
    var status2;
    var events;
    events = events || {};
    events.InfoPollEvent = "null";
    events.SuccessResponsePollEvent = "null";
    events.RawContentPollEvent = "test/test";
    var headerVars;
    headerVars = headerVars || {};
    headerVars.disableSendDefaultReason = "Disabled";
    headerVars.disableSendNoAnswerReason = "Disabled";
    var ringingTones;
    ringingTones = ringingTones || [];
    var comf;
    comf = comf || {};
    comf.anno_name = "comfort";
    comf.anno_type = Annotype.CONNECT;
    var ring;
    ring = ring || {};
    ring.anno_name = "ringing";
    ring.anno_type = Annotype.RINGING;
    ringingTones.push(comf, ring);
    var capabilities = sessionData.inCapabilities;
    if (capabilities != null) {
        capabilities.push(Capabilities.PEM);
        capabilities.push(Capabilities.FORKING);
        sessionData.outCapabilities = JSON.stringify(capabilities);
    }
    session.events = JSON.stringify(events);
    session.headerrulevar = JSON.stringify(headerVars);
    session.headerrulesselect = "SipServiceSpecificRulesSet";
    session.ringingtones = JSON.stringify(ringingTones);
    session.upstreamCapabilities = JSON.stringify([]);
    status2 = "success";
    return ret;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFXQSxJQUFLLFlBTUo7QUFORCxXQUFLLFlBQVk7SUFDZixpQ0FBaUIsQ0FBQTtJQUNqQixtQ0FBa0IsQ0FBQTtJQUNsQiw2Q0FBMkIsQ0FBQTtJQUMzQiwyQkFBUyxDQUFBO0lBQ1QsaUNBQWUsQ0FBQTtBQUNqQixDQUFDLEVBTkksWUFBWSxLQUFaLFlBQVksUUFNaEI7QUFzREQsSUFBSyxRQUdKO0FBSEQsV0FBSyxRQUFRO0lBQ1gsK0JBQW1CLENBQUE7SUFDbkIsNEJBQWdCLENBQUE7QUFDbEIsQ0FBQyxFQUhJLFFBQVEsS0FBUixRQUFRLFFBR1o7QUF1QkQsSUFBSyxrQkFJSjtBQUpELFdBQUssa0JBQWtCO0lBQ3RCLHVDQUFpQixDQUFBO0lBQ2pCLHlDQUFtQixDQUFBO0lBQ25CLHVDQUFpQixDQUFBO0FBQ2xCLENBQUMsRUFKSSxrQkFBa0IsS0FBbEIsa0JBQWtCLFFBSXRCO0FBRUQsSUFBSyxtQkFJSjtBQUpELFdBQUssbUJBQW1CO0lBQ3ZCLCtEQUFTLENBQUE7SUFDVCxtRUFBVyxDQUFBO0lBQ1gsdUVBQWEsQ0FBQTtBQUNkLENBQUMsRUFKSSxtQkFBbUIsS0FBbkIsbUJBQW1CLFFBSXZCO0FBZ0NELElBQUssd0JBRUo7QUFGRCxXQUFLLHdCQUF3QjtJQUM1QiwyRUFBK0MsQ0FBQTtBQUNoRCxDQUFDLEVBRkksd0JBQXdCLEtBQXhCLHdCQUF3QixRQUU1QjtBQUVELElBQUsseUJBRUo7QUFGRCxXQUFLLHlCQUF5QjtJQUM3QiwwREFBNkIsQ0FBQTtBQUM5QixDQUFDLEVBRkkseUJBQXlCLEtBQXpCLHlCQUF5QixRQUU3QjtBQW1GRCxDQUFDO0FBQ0QsQ0FBQztBQTJFRCxTQUFTLHdCQUF3QixDQUFDLE9BQWEsRUFBRSxLQUFXLEVBQUUsV0FBZ0I7SUEwQjFFLElBQUksT0FBTyxHQUFHLDZIQUE2SCxDQUFDO0lBQzVJ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aW50ZXJmYWNlIExlZyB7XHJcbiAgYWRkcmVzcyA6IHN0cmluZztcclxuICBuYW1lIDogc3RyaW5nXHJcbn1cclxuaW50ZXJmYWNlIENhbGwge1xyXG4gIHN0YXRlIDogbnVtYmVyXHJcbn1cclxuXHJcbmVudW0gQ2FwYWJpbGl0aWVzIHtcclxuICBSRUwxWFggPSBcIlJFTDFYWFwiLFxyXG4gIEZPUktJTkc9IFwiRk9SS0lOR1wiLFxyXG4gIFBSRUNPTkRJVElPTj1cIlBSRUNPTkRJVElPTlwiLFxyXG4gIFBFTT1cIlBFTVwiLFxyXG4gIFVQREFURT1cIlVQREFURVwiXHJcbn1cclxuXHJcbmludGVyZmFjZSBNZXNzYWdlIHtcclxuICBtZXRob2QgOiBbc3RyaW5nXTtcclxuICB0eXBlIDogW3N0cmluZ107XHJcbiAgYm9keSA6IFtzdHJpbmddXHJcbn1cclxuXHJcbmludGVyZmFjZSBTSVAge1xyXG4gIGNhcGFiaWxpdGllcyA6IFtDYXBhYmlsaXRpZXNdO1xyXG4gIG1lc3NhZ2UgOiBNZXNzYWdlXHJcbn1cclxuXHJcbmludGVyZmFjZSBDYWxsU3RhcnQge1xyXG4gIGNvbnRhY3QgOiBzdHJpbmc7XHJcbiAgY2F1c2U6IHN0cmluZztcclxuICBsZWcgOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIENhbGxQb2xsIHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgdHlwZTogc3RyaW5nO1xyXG4gIGxlZzogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBFdmVudCB7XHJcbiAgbmFtZSA6IHN0cmluZztcclxuICBjYWxsU3RhcnQ/IDogQ2FsbFN0YXJ0O1xyXG4gIGNhbGxQb2xsPyA6IENhbGxQb2xsXHJcbn1cclxuXHJcblxyXG5pbnRlcmZhY2UgT0NDUEV2ZW50IHtcclxuICBjYWxsaWQgOiBzdHJpbmc7XHJcbiAgY2FsbCA6IENhbGw7XHJcbiAgYXMgOiBzdHJpbmc7XHJcbiAgZXZlbnR0aW1lIDogbnVtYmVyO1xyXG4gIFNJUCA6IFNJUDtcclxuICBldmVudDogRXZlbnRcclxufVxyXG5cclxuaW50ZXJmYWNlIEV2ZW50cyB7XHJcbiAgU3VjY2Vzc1Jlc3BvbnNlUG9sbEV2ZW50PyA6IHN0cmluZztcclxuICBSYXdDb250ZW50UG9sbEV2ZW50PyA6IHN0cmluZztcclxuICBJbmZvUG9sbEV2ZW50Pzogc3RyaW5nXHJcbn1cclxuLyoqXHJcbiAgRGVmaW5lIGhlYWRlciB2YXJpYWJsZXMgdXNlZCBieSBhcHBsaWNhdGlvblxyXG4qL1xyXG5pbnRlcmZhY2UgSGVhZGVyVmFycyB7XHJcbiAgZGlzYWJsZVNlbmREZWZhdWx0UmVhc29uPyA6IHN0cmluZztcclxuICBkaXNhYmxlU2VuZE5vQW5zd2VyUmVhc29uPyA6IHN0cmluZ1xyXG59XHJcblxyXG5lbnVtIEFubm90eXBlIHtcclxuICBDT05ORUNUID0gXCJDT05ORUNUXCIsXHJcbiAgUklOR0lORyA9IFwiUklOR1wiXHJcbn1cclxuXHJcbmludGVyZmFjZSBSaW5naW5nVG9uZSB7XHJcbiAgYW5ub19uYW1lIDogc3RyaW5nO1xyXG4gIGFubm9fdHlwZSA6IEFubm90eXBlXHJcbn1cclxuXHJcbmludGVyZmFjZSBTZXNzaW9uIHtcclxuICBsb2cgOiBhbnk7XHJcbiAgaW5DYXBhYmlsaXRpZXMgOiBbQ2FwYWJpbGl0aWVzXTtcclxuICBvdXRDYXBhYmlsaXRpZXM/IDogc3RyaW5nO1xyXG4gIGV2ZW50cz8gOiBzdHJpbmc7XHJcbiAgaGVhZGVycnVsZXZhcj8gOiBzdHJpbmc7XHJcbiAgaGVhZGVycnVsZXNzZWxlY3Q/IDogc3RyaW5nO1xyXG4gIHJpbmdpbmd0b25lcz8gOiBzdHJpbmc7XHJcbiAgc2VuZEFjdGlvbj8gOiBzdHJpbmcgO1xyXG4gIFNJUEhlbHBlciA6IGFueTtcclxuICBTSVBJbml0aWFsSW52aXRlPyA6IGFueTtcclxuICBTSVBNZXNzYWdlPyA6IGFueTtcclxuICBTSVBNZXNzYWdlVHlwZT8gOiBhbnlcclxufVxyXG5cclxuXHJcbmVudW0gQ2FsbFBvbGxBY3Rpb25UeXBlIHtcclxuIEFjY2VwdCA9IFwiYWNjZXB0XCIsXHJcbiBGb3J3YXJkID0gXCJmb3J3YXJkXCIsXHJcbiBSZWplY3QgPSBcInJlamVjdFwiLFxyXG59XHJcblxyXG5lbnVtIENhbGxTdGFydEFjdGlvblR5cGUge1xyXG4gQWJvcnQgPSAwLFxyXG4gRm9yd2FyZCA9IDEsXHJcbiBSZWplY3RNcmYgPSAyXHJcbn1cclxuXHJcblxyXG5cclxuLyoqXHJcbiBTZXQgYWN0aW9uIGZvciBDYWxsU3RhcnQgZXZlbnRcclxuKi9cclxuaW50ZXJmYWNlIENhbGxTdGFydEFjdGlvbiB7XHJcbiB0eXBlIDogQ2FsbFN0YXJ0QWN0aW9uVHlwZTtcclxuIGVycm9yY29kZSA6IG51bWJlcjtcclxuIGNhdXNlIDogc3RyaW5nIDtcclxuIHVyaSA6IHN0cmluZztcclxuIGVhcmx5bWVkaWEgOiBudW1iZXI7XHJcbiBsZWduYW1lIDogc3RyaW5nIFxyXG59XHJcblxyXG4vKipcclxuIFNldCBhY3Rpb24gZm9yIENhbGxQb2xsIGV2ZW50XHJcbiovXHJcbmludGVyZmFjZSBDYWxsUG9sbEFjdGlvbiB7XHJcbiB0eXBlIDogQ2FsbFBvbGxBY3Rpb25UeXBlXHJcbn1cclxuXHJcblxyXG4vKipcclxuIEFwcGxpY2F0aW9uIGNhbiBzZXQgYWN0aW9uIGZvciBhIHNwZWNpZmljIGxlZywgdGhpcyBpcyBhcHBsaWNhYmxlIGZvciBNUkYgY29udGFjdFxyXG4gKi9cclxuaW50ZXJmYWNlIExlZ0FjdGlvbiB7XHJcbiB0eXBlIDogQ2FsbFN0YXJ0QWN0aW9uVHlwZSA7XHJcbiBsZWdhY3Rpb24gOiBzdHJpbmdcclxufVxyXG5cclxuZW51bSBNZWRpYU9wZXJhdGlvbkFjdGlvblR5cGUge1xyXG4gUGVyZm9ybU1lZGlhT3BlcmF0aW9uID0gXCJwZXJmb3JtTWVkaWFPcGVyYXRpb25cIlxyXG59XHJcblxyXG5lbnVtIE1lZGlhT3BlcmF0aW9uQ29udGVudFR5cGUge1xyXG4gTVNNTCA9IFwiYXBwbGljYXRpb24vbXNtbCt4bWxcIlxyXG59XHJcblxyXG5pbnRlcmZhY2UgUGVyZm9ybU1lZGlhT3BlcmF0aW9uIHtcclxuIENvbnRlbnRUeXBlIDogTWVkaWFPcGVyYXRpb25Db250ZW50VHlwZTtcclxuIENvbnRlbnQgOiBzdHJpbmdcclxufVxyXG5cclxuaW50ZXJmYWNlIE1lZGlhT3BlcmF0aW9uQWN0aW9uIHtcclxuIHR5cGUgOiBudW1iZXI7XHJcbiBsZWdhY3Rpb24gOiBNZWRpYU9wZXJhdGlvbkFjdGlvblR5cGU7XHJcbiBwZXJmb3JtTWVkaWFPcGVyYXRpb24gOiBQZXJmb3JtTWVkaWFPcGVyYXRpb25cclxufVxyXG5cclxuaW50ZXJmYWNlIEFjdGlvbiB7XHJcbiBhY3Rpb24gOiBhbnkgXHJcbn1cclxuXHJcblxyXG5pbnRlcmZhY2UgSGVhZGVyIHtcclxuIGhlYWRlciA6IHN0cmluZztcclxuIHZhbHVlIDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUUhlYWRlciB7XHJcbiBQcml2YWN5IDogc3RyaW5nO1xyXG4gUmVhc29uIDogc3RyaW5nIDtcclxufVxyXG5cclxuaW50ZXJmYWNlIFBhcmFtZXRlciB7XHJcbiB0cmFuc3BvcnQgOiBzdHJpbmc7XHJcbiB1c2VyIDogc3RyaW5nIDtcclxufVxyXG5cclxuaW50ZXJmYWNlIFVSSSB7XHJcbiBzY2hlbWUgOiBzdHJpbmc7XHJcbiBhdXRob3JpdHkgOiBzdHJpbmcgO1xyXG4gZ3IgOiBzdHJpbmcgO1xyXG4gaG9zdDogc3RyaW5nIDtcclxuIGxyIDogc3RyaW5nIDtcclxuIG1hZGRyIDogc3RyaW5nIDtcclxuIHBvcnQgOiBudW1iZXIgIDtcclxuIHVzZXIgOiBzdHJpbmcgO1xyXG4gcGFyYW1ldGVycyA6IFtQYXJhbWV0ZXJdO1xyXG4gcWhlYWRlciA6IFtRSGVhZGVyXTtcclxufVxyXG5cclxuaW50ZXJmYWNlIEFkZHJlc3Mge1xyXG4gZGlzcGxheU5hbWUgOiBzdHJpbmc7XHJcbiB1cmkgOiBVUkkgXHJcbn1cclxuXHJcbmludGVyZmFjZSBIaXN0b3J5SW5mbyBpbXBsZW1lbnRzIEhlYWRlciB7XHJcbiBhZGRyZXNzIDogQWRkcmVzcztcclxuIGluZGV4IDogc3RyaW5nXHJcbn1cclxuXHJcbmludGVyZmFjZSBQQUkgaW1wbGVtZW50cyBIZWFkZXIgIHtcclxuIGFkZHJlc3MgOiBBZGRyZXNzXHJcbn1cclxuXHJcbmludGVyZmFjZSBGcm9tIGltcGxlbWVudHMgSGVhZGVyIHtcclxuIGFkZHJlc3MgOiBBZGRyZXNzO1xyXG4gdGFnIDogc3RyaW5nIDtcclxufVxyXG5cclxuaW50ZXJmYWNlIFRvIGltcGxlbWVudHMgSGVhZGVyIHtcclxuIGFkZHJlc3MgOiBBZGRyZXNzO1xyXG4gdGFnIDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUENWIGltcGxlbWVudHMgSGVhZGVyIHtcclxuIGljaWRfZ2VuZXJhdGVkX2F0OiBzdHJpbmcgO1xyXG4gaWNpZF92YWx1ZSA6IHN0cmluZyA7XHJcbiBvYWlkIDogc3RyaW5nO1xyXG4gdGFpZCA6IHN0cmluZztcclxuIG9zaWQgOiBzdHJpbmc7XHJcbiB0c2lkIDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUmVzdWx0Q29kZSB7XHJcbiAgcmVzdWx0Q29kZSA6IHN0cmluZyA7XHJcbn1cclxuXG47Ly9NQUlOQkxPQ0tcbjtcbi8qXG4vL2NvbmZpZyBpcyBcIm1yZl9hbm5vdW5jZW1lbnRzXCJcbntcbiAgXCJhbm5vVGVzdFwiOiB7XG4gICAgXCJtYXh0aW1lXCI6IDE1MDAsXG4gICAgXCJwYXRoXCI6IFwiZmlsZTovLy90bXAvYW5ub3MvXCIsXG4gICAgXCJ2YXJpYWJsZVwiOiBcIlwiLFxuICAgIFwiYmFyZ2VcIjogMSxcbiAgICBcInByb21wdFwiOiBcInRlc3RBbm5vLndhdlwiLFxuICAgIFwiZHRtZlwiOiB7XG4gICAgICBcImNsZWFyZGJcIjogMSxcbiAgICAgIFwiaWR0XCI6IDEsXG4gICAgICBcImZkdFwiOiAxLFxuICAgICAgXCJtaW5cIjogMSxcbiAgICAgIFwibWF4XCI6IDEsXG4gICAgICBcInJ0ZlwiOiBcIipcIixcbiAgICAgIFwiY2FuY2VsXCI6IFwiI1wiXG4gICAgfSxcbiAgICBcImFubmlkXCI6IFwiYW5ub1Byb21wdENvbGxlY3RcIixcbiAgICBcImludGVydmFsXCI6IDEwMCxcbiAgICBcIml0ZXJhdGVcIjogMSxcbiAgICBcImNsZWFyZGJcIjogMVxuICB9LFxufVxuXG4vLyBYTUwgaW4gbmV4dXMtc2lwLjMuMC4xLTEuamFyXG48P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiPz4gXG48bXNtbCB2ZXJzaW9uPVwiMS4xXCI+IFxuXHQ8ZGlhbG9nc3RhcnQgbmFtZT1cImFubm9Qcm9tcHRDb2xsZWN0XCIgdGFyZ2V0PVwiY29ubjpjYTQ1ODU1MVwiIHR5cGU9XCJhcHBsaWNhdGlvbi9tb21sK3htbFwiPiBcblx0XHQ8cGxheSBpbnRlcnZhbD1cIjEwMG1zXCIgaXRlcmF0ZT1cIjFcIiBjbGVhcmRiPVwidHJ1ZVwiIG1heHRpbWU9XCI1MDAwMG1zXCIgYmFyZ2U9XCJ0cnVlXCI+IFxuXHRcdFx0PGF1ZGlvIHVyaT1cImZpbGU6Ly8vYXBwbC93YXYvc2ltcGxlcGxheS53YXZcIi8+IFxuXHRcdFx0PHBsYXlleGl0PiBcblx0XHRcdFx0PGV4aXQgbmFtZWxpc3Q9XCJwbGF5LmVuZCBwbGF5LmFtdFwiLz4gXG5cdFx0XHQ8L3BsYXlleGl0PiBcblx0XHQ8L3BsYXk+IFxuXHQ8L2RpYWxvZ3N0YXJ0PiBcbjwvbXNtbD5cblx0ICBcbi8vIFhNTCBpbiBuZXh1cy1zaXAuMy4wLj8/PyBmdXR1cmUgLSBzdXBwb3J0IHByb21wdCBhbmQgY29sbGVjdFxuLy8gcGF0dGVybiBkaWdpdHMgeCBpcyB3aWxkY2FyZCwgeHggYXJlIHR3byB3aWxkY2FyZCBkaWdpdHMsIDEgaXMgdGhlIGRpZ2l0IG9uZSBleGFjdGx5LCBcbi8vIDxwYXR0ZXJuIGRpZ2l0cz1cIjFcIiBpdGVyYXRlPVwiZm9yZXZlclwiPiAgXG51c2luZyBjb2xsZWN0XG48P3htbCB2ZXJzaW9uPVwiMS4wXCI/PlxuPG1zbWwgdmVyc2lvbj1cIjEuMVwiPlxuXHQ8ZGlhbG9nc3RhcnQgdGFyZ2V0PVwiY29ubjoke1RBUkdFVH1cIiB0eXBlPVwiYXBwbGljYXRpb24vbW9tbCt4bWxcIiBuYW1lPVwiZGlhbG9nbmFtZWRlZmF1bHRcIj5cblx0XHQ8Z3JvdXAgdG9wb2xvZ3k9XCJwYXJhbGxlbFwiPlxuXHRcdFx0PHBsYXkgaWQ9XCJiZWZvcmViYXJnZXBsYXlcIj5cblx0XHRcdFx0PGF1ZGlvIHVyaT1cImZpbGU6Ly8vYXBwbC93YXYvc2ltcGxlcGxheS53YXZcIiBmb3JtYXQ9XCJhdWRpby93YXZcIiAgLz5cblx0XHRcdFx0PHBsYXlleGl0PlxuXHRcdFx0XHRcdDxzZW5kIHRhcmdldD1cImNvbGxlY3RcIiBldmVudD1cInN0YXJ0dGltZXJcIi8+XG5cdFx0XHRcdDwvcGxheWV4aXQ+XG5cdFx0XHQ8L3BsYXk+XG5cdFx0XHQ8Y29sbGVjdCBjbGVhcmRiPVwidHJ1ZVwiIGZkdD1cIjVzXCIgaWR0PVwiM3NcIj5cblx0XHRcdFx0PHBhdHRlcm4gZGlnaXRzPVwieFwiPlxuXHRcdFx0XHRcdDxzZW5kIHRhcmdldD1cInNvdXJjZVwiIGV2ZW50PVwiZGlhbG9nbmFtZWRlZmF1bHRcIiBuYW1lbGlzdD1cImR0bWYuZGlnaXRzIGR0bWYuZW5kXCIvPlxuXHRcdFx0XHQ8L3BhdHRlcm4+XG5cdFx0XHRcdDxkZXRlY3Q+XG5cdFx0XHRcdFx0PHNlbmQgdGFyZ2V0PVwicGxheS5iZWZvcmViYXJnZXBsYXlcIiBldmVudD1cInRlcm1pbmF0ZVwiLz5cblx0XHRcdFx0PC9kZXRlY3Q+XG5cdFx0XHRcdDxub2lucHV0PlxuXHRcdFx0XHRcdDxzZW5kIHRhcmdldD1cInNvdXJjZVwiIGV2ZW50PVwiZGlhbG9nbmFtZWRlZmF1bHRcIiBuYW1lbGlzdD1cImR0bWYuZGlnaXRzIGR0bWYuZW5kXCIvPlxuXHRcdFx0XHQ8L25vaW5wdXQ+XG5cdFx0XHRcdDxub21hdGNoPlxuXHRcdFx0XHRcdDxzZW5kIHRhcmdldD1cInNvdXJjZVwiIGV2ZW50PVwiZGlhbG9nbmFtZWRlZmF1bHRcIiBuYW1lbGlzdD1cImR0bWYuZGlnaXRzIGR0bWYuZW5kXCIvPlxuXHRcdFx0XHQ8L25vbWF0Y2g+XG5cdFx0XHQ8L2NvbGxlY3Q+XG5cdFx0PC9ncm91cD5cblx0PC9kaWFsb2dzdGFydD5cbjwvbXNtbD5cblxuXG5cbiovXG5cbmZ1bmN0aW9uIFNlbmRJTkZPUHJvbXB0YW5kQ29sbGVjdChzZXNzaW9uIDogYW55LCBldmVudCA6IGFueSwgbG9jYWxQYXJhbXM6IGFueSApe1xuICAgIC8vc2V0IHRoZSB4bWwgY29ubiBpZCAtLT4gc2Vzc2lvbltcIm1yZlwiXVtcImRvd25TdHJlYW1Ub1RhZ1wiXVxuXG4vKlxuICAgIGxldCBvdXRldmVudCA9IHtcbiAgICBcImNhbGxpZFwiOiBzZXNzaW9uW1wiZnNtLWlkXCJdLFxuICAgIFwiZXZlbnQtdHlwZVwiOiBcInNpcFwiLFxuICAgIFwicXVldWVcIjogXCJUQVNWNF8xXCIsXG4gICAgXCJpZFwiOiAyLFxuICAgIFwidGltZXN0YW1wXCI6IDE3Mzk3ODQ4MzQ1NjMsXG4gICAgXCJhY3Rpb25cIjoge1xuICAgICAgXCJsZWdhY3Rpb25cIjogXCJwZXJmb3JtTWVkaWFPcGVyYXRpb25cIixcbiAgICAgIFwicGVyZm9ybU1lZGlhT3BlcmF0aW9uXCI6IHtcbiAgICAgICAgXCJDb250ZW50VHlwZVwiOiBcImFwcGxpY2F0aW9uL21zbWwreG1sXCIsXG4gICAgICAgIFwiQ29udGVudFwiOiBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIj8+XFxuPG1zbWwgIHZlcnNpb249XFxcIjEuMVxcXCI+XFxuPGRpYWxvZ3N0YXJ0IG5hbWU9XFxcImFubm9Qcm9tcHRDb2xsZWN0XFxcIiB0YXJnZXQ9XFxcImNvbm46NWIwMDdjNDBcXFwiIHR5cGU9XFxcImFwcGxpY2F0aW9uL21vbWwreG1sXFxcIj5cXG48cGxheSBpbnRlcnZhbD1cXFwiMTAwbXNcXFwiIGl0ZXJhdGU9XFxcIjFcXFwiIGNsZWFyZGI9XFxcInRydWVcXFwiIG1heHRpbWU9XFxcIjUwMDAwbXNcXFwiIGJhcmdlPVxcXCJ0cnVlXFxcIj5cXG4gPGF1ZGlvIHVyaT1cXFwiZmlsZTovLy9hcHBsL3dhdi9zaW1wbGVwbGF5LndhdlxcXCIvPlxcbiA8cGxheWV4aXQ+XFxuICAgPGV4aXQgbmFtZWxpc3Q9XFxcInBsYXkuZW5kIHBsYXkuYW10XFxcIi8+XFxuIDwvcGxheWV4aXQ+XFxuPC9wbGF5PlxcbjwvZGlhbG9nc3RhcnQ+XFxuPC9tc21sPlwiXG4gICAgICB9LFxuICAgICAgXCJ0eXBlXCI6IDNcbiAgICB9LFxuICAgIFwiZXZlbnQtbmFtZVwiOiBcInNpcC5tZWRpYS5wbGF5QW5ub3VuY2VtZW50XCIsXG4gICAgXCJldmVudG5hbWVcIjogXCJjYWxsRWFybHlBbnN3ZXJlZFwiLFxuICAgIFwic2Vzc2lvblwiOiBzZXNzaW9uW1wiZnNtLWlkXCJdLFxuICAgIFwiZXZlbnR0aW1lXCI6IDE3Mzk3ODQ4MzQ1NzlcbiAgfTtcblxuICBcIkNvbnRlbnRcIjogXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJVVEYtOFxcXCI/Plxcbjxtc21sICB2ZXJzaW9uPVxcXCIxLjFcXFwiPlxcbjxkaWFsb2dzdGFydCBuYW1lPVxcXCJhbm5vUHJvbXB0Q29sbGVjdFxcXCIgdGFyZ2V0PVxcXCJjb25uOlxcXCJzZXNzaW9uW1wibXJmXCJdW1wiZG93blN0cmVhbVRvVGFnXCJdIHR5cGU9XFxcImFwcGxpY2F0aW9uL21vbWwreG1sXFxcIj5cXG48cGxheSBpbnRlcnZhbD1cXFwiMTAwbXNcXFwiIGl0ZXJhdGU9XFxcIjFcXFwiIGNsZWFyZGI9XFxcInRydWVcXFwiIG1heHRpbWU9XFxcIjUwMDAwbXNcXFwiIGJhcmdlPVxcXCJ0cnVlXFxcIj5cXG4gPGF1ZGlvIHVyaT1cXFwiZmlsZTovLy9hcHBsL3dhdi9zaW1wbGVwbGF5LndhdlxcXCIvPlxcbiA8cGxheWV4aXQ+XFxuICAgPGV4aXQgbmFtZWxpc3Q9XFxcInBsYXkuZW5kIHBsYXkuYW10XFxcIi8+XFxuIDwvcGxheWV4aXQ+XFxuPC9wbGF5PlxcbjwvZGlhbG9nc3RhcnQ+XFxuPC9tc21sPlwiXG4qL1xuICAgIGxldCBjb250ZW50ID0gXCI8P3htbCB2ZXJzaW9uPVxcXCIxLjBcXFwiIGVuY29kaW5nPVxcXCJVVEYtOFxcXCI/Plxcbjxtc21sICB2ZXJzaW9uPVxcXCIxLjFcXFwiPlxcbjxkaWFsb2dzdGFydCBuYW1lPVxcXCJhbm5vUHJvbXB0Q29sbGVjdFxcXCIgdGFyZ2V0PVxcXCJjb25uOlwiO1xuICAgIGNvbnRlbnQgPSBjb250ZW50ICsgc2Vzc2lvbltcIm1yZlwiXVtcImRvd25TdHJlYW1Ub1RhZ1wiXTtcbiAgICBjb250ZW50ID0gY29udGVudCArIFwiXFxcIiB0eXBlPVxcXCJhcHBsaWNhdGlvbi9tb21sK3htbFxcXCI+XFxuPHBsYXkgaW50ZXJ2YWw9XFxcIjEwMG1zXFxcIiBpdGVyYXRlPVxcXCIxXFxcIiBjbGVhcmRiPVxcXCJ0cnVlXFxcIiBtYXh0aW1lPVxcXCI1MDAwMG1zXFxcIiBiYXJnZT1cXFwidHJ1ZVxcXCI+XFxuIDxhdWRpbyB1cmk9XFxcImZpbGU6Ly8vYXBwbC93YXYvc2ltcGxlcGxheS53YXZcXFwiLz5cXG4gPHBsYXlleGl0PlxcbiAgIDxleGl0IG5hbWVsaXN0PVxcXCJwbGF5LmVuZCBwbGF5LmFtdFxcXCIvPlxcbiA8L3BsYXlleGl0PlxcbjwvcGxheT5cXG48L2RpYWxvZ3N0YXJ0PlxcbjwvbXNtbD5cIjtcbiAgICBcbiAgICBsZXQgb3V0ZXZlbnQgPSB7XG4gICAgXCJjYWxsaWRcIjogc2Vzc2lvbltcImZzbS1pZFwiXSxcbiAgICBcImV2ZW50LXR5cGVcIjogXCJzaXBcIixcbiAgICBcInF1ZXVlXCI6IFwiVEFTVjRfMVwiLFxuICAgIFwiaWRcIjogMixcbiAgICBcImFjdGlvblwiOiB7XG4gICAgICBcImxlZ2FjdGlvblwiOiBcInBlcmZvcm1NZWRpYU9wZXJhdGlvblwiLFxuICAgICAgXCJwZXJmb3JtTWVkaWFPcGVyYXRpb25cIjoge1xuICAgICAgICBcIkNvbnRlbnRUeXBlXCI6IFwiYXBwbGljYXRpb24vbXNtbCt4bWxcIixcbiAgICAgICAgXCJDb250ZW50XCI6IGNvbnRlbnRcbiAgICAgIH0sXG4gICAgICBcInR5cGVcIjogM1xuICAgIH0sXG4gICAgXCJldmVudC1uYW1lXCI6IFwic2lwLm1lZGlhLnBsYXlBbm5vdW5jZW1lbnRcIixcbiAgICBcImV2ZW50bmFtZVwiOiBcImNhbGxFYXJseUFuc3dlcmVkXCIsXG4gICAgXCJzZXNzaW9uXCI6IHNlc3Npb25bXCJmc20taWRcIl1cbiAgfTtcbiAgcmV0dXJuIG91dGV2ZW50O1xufVxuXG5cbmZ1bmN0aW9uIGlucHV0dmFsaWRhdGlvbihzZXNzaW9uIDogYW55LCBldmVudCA6IGFueSwgbG9jYWxQYXJhbXM6IGFueSApe1xuICAgIGxldCBsb2cgPSBzZXNzaW9uLmxvZztcblxuICAgIHRyeSB7XG5cbiAgICAgICAgLy9zaXAgaW52aXRlIGlzIGluICNzZXNzaW9uW1wic19TSVBJbnZpdGVcIl1cbiAgICAgICAgaWYgKCBzZXNzaW9uW1wic19TSVBJbnZpdGVcIl0gIT0gbnVsbCApIHtcbiAgICAgICAgICAgIGlmKCBzZXNzaW9uW1wic19TSVBJbnZpdGVcIl1bXCJldmVudC10eXBlXCJdIT09bnVsbCAmJiAoc2Vzc2lvbltcInNfU0lQSW52aXRlXCJdW1wiZXZlbnQtdHlwZVwiXT09PVwic2lwXCIgfHwgc2Vzc2lvbltcInNfU0lQSW52aXRlXCJdW1wiZXZlbnQtdHlwZVwiXT09PVwib2NjcFwiKSkge1xuICAgICAgICAgICAgICAgIGlmKCBzZXNzaW9uW1wic19TSVBJbnZpdGVcIl1bXCJldmVudC1uYW1lXCJdIT09bnVsbCAmJiBzZXNzaW9uW1wic19TSVBJbnZpdGVcIl1bXCJldmVudC1uYW1lXCJdID09PSBcInNpcC5jYWxsU3RhcnQuTk9ORVwiKVxuICAgICAgICAgICAgICAgICAgICBsb2cuZGVidWcoXCJnb3Qgc2lwIGludml0ZVwiKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImVycm9yLmlucHV0LnNpcGludml0ZWluY29ycmVjdGV2ZW50bmFtZVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJlcnJvci5pbnB1dC5zaXBpbnZpdGVpbmNvcnJlY3RldmVudHR5cGVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcImVycm9yLmlucHV0LnNpcGludml0ZW1pc3NpbmdcIjtcbiAgICAgICAgfVxuXG4vL2ludGVyaW1cbiAgICByZXR1cm4gXCJ0cnVlXCI7XG5cblxuXG5cbiAgICAgICAgLy9hbm5vdW5jZW1lbnQgc3RyaW5nXG4gICAgICAgIGlmICggZXZlbnRbXCJhbm5vdW5jZW1lbnRcIl0gIT0gbnVsbCApIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhcImFubm91bmNlbWVudDoge31cIiwgZXZlbnRbXCJhbm5vdW5jZW1lbnRcIl0pO1xuICAgICAgICAgICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJhbm5vdW5jZW1lbnRcIl0gPSBldmVudFtcImFubm91bmNlbWVudFwiXTsgICAgICAgICAgIFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3IuaW5wdXQuYWN0aW9ubWlzc2luZ1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9wcm9tcHRhbmRjb2xsZWN0LCBwbGF5YW5ub3VuY2VtZW50XG4gICAgICAgIGlmICggKGV2ZW50W1wiYWN0aW9uXCJdICE9IG51bGwpICYmICgoZXZlbnRbXCJhY3Rpb25cIl09PT1cInByb21wdGFuZGNvbGxlY3RcIikgfHwgKGV2ZW50W1wiYWN0aW9uXCJdPT09XCJwbGF5YW5ub3VuY2VtZW50XCIpKSApIHtcbiAgICAgICAgICAgIGxvZy5kZWJ1ZyhcImFjdGlvbjoge31cIiwgZXZlbnRbXCJhY3Rpb25cIl0pO1xuICAgICAgICAgICAgaWYgKCBldmVudFtcImFjdGlvblwiXT09PVwicHJvbXB0YW5kY29sbGVjdFwiICkgXG4gICAgICAgICAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImFjdGlvblwiXSA9IFwicHJvbXB0YW5kY29sbGVjdFwiO1xuICAgICAgICAgICAgZWxzZSBpZiAoIGV2ZW50W1wiYWN0aW9uXCJdPT09XCJwbGF5YW5ub3VuY2VtZW50XCIgKSBcbiAgICAgICAgICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiYWN0aW9uXCJdID0gXCJwbGF5YW5ub3VuY2VtZW50XCI7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3IuaW5wdXQuYWN0aW9uaW5jb3JyZWN0XCI7ICAgICAgICAgICAgXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJlcnJvci5pbnB1dC5hY3Rpb25taXNzaW5nXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvL2Vhcmx5IGRpYWxvZyBpcyBib29sZWFuIHRydWUvZmFsc2VcbiAgICAgICAgaWYgKCBldmVudFtcImVhcmx5ZGlhbG9nXCJdICE9IG51bGwgKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoXCJlYXJseWRpYWxvZzoge31cIiwgZXZlbnRbXCJlYXJseWRpYWxvZ1wiXSk7XG4gICAgICAgICAgICBpZiAoIGV2ZW50W1wiZWFybHlkaWFsb2dcIl0gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiZWFybHlkaWFsb2dcIl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBcInRydWVcIjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIGV2ZW50W1wiZWFybHlkaWFsb2dcIl0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImVhcmx5ZGlhbG9nXCJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZmFsc2VcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3IuaW5wdXQuZWFybHlkaWFsb2dpbmNvcnJlY3RcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBcImVycm9yLmlucHV0LmVhcmx5ZGlhbG9nXCI7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcIkxvZzoge31cIiwgZSk7XG4gICAgICAgIHJldHVybiBcImVycm9yLmV4Y2VwdGlvblwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXJtTVJGZXZlbnRzKHNlc3Npb25EYXRhOmFueSxldmVudERhdGE6YW55LGxvY2FsUGFyYW1zOmFueSk6IGFueSB7XG4gbGV0IHJldDogUmVzdWx0Q29kZSA7XG5cbiAgICBsZXQgc3RhdHVzMiA6IHN0cmluZztcbiAgICBsZXQgZXZlbnRzIDogRXZlbnRzO1xuICAgIGV2ZW50cyA9IGV2ZW50cyB8fCB7fTtcbiAgICBldmVudHMuSW5mb1BvbGxFdmVudD1cIm51bGxcIjtcbiAgICBldmVudHMuU3VjY2Vzc1Jlc3BvbnNlUG9sbEV2ZW50PVwibnVsbFwiO1xuICAgIGV2ZW50cy5SYXdDb250ZW50UG9sbEV2ZW50PVwidGVzdC90ZXN0XCI7XG5cbiAgICBsZXQgaGVhZGVyVmFycyA6IEhlYWRlclZhcnM7XG4gICAgaGVhZGVyVmFycyA9IGhlYWRlclZhcnMgfHwge307XG4gICAgaGVhZGVyVmFycy5kaXNhYmxlU2VuZERlZmF1bHRSZWFzb24gPSBcIkRpc2FibGVkXCI7XG4gICAgaGVhZGVyVmFycy5kaXNhYmxlU2VuZE5vQW5zd2VyUmVhc29uID0gXCJEaXNhYmxlZFwiO1xuXG4gICAgbGV0IHJpbmdpbmdUb25lcyA6IFtSaW5naW5nVG9uZV07XG4gICAgcmluZ2luZ1RvbmVzID0gcmluZ2luZ1RvbmVzIHx8IFtdO1xuICAgIGxldCBjb21mIDogUmluZ2luZ1RvbmU7XG4gICAgY29tZiA9IGNvbWYgfHwge307XG4gICAgY29tZi5hbm5vX25hbWU9XCJjb21mb3J0XCI7XG4gICAgY29tZi5hbm5vX3R5cGU9QW5ub3R5cGUuQ09OTkVDVDtcbiAgICBsZXQgcmluZyA6IFJpbmdpbmdUb25lO1xuICAgIHJpbmcgPSByaW5nIHx8IHt9O1xuICAgIHJpbmcuYW5ub19uYW1lPVwicmluZ2luZ1wiO1xuICAgIHJpbmcuYW5ub190eXBlPUFubm90eXBlLlJJTkdJTkc7XG4gICAgcmluZ2luZ1RvbmVzLnB1c2goY29tZiwgcmluZyk7XG5cbiAgICBsZXQgY2FwYWJpbGl0aWVzID0gc2Vzc2lvbkRhdGEuaW5DYXBhYmlsaXRpZXM7XG4gICAgaWYoIGNhcGFiaWxpdGllcyE9bnVsbCl7XG4gICAgICAgIGNhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5QRU0pO1xuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuRk9SS0lORyk7XG4gICAgICAgIGNhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5VUERBVEUpO1xuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuSU5GTyk7XG4gICAgICAgIHNlc3Npb25EYXRhLm91dENhcGFiaWxpdGllcyA9IEpTT04uc3RyaW5naWZ5KGNhcGFiaWxpdGllcyk7XG4gICAgfVxuXG4gICAgc2Vzc2lvbkRhdGEuZXZlbnRzID0gSlNPTi5zdHJpbmdpZnkoZXZlbnRzKTtcbiAgICBzZXNzaW9uRGF0YS5oZWFkZXJydWxldmFyPUpTT04uc3RyaW5naWZ5KGhlYWRlclZhcnMpO1xuICAgIHNlc3Npb25EYXRhLmhlYWRlcnJ1bGVzc2VsZWN0ID0gXCJTaXBTZXJ2aWNlU3BlY2lmaWNSdWxlc1NldFwiO1xuICAgIHNlc3Npb25EYXRhLnJpbmdpbmd0b25lcyA9IEpTT04uc3RyaW5naWZ5KHJpbmdpbmdUb25lcyk7XG4gICAgc2Vzc2lvbkRhdGEudXBzdHJlYW1DYXBhYmlsaXRpZXM9SlNPTi5zdHJpbmdpZnkoW10pO1xuXG4gICAgcmV0dXJuIFwic3VjY2Vzc1wiO1xufVxuXG5cbmZ1bmN0aW9uIGhhbmRsZTIwME9LSU5WSVRFKHNlc3Npb246YW55LGV2ZW50Ok9DQ1BTSVAuT0NDUEV2ZW50LGxvY2FsUGFyYW1zOmFueSkge1xuICAgIGxldCBsb2cgPSBzZXNzaW9uLmxvZztcblxuICAgIHRyeSB7XG4gICAgICAgIC8vdGhlIHJlY2VpdmVkIGV2ZW50IGlzIG5vdyBpbiBsb2NhbFBhcmFtc1xuICAgICAgICBsZXQgZXZlbnREYXRhID0gbG9jYWxQYXJhbXMubWVzc2FnZTtcbiAgICAgICAgLy9zZXNzaW9uLmV2ZW50cyA9IG51bGw7XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJoZWFkZXJydWxldmFyPW51bGxcIl07XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJoZWFkZXJydWxlc3NlbGVjdFwiXSA9IG51bGw7XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJyaW5naW5ndG9uZXNcIl0gPSBudWxsO1xuXG4gICAgICAgIGxldCBwb2xsQWN0aW9uIDogQ2FsbFBvbGxBY3Rpb247XG4gICAgICAgIHBvbGxBY3Rpb24gPSBwb2xsQWN0aW9uIHx8IHt9O1xuICAgICAgICBwb2xsQWN0aW9uLnR5cGUgPSBDYWxsUG9sbEFjdGlvblR5cGUuQWNjZXB0O1xuICAgICAgICBzZXNzaW9uLnNlbmRBY3Rpb24gPSBKU09OLnN0cmluZ2lmeShwb2xsQWN0aW9uKTtcblxuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1widGltZTIwME9LSU5WSVRFXCJdICA9IE1hdGguZmxvb3IobmV3IERhdGUoKS8xMDAwKTtcblxuICAgICAgICAvL3NhdmUgdG8gdGFnXG4gICAgICAgIGxldCB0byA6IFRvID0gZXZlbnREYXRhLlNJUC5UbztcbiAgICAgICAgaWYoIHRvIT1udWxsKSB7XG4gICAgICAgICAgICBsb2cuZGVidWcoXCJyZWNlaXZlZCBmcm9tIE1SRiB0byB0YWc6e31cIix0byk7XG4gICAgICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiY2FsbHN0YXRlXCJdICA9IFwiTVJGQ09OTkVDVEVEMjAwT0tcIjtcbiAgICAgICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJkb3duU3RyZWFtVG9UYWdcIl09dG8udGFnO1xuICAgICAgICAgICAgcmV0dXJuIFwic3VjY2Vzc1wiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbG9nLmRlYnVnKFwicmVjZWl2ZWQgZnJvbSBNUkYgbm8gdG8gdGFnOnt9XCIsdG8pO1xuICAgICAgICAgICAgcmV0dXJuIFwiZXJyb3Iubm90b3RhZ1wiO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nLmRlYnVnKFwiaGFuZGxlMjAwT0tJTlZJVEUgTG9nOiB7fVwiLCBlKTtcbiAgICAgICAgcmV0dXJuIFwiZXJyb3IuZXhjZXB0aW9uXCI7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGUyMDBPS0lORk8oc2Vzc2lvbjphbnksZXZlbnQ6T0NDUFNJUC5FdmVudCxsb2NhbFBhcmFtczpMb2NhbFBhcmFtZXRlcnMpOiBhbnl7XG4gICAgbGV0IGxvZyA9IHNlc3Npb24ubG9nO1xuXG4gICAgdHJ5IHsgICAgICAgIFxuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1widGltZTIwME9LSU5GT1wiXSAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkvMTAwMCk7XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJjYWxsc3RhdGVcIl0gID0gXCJNUkZDT05ORUNURURcIjtcbiAgICAgICAgaWYgKGV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5ldmVudC5uYW1lWzJdIT1udWxsKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuU0lQLmNvbnRlbnQuanNvbi5tc21sLmV2ZW50Lm5hbWVbMl09PVwiZHRtZi5kaWdpdHNcIikge1xuICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIkdvdCBEVE1GIGRpZ2l0cztcIik7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5ldmVudC52YWx1ZVsxXSE9bnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiZHRtZmRpZ2l0XCJdPWV2ZW50LlNJUC5jb250ZW50Lmpzb24ubXNtbC5ldmVudC52YWx1ZVsxXTsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImR0bWZkaWdpdFwiXT1cIjBcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZy5kZWJ1ZyhcIk5vIERUTUYgZGlnaXRzO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgbG9nLmRlYnVnKFwiTG9nOiB7fVwiLCBlKTtcbiAgICAgICAgcmV0dXJuIFwiZXJyb3IuZXhjZXB0aW9uXCI7XG4gICAgfVxuICAgIHJldHVybiBzZXNzaW9uW1wibXJmXCJdW1wiZHRtZmRpZ2l0XCJdO1xufVxuXG5mdW5jdGlvbiBjYWxsQW5zd2VyZWQoc2Vzc2lvbiA6IGFueSwgZXZlbnQgOiBhbnksIGxvY2FsUGFyYW1zOiBhbnkgKXtcbiAgICBsZXQgbG9nID0gc2Vzc2lvbi5sb2c7XG5cbiAgICB0cnkgeyAgICAgICAgXG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJjYWxsc3RhdGVcIl0gID0gXCJBTlNXRVJFRFwiO1xuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiYW5zd2VydGltZVwiXSAgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkvMTAwMCk7XG4gICAgICAgIHJldHVybiBcInN1Y2Nlc3NcIjtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcIkxvZzoge31cIiwgZSk7XG4gICAgICAgIHJldHVybiBcImVycm9yLmV4Y2VwdGlvblwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tEaXNjb25uZWN0UmVhc29uKHNlc3Npb24gOiBhbnksIGV2ZW50IDogYW55LCBsb2NhbFBhcmFtczogYW55ICl7XG4gICAgbGV0IGxvZyA9IHNlc3Npb24ubG9nO1xuXG4gICAgdHJ5IHsgIFxuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiY2FsbHN0YXRlXCJdICA9IFwiQ29ubmVjdEVycm9yXCI7XG4gICAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJjb25uZWN0ZXJyb3J0aW1lXCJdICA9IE1hdGguZmxvb3IobmV3IERhdGUoKS8xMDAwKTsgICAgICAgIFxuICAgICAgICBsZXQgZXZlbnRzU3RhY2s9ZXZlbnRbJ2V2ZW50cy1zdGFjayddO1xuICAgICAgICBpZiggZXZlbnRzU3RhY2shPW51bGwgJiYgZXZlbnRzU3RhY2suc2l6ZSgpPjAgKXtcbiAgICAgICAgICAgIGZvcih2YXIgaT1ldmVudHNTdGFjay5zaXplKCktMTtpPj0wO2ktLSl7XG4gICAgICAgICAgICAgICAgaWYoIGV2ZW50c1N0YWNrLmdldChpKS5lcXVhbHMoXCJsZWcudGltZW91dFwiKSAmJiBpPj0oZXZlbnRzU3RhY2suc2l6ZSgpLTIpKXtcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5sb2dpbmZvID0gc2Vzc2lvbi5sb2dpbmZvK1wiVElNRU9VVDtcIjsgXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImVycm9yLm1yZi5jb25uZWN0LnRpbWVvdXRcIjsgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhcIkxvZzoge31cIiwgZSk7XG4gICAgICAgIHJldHVybiBcImVycm9yLm1yZi5jb25uZWN0LmV4Y2VwdGlvblwiO1xuICAgIH0gICAgICAgIFxuICAgIHJldHVybiBcImVycm9yLm1yZi5jb25uZWN0Lm90aGVyc1wiO1xufVxuXG5mdW5jdGlvbiBzZXRyZWxlYXNlKHNlc3Npb24gOiBhbnksIGV2ZW50IDogYW55LCBsb2NhbFBhcmFtczogYW55ICl7XG4gICAgbGV0IGxvZyA9IHNlc3Npb24ubG9nO1xuXG4gICAgdHJ5IHsgIFxuICAgICAgICBzZXNzaW9uW1wibXJmXCJdW1wiY2FsbHN0YXRlXCJdICA9IFwiUmVsZWFzZWRcIjtcbiAgICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcInJlbGVhc2V0aW1lXCJdICA9IE1hdGguZmxvb3IobmV3IERhdGUoKS8xMDAwKTsgICAgICAgIFxuICAgICAgICByZXR1cm4gXCJzdWNjZXNzXCI7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2cuZGVidWcoXCJMb2c6IHt9XCIsIGUpO1xuICAgICAgICByZXR1cm4gXCJlcnJvci5yZWxlYXNlXCI7XG4gICAgfSAgICAgICAgXG59XG5cbmZ1bmN0aW9uIHByZXBhcmVDYWxsUm91dGluZyhzZXNzaW9uOmFueSxldmVudERhdGE6YW55LGxvY2FsUGFyYW1zOmFueSk6IGFueSB7XG4gbGV0IHJldDogUmVzdWx0Q29kZSA7XG4gICAgcmV0ID0gcmV0IHx8IHt9O1xuICAgIHJldC5yZXN1bHRDb2RlPVwic3VjY2Vzc1wiO1xuICAgIGxldCBzdGF0dXMyIDogc3RyaW5nO1xuICAgIGxldCBldmVudHMgOiBFdmVudHM7XG4gICAgZXZlbnRzID0gZXZlbnRzIHx8IHt9O1xuICAgIGV2ZW50cy5JbmZvUG9sbEV2ZW50PVwibnVsbFwiO1xuICAgIGV2ZW50cy5TdWNjZXNzUmVzcG9uc2VQb2xsRXZlbnQ9XCJudWxsXCI7XG4gICAgZXZlbnRzLlJhd0NvbnRlbnRQb2xsRXZlbnQ9XCJ0ZXN0L3Rlc3RcIjtcbiAgICBsZXQgaGVhZGVyVmFycyA6IEhlYWRlclZhcnM7XG4gICAgaGVhZGVyVmFycyA9IGhlYWRlclZhcnMgfHwge307XG4gICAgaGVhZGVyVmFycy5kaXNhYmxlU2VuZERlZmF1bHRSZWFzb24gPSBcIkRpc2FibGVkXCI7XG4gICAgaGVhZGVyVmFycy5kaXNhYmxlU2VuZE5vQW5zd2VyUmVhc29uID0gXCJEaXNhYmxlZFwiO1xuICAgIGxldCByaW5naW5nVG9uZXMgOiBbUmluZ2luZ1RvbmVdO1xuICAgIHJpbmdpbmdUb25lcyA9IHJpbmdpbmdUb25lcyB8fCBbXTtcbiAgICBsZXQgY29tZiA6IFJpbmdpbmdUb25lO1xuICAgIGNvbWYgPSBjb21mIHx8IHt9O1xuICAgIGNvbWYuYW5ub19uYW1lPVwiY29tZm9ydFwiO1xuICAgIGNvbWYuYW5ub190eXBlPUFubm90eXBlLkNPTk5FQ1Q7XG4gICAgbGV0IHJpbmcgOiBSaW5naW5nVG9uZTtcbiAgICByaW5nID0gcmluZyB8fCB7fTtcbiAgICByaW5nLmFubm9fbmFtZT1cInJpbmdpbmdcIjtcbiAgICByaW5nLmFubm9fdHlwZT1Bbm5vdHlwZS5SSU5HSU5HO1xuICAgIHJpbmdpbmdUb25lcy5wdXNoKGNvbWYsIHJpbmcpO1xuICAgIGxldCBjYXBhYmlsaXRpZXMgPSBzZXNzaW9uRGF0YS5pbkNhcGFiaWxpdGllcztcbiAgICBpZiggY2FwYWJpbGl0aWVzIT1udWxsKXtcbiAgICAgICAgY2FwYWJpbGl0aWVzLnB1c2goQ2FwYWJpbGl0aWVzLlBFTSk7XG4gICAgICAgIGNhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5GT1JLSU5HKTtcbiAgICAgICAgc2Vzc2lvbkRhdGEub3V0Q2FwYWJpbGl0aWVzID0gSlNPTi5zdHJpbmdpZnkoY2FwYWJpbGl0aWVzKTtcbiAgICB9XG4gICAgc2Vzc2lvbi5ldmVudHMgPSBKU09OLnN0cmluZ2lmeShldmVudHMpO1xuICAgIHNlc3Npb24uaGVhZGVycnVsZXZhcj1KU09OLnN0cmluZ2lmeShoZWFkZXJWYXJzKTtcbiAgICBzZXNzaW9uLmhlYWRlcnJ1bGVzc2VsZWN0ID0gXCJTaXBTZXJ2aWNlU3BlY2lmaWNSdWxlc1NldFwiO1xuICAgIHNlc3Npb24ucmluZ2luZ3RvbmVzID0gSlNPTi5zdHJpbmdpZnkocmluZ2luZ1RvbmVzKTtcbiAgICBzZXNzaW9uLnVwc3RyZWFtQ2FwYWJpbGl0aWVzPUpTT04uc3RyaW5naWZ5KFtdKTtcbiAgICBzdGF0dXMyID0gXCJzdWNjZXNzXCI7XG4gICAgcmV0dXJuIHJldDtcbn1cbiJdfQ==