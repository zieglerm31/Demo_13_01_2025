"use strict";
var Capabilities;
(function (Capabilities) {
    Capabilities["REL1XX"] = "REL1XX";
    Capabilities["FORKING"] = "FORKING";
    Capabilities["PRECONDITION"] = "PRECONDITION";
    Capabilities["PEM"] = "PEM";
    Capabilities["UPDATE"] = "UPDATE";
})(Capabilities || (Capabilities = {}));
var Annotype;
(function (Annotype) {
    Annotype["CONNECT"] = "CONNECT";
    Annotype["RINGING"] = "RING";
})(Annotype || (Annotype = {}));
var CallPollActionType;
(function (CallPollActionType) {
    CallPollActionType["Accept"] = "accept";
    CallPollActionType["Forward"] = "forward";
    CallPollActionType["Reject"] = "reject";
})(CallPollActionType || (CallPollActionType = {}));
var CallStartActionType;
(function (CallStartActionType) {
    CallStartActionType[CallStartActionType["Abort"] = 0] = "Abort";
    CallStartActionType[CallStartActionType["Forward"] = 1] = "Forward";
    CallStartActionType[CallStartActionType["RejectMrf"] = 2] = "RejectMrf";
})(CallStartActionType || (CallStartActionType = {}));
var MediaOperationActionType;
(function (MediaOperationActionType) {
    MediaOperationActionType["PerformMediaOperation"] = "performMediaOperation";
})(MediaOperationActionType || (MediaOperationActionType = {}));
var MediaOperationContentType;
(function (MediaOperationContentType) {
    MediaOperationContentType["MSML"] = "application/msml+xml";
})(MediaOperationContentType || (MediaOperationContentType = {}));
;
;
function armevents(sessionData, eventData, localParams) {
    var ret;
    var status2;
    var events;
    events = events || {};
    events.InfoPollEvent = "null";
    events.SuccessResponsePollEvent = "null";
    events.RawContentPollEvent = "test/test";
    var headerVars;
    headerVars = headerVars || {};
    headerVars.disableSendDefaultReason = "Disabled";
    headerVars.disableSendNoAnswerReason = "Disabled";
    headerVars.privateServiceMode = "b2bua";
    var ringingTones;
    ringingTones = ringingTones || [];
    var comf;
    comf = comf || {};
    comf.anno_name = "comfort";
    comf.anno_type = Annotype.CONNECT;
    var ring;
    ring = ring || {};
    ring.anno_name = "ringing";
    ring.anno_type = Annotype.RINGING;
    ringingTones.push(comf, ring);
    var capabilities = sessionData.inCapabilities;
    if (capabilities != null) {
        capabilities.push(Capabilities.PEM);
        capabilities.push(Capabilities.FORKING);
        sessionData.outCapabilities = JSON.stringify(capabilities);
    }
    sessionData.events = JSON.stringify(events);
    sessionData.headerrulevar = JSON.stringify(headerVars);
    sessionData.headerrulesselect = "SipServiceSpecificRulesSet";
    sessionData.ringingtones = JSON.stringify(ringingTones);
    sessionData.upstreamCapabilities = JSON.stringify([]);
    return "success";
}
function prepareCallPollAccept(session, event, localParams) {
    var log = session.log;
    try {
        var pollAction = void 0;
        pollAction = pollAction || {};
        pollAction.type = CallPollActionType.Accept;
        session.sendAction = JSON.stringify(pollAction);
        return "success";
    }
    catch (e) {
        log.debug("prepareCallPollAccept Log: {}", e);
        return "error.exception";
    }
}
function getdisconnectreason(session, event, any, localParams) {
    var log = session.log;
    try {
        var events = event["events-stack"].length;
        var index = events - 1;
        if (event["events-stack"][index] === "leg.timeout") {
            return "reason.timeout";
        }
        else if (event["events-stack"][index] === "leg.max_call_duration") {
            return "reason.max_call_duration";
        }
        else {
            return "reason." + event["events-stack"][index];
        }
    }
    catch (e) {
        log.debug("getdisconnectreason Log: {}", e);
        return "reason.exception";
    }
}
function callended(session, eventData, localParams) {
    var ret = "success";
    var log = session.log;
    var callstateold = session.callstate;
    session.callstate = "CLOSED";
    session.timeend = Math.floor(new Date() / 1000);
    try {
        if (session.timeanswer != null) {
            session.duration = session.timeend - session.timeanswer;
        }
        else {
            session.duration = "not-started";
        }
    }
    catch (e) {
        session.duration = "exception";
    }
    log.error("Call_{}:State_{}->{}+", session["trace-skey"], callstateold, session.callstate);
    session.loginfo = session.loginfo + session.callstate + ";duration=" + session.duration + ";";
    var logline = {};
    try {
        logline.MSISDN = session.CalledParty;
        logline.ServiceSessionId = session["fsm-id"];
        logline.MsgType = "SIP.INVITE";
        logline.MsgSessionId = session["fsm-id"];
        logline.MsgId = "callid";
        logline.MsgDetails = session.loginfo;
        logline.Servicedetails = "";
        session.loginfo = "";
        logline.GwEventTime = session.timeanswer;
        var now = new Date();
        var logDate = formatDate(now);
        var logTime = formatTime(now);
        logline.LogLineTime = logDate + "." + logTime + "." + ("000" + now.getMilliseconds().toString()).slice(-3);
    }
    catch (e) {
        logline.MSISDN = "";
        logline.ServiceSessionId = "";
        logline.MsgType = "";
        logline.MsgSessionId = "";
        logline.MsgId = "";
        logline.MsgDetails = "";
        logline.Servicedetails = "error at CCRContinue logline";
        logline.LogLineTime = "";
    }
    ;
    logline.TraceLevel = session["fsm-trace-level"];
    session.logline = logline;
    return ret;
}
function setPreconditionForwadCallb2b(session, event, localParams) {
    var ret;
    ret = ret || {};
    ret.resultCode = "success";
    var events;
    events = events || {};
    events.SIPPollEvent = "null";
    events.SIP18xInformatoinalEvent = "null";
    events.SdpAnswerEvent = "null";
    events.SIPReINVITEEvent = "null";
    events.SDPOfferPollEvent = "null";
    events.SipRingingPollEvent = "null";
    events.SipSdpOfferPollEvent = "null";
    events.SIPegClosedEvent = "null";
    events.CallBeingForwardedPollEvent = "null";
    events.SIPSdpAnswerPollEvent = "null";
    events.RingingPollEvent = "null";
    events.SIP18xAnswerEvent = "null";
    events.SIPRingingPollEvent = "null";
    events.InfoPollEvent = "null";
    events.SuccessResponsePollEvent = "null";
    events.RawContentPollEvent = "test/test";
    session.events = JSON.stringify(events);
    var headerVars;
    headerVars = headerVars || {};
    headerVars.disableSendDefaultReason = "Disabled";
    headerVars.disableSendNoAnswerReason = "Disabled";
    session.headerrulevar = JSON.stringify(headerVars);
    session.headerrulesselect = "SipServiceSpecificRulesSet";
    return ret;
}
function checkSDPAnswerAction(session, event, localParams) {
    var eventData = localParams.message;
    var pollAction;
    pollAction = pollAction || {};
    pollAction.type = CallPollActionType.Reject;
    session.sendAction = JSON.stringify(pollAction);
    return true;
}
function modifydisposition(session, event, localParams) {
    var initialMsg = localParams.message;
    if (initialMsg["SIP"]["capabilities"] != null) {
        if (initialMsg["SIP"]["capabilities"].indexOf(Capabilities.FORKING) > -1) {
            var capabilities = [];
            session.upstreamCapabilities = JSON.stringify(capabilities);
        }
    }
    if (initialMsg["SIP"]["R-URI"]["value"] == "sip:972000019@172.31.11.142:5062") {
        session.destlist = ["sip:9900004@172.31.11.142:5062", "sip:9900099@172.31.11.142:5062"];
    }
    return true;
}
function setdestinationlist(session, event, localParams) {
    var initialMsg = localParams.message;
    if (initialMsg["SIP"]["R-URI"]["value"] == "sip:972000019@172.31.11.142:5062") {
        session.destlist = ["sip:9900011@172.31.11.142:5062", "sip:9900022@172.31.11.142:5064", "sip:9900033@172.31.11.142:5065"];
    }
    return true;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFVQSxJQUFLLFlBTUo7QUFORCxXQUFLLFlBQVk7SUFDZixpQ0FBaUIsQ0FBQTtJQUNqQixtQ0FBa0IsQ0FBQTtJQUNsQiw2Q0FBMkIsQ0FBQTtJQUMzQiwyQkFBUyxDQUFBO0lBQ1QsaUNBQWUsQ0FBQTtBQUNqQixDQUFDLEVBTkksWUFBWSxLQUFaLFlBQVksUUFNaEI7QUFzREQsSUFBSyxRQUdKO0FBSEQsV0FBSyxRQUFRO0lBQ1gsK0JBQW1CLENBQUE7SUFDbkIsNEJBQWdCLENBQUE7QUFDbEIsQ0FBQyxFQUhJLFFBQVEsS0FBUixRQUFRLFFBR1o7QUF1QkQsSUFBSyxrQkFJSjtBQUpELFdBQUssa0JBQWtCO0lBQ3RCLHVDQUFpQixDQUFBO0lBQ2pCLHlDQUFtQixDQUFBO0lBQ25CLHVDQUFpQixDQUFBO0FBQ2xCLENBQUMsRUFKSSxrQkFBa0IsS0FBbEIsa0JBQWtCLFFBSXRCO0FBRUQsSUFBSyxtQkFJSjtBQUpELFdBQUssbUJBQW1CO0lBQ3ZCLCtEQUFTLENBQUE7SUFDVCxtRUFBVyxDQUFBO0lBQ1gsdUVBQWEsQ0FBQTtBQUNkLENBQUMsRUFKSSxtQkFBbUIsS0FBbkIsbUJBQW1CLFFBSXZCO0FBZ0NELElBQUssd0JBRUo7QUFGRCxXQUFLLHdCQUF3QjtJQUM1QiwyRUFBK0MsQ0FBQTtBQUNoRCxDQUFDLEVBRkksd0JBQXdCLEtBQXhCLHdCQUF3QixRQUU1QjtBQUVELElBQUsseUJBRUo7QUFGRCxXQUFLLHlCQUF5QjtJQUM3QiwwREFBNkIsQ0FBQTtBQUM5QixDQUFDLEVBRkkseUJBQXlCLEtBQXpCLHlCQUF5QixRQUU3QjtBQW1GRCxDQUFDO0FBQ0QsQ0FBQztBQUNELFNBQVMsU0FBUyxDQUFDLFdBQWUsRUFBQyxTQUFhLEVBQUMsV0FBZTtJQUMvRCxJQUFJLEdBQWUsQ0FBRTtJQUVsQixJQUFJLE9BQWdCLENBQUM7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QUFFLGdDQUFnQyxFQUFFLGdDQUFnQyxDQUFDLENBQUM7S0FDN0g7SUFFRCxPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy9pbnRlcmZhY2UgZGVmaW5pdGlvblxuXG5pbnRlcmZhY2UgTGVnIHtcbiAgYWRkcmVzcyA6IHN0cmluZztcbiAgbmFtZSA6IHN0cmluZ1xufVxuaW50ZXJmYWNlIENhbGwge1xuICBzdGF0ZSA6IG51bWJlclxufVxuXG5lbnVtIENhcGFiaWxpdGllcyB7XG4gIFJFTDFYWCA9IFwiUkVMMVhYXCIsXG4gIEZPUktJTkc9IFwiRk9SS0lOR1wiLFxuICBQUkVDT05ESVRJT049XCJQUkVDT05ESVRJT05cIixcbiAgUEVNPVwiUEVNXCIsXG4gIFVQREFURT1cIlVQREFURVwiXG59XG5cbmludGVyZmFjZSBNZXNzYWdlIHtcbiAgbWV0aG9kIDogW3N0cmluZ107XG4gIHR5cGUgOiBbc3RyaW5nXTtcbiAgYm9keSA6IFtzdHJpbmddXG59XG5cbmludGVyZmFjZSBTSVAge1xuICBjYXBhYmlsaXRpZXMgOiBbQ2FwYWJpbGl0aWVzXTtcbiAgbWVzc2FnZSA6IE1lc3NhZ2Vcbn1cblxuaW50ZXJmYWNlIENhbGxTdGFydCB7XG4gIGNvbnRhY3QgOiBzdHJpbmc7XG4gIGNhdXNlOiBzdHJpbmc7XG4gIGxlZyA6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgQ2FsbFBvbGwge1xuICBuYW1lOiBzdHJpbmc7XG4gIHR5cGU6IHN0cmluZztcbiAgbGVnOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIEV2ZW50IHtcbiAgbmFtZSA6IHN0cmluZztcbiAgY2FsbFN0YXJ0PyA6IENhbGxTdGFydDtcbiAgY2FsbFBvbGw/IDogQ2FsbFBvbGxcbn1cblxuXG5pbnRlcmZhY2UgT0NDUEV2ZW50IHtcbiAgY2FsbGlkIDogc3RyaW5nO1xuICBjYWxsIDogQ2FsbDtcbiAgYXMgOiBzdHJpbmc7XG4gIGV2ZW50dGltZSA6IG51bWJlcjtcbiAgU0lQIDogU0lQO1xuICBldmVudDogRXZlbnRcbn1cblxuaW50ZXJmYWNlIEV2ZW50cyB7XG4gIFN1Y2Nlc3NSZXNwb25zZVBvbGxFdmVudD8gOiBzdHJpbmc7XG4gIFJhd0NvbnRlbnRQb2xsRXZlbnQ/IDogc3RyaW5nO1xuICBJbmZvUG9sbEV2ZW50Pzogc3RyaW5nXG59XG4vKipcbiAgRGVmaW5lIGhlYWRlciB2YXJpYWJsZXMgdXNlZCBieSBhcHBsaWNhdGlvblxuKi9cbmludGVyZmFjZSBIZWFkZXJWYXJzIHtcbiAgZGlzYWJsZVNlbmREZWZhdWx0UmVhc29uPyA6IHN0cmluZztcbiAgZGlzYWJsZVNlbmROb0Fuc3dlclJlYXNvbj8gOiBzdHJpbmdcbn1cblxuZW51bSBBbm5vdHlwZSB7XG4gIENPTk5FQ1QgPSBcIkNPTk5FQ1RcIixcbiAgUklOR0lORyA9IFwiUklOR1wiXG59XG5cbmludGVyZmFjZSBSaW5naW5nVG9uZSB7XG4gIGFubm9fbmFtZSA6IHN0cmluZztcbiAgYW5ub190eXBlIDogQW5ub3R5cGVcbn1cblxuaW50ZXJmYWNlIFNlc3Npb24ge1xuICBsb2cgOiBhbnk7XG4gIGluQ2FwYWJpbGl0aWVzIDogW0NhcGFiaWxpdGllc107XG4gIG91dENhcGFiaWxpdGllcz8gOiBzdHJpbmc7XG4gIGV2ZW50cz8gOiBzdHJpbmc7XG4gIGhlYWRlcnJ1bGV2YXI/IDogc3RyaW5nO1xuICBoZWFkZXJydWxlc3NlbGVjdD8gOiBzdHJpbmc7XG4gIHJpbmdpbmd0b25lcz8gOiBzdHJpbmc7XG4gIHNlbmRBY3Rpb24/IDogc3RyaW5nIDtcbiAgU0lQSGVscGVyIDogYW55O1xuICBTSVBJbml0aWFsSW52aXRlPyA6IGFueTtcbiAgU0lQTWVzc2FnZT8gOiBhbnk7XG4gIFNJUE1lc3NhZ2VUeXBlPyA6IGFueVxufVxuXG5cbmVudW0gQ2FsbFBvbGxBY3Rpb25UeXBlIHtcbiBBY2NlcHQgPSBcImFjY2VwdFwiLFxuIEZvcndhcmQgPSBcImZvcndhcmRcIixcbiBSZWplY3QgPSBcInJlamVjdFwiLFxufVxuXG5lbnVtIENhbGxTdGFydEFjdGlvblR5cGUge1xuIEFib3J0ID0gMCxcbiBGb3J3YXJkID0gMSxcbiBSZWplY3RNcmYgPSAyXG59XG5cblxuXG4vKipcbiBTZXQgYWN0aW9uIGZvciBDYWxsU3RhcnQgZXZlbnRcbiovXG5pbnRlcmZhY2UgQ2FsbFN0YXJ0QWN0aW9uIHtcbiB0eXBlIDogQ2FsbFN0YXJ0QWN0aW9uVHlwZTtcbiBlcnJvcmNvZGUgOiBudW1iZXI7XG4gY2F1c2UgOiBzdHJpbmcgO1xuIHVyaSA6IHN0cmluZztcbiBlYXJseW1lZGlhIDogbnVtYmVyO1xuIGxlZ25hbWUgOiBzdHJpbmcgXG59XG5cbi8qKlxuIFNldCBhY3Rpb24gZm9yIENhbGxQb2xsIGV2ZW50XG4qL1xuaW50ZXJmYWNlIENhbGxQb2xsQWN0aW9uIHtcbiB0eXBlIDogQ2FsbFBvbGxBY3Rpb25UeXBlXG59XG5cblxuLyoqXG4gQXBwbGljYXRpb24gY2FuIHNldCBhY3Rpb24gZm9yIGEgc3BlY2lmaWMgbGVnLCB0aGlzIGlzIGFwcGxpY2FibGUgZm9yIE1SRiBjb250YWN0XG4gKi9cbmludGVyZmFjZSBMZWdBY3Rpb24ge1xuIHR5cGUgOiBDYWxsU3RhcnRBY3Rpb25UeXBlIDtcbiBsZWdhY3Rpb24gOiBzdHJpbmdcbn1cblxuZW51bSBNZWRpYU9wZXJhdGlvbkFjdGlvblR5cGUge1xuIFBlcmZvcm1NZWRpYU9wZXJhdGlvbiA9IFwicGVyZm9ybU1lZGlhT3BlcmF0aW9uXCJcbn1cblxuZW51bSBNZWRpYU9wZXJhdGlvbkNvbnRlbnRUeXBlIHtcbiBNU01MID0gXCJhcHBsaWNhdGlvbi9tc21sK3htbFwiXG59XG5cbmludGVyZmFjZSBQZXJmb3JtTWVkaWFPcGVyYXRpb24ge1xuIENvbnRlbnRUeXBlIDogTWVkaWFPcGVyYXRpb25Db250ZW50VHlwZTtcbiBDb250ZW50IDogc3RyaW5nXG59XG5cbmludGVyZmFjZSBNZWRpYU9wZXJhdGlvbkFjdGlvbiB7XG4gdHlwZSA6IG51bWJlcjtcbiBsZWdhY3Rpb24gOiBNZWRpYU9wZXJhdGlvbkFjdGlvblR5cGU7XG4gcGVyZm9ybU1lZGlhT3BlcmF0aW9uIDogUGVyZm9ybU1lZGlhT3BlcmF0aW9uXG59XG5cbmludGVyZmFjZSBBY3Rpb24ge1xuIGFjdGlvbiA6IGFueSBcbn1cblxuXG5pbnRlcmZhY2UgSGVhZGVyIHtcbiBoZWFkZXIgOiBzdHJpbmc7XG4gdmFsdWUgOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBRSGVhZGVyIHtcbiBQcml2YWN5IDogc3RyaW5nO1xuIFJlYXNvbiA6IHN0cmluZyA7XG59XG5cbmludGVyZmFjZSBQYXJhbWV0ZXIge1xuIHRyYW5zcG9ydCA6IHN0cmluZztcbiB1c2VyIDogc3RyaW5nIDtcbn1cblxuaW50ZXJmYWNlIFVSSSB7XG4gc2NoZW1lIDogc3RyaW5nO1xuIGF1dGhvcml0eSA6IHN0cmluZyA7XG4gZ3IgOiBzdHJpbmcgO1xuIGhvc3Q6IHN0cmluZyA7XG4gbHIgOiBzdHJpbmcgO1xuIG1hZGRyIDogc3RyaW5nIDtcbiBwb3J0IDogbnVtYmVyICA7XG4gdXNlciA6IHN0cmluZyA7XG4gcGFyYW1ldGVycyA6IFtQYXJhbWV0ZXJdO1xuIHFoZWFkZXIgOiBbUUhlYWRlcl07XG59XG5cbmludGVyZmFjZSBBZGRyZXNzIHtcbiBkaXNwbGF5TmFtZSA6IHN0cmluZztcbiB1cmkgOiBVUkkgXG59XG5cbmludGVyZmFjZSBIaXN0b3J5SW5mbyBpbXBsZW1lbnRzIEhlYWRlciB7XG4gYWRkcmVzcyA6IEFkZHJlc3M7XG4gaW5kZXggOiBzdHJpbmdcbn1cblxuaW50ZXJmYWNlIFBBSSBpbXBsZW1lbnRzIEhlYWRlciAge1xuIGFkZHJlc3MgOiBBZGRyZXNzXG59XG5cbmludGVyZmFjZSBGcm9tIGltcGxlbWVudHMgSGVhZGVyIHtcbiBhZGRyZXNzIDogQWRkcmVzcztcbiB0YWcgOiBzdHJpbmcgO1xufVxuXG5pbnRlcmZhY2UgVG8gaW1wbGVtZW50cyBIZWFkZXIge1xuIGFkZHJlc3MgOiBBZGRyZXNzO1xuIHRhZyA6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFBDViBpbXBsZW1lbnRzIEhlYWRlciB7XG4gaWNpZF9nZW5lcmF0ZWRfYXQ6IHN0cmluZyA7XG4gaWNpZF92YWx1ZSA6IHN0cmluZyA7XG4gb2FpZCA6IHN0cmluZztcbiB0YWlkIDogc3RyaW5nO1xuIG9zaWQgOiBzdHJpbmc7XG4gdHNpZCA6IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFJlc3VsdENvZGUge1xuICByZXN1bHRDb2RlIDogc3RyaW5nIDtcbn1cblxuOy8vTUFJTkJMT0NLXG47XHJcbmZ1bmN0aW9uIGFybWV2ZW50cyhzZXNzaW9uRGF0YTphbnksZXZlbnREYXRhOmFueSxsb2NhbFBhcmFtczphbnkpOiBhbnkge1xyXG4gbGV0IHJldDogUmVzdWx0Q29kZSA7XHJcblxyXG4gICAgbGV0IHN0YXR1czIgOiBzdHJpbmc7XHJcbiAgICBsZXQgZXZlbnRzIDogRXZlbnRzO1xyXG4gICAgZXZlbnRzID0gZXZlbnRzIHx8IHt9O1xyXG4gICAgZXZlbnRzLkluZm9Qb2xsRXZlbnQ9XCJudWxsXCI7XHJcbiAgICBldmVudHMuU3VjY2Vzc1Jlc3BvbnNlUG9sbEV2ZW50PVwibnVsbFwiO1xyXG4gICAgZXZlbnRzLlJhd0NvbnRlbnRQb2xsRXZlbnQ9XCJ0ZXN0L3Rlc3RcIjtcclxuXHJcbiAgICBsZXQgaGVhZGVyVmFycyA6IEhlYWRlclZhcnM7XHJcbiAgICBoZWFkZXJWYXJzID0gaGVhZGVyVmFycyB8fCB7fTtcclxuICAgIGhlYWRlclZhcnMuZGlzYWJsZVNlbmREZWZhdWx0UmVhc29uID0gXCJEaXNhYmxlZFwiO1xyXG4gICAgaGVhZGVyVmFycy5kaXNhYmxlU2VuZE5vQW5zd2VyUmVhc29uID0gXCJEaXNhYmxlZFwiO1xyXG4gICAgaGVhZGVyVmFycy5wcml2YXRlU2VydmljZU1vZGUgPSBcImIyYnVhXCI7XHJcblxyXG4gICAgbGV0IHJpbmdpbmdUb25lcyA6IFtSaW5naW5nVG9uZV07XHJcbiAgICByaW5naW5nVG9uZXMgPSByaW5naW5nVG9uZXMgfHwgW107XHJcbiAgICBsZXQgY29tZiA6IFJpbmdpbmdUb25lO1xyXG4gICAgY29tZiA9IGNvbWYgfHwge307XHJcbiAgICBjb21mLmFubm9fbmFtZT1cImNvbWZvcnRcIjtcclxuICAgIGNvbWYuYW5ub190eXBlPUFubm90eXBlLkNPTk5FQ1Q7XHJcbiAgICBsZXQgcmluZyA6IFJpbmdpbmdUb25lO1xyXG4gICAgcmluZyA9IHJpbmcgfHwge307XHJcbiAgICByaW5nLmFubm9fbmFtZT1cInJpbmdpbmdcIjtcclxuICAgIHJpbmcuYW5ub190eXBlPUFubm90eXBlLlJJTkdJTkc7XHJcbiAgICByaW5naW5nVG9uZXMucHVzaChjb21mLCByaW5nKTtcclxuXHJcbiAgICBsZXQgY2FwYWJpbGl0aWVzID0gc2Vzc2lvbkRhdGEuaW5DYXBhYmlsaXRpZXM7XHJcbiAgICBpZiggY2FwYWJpbGl0aWVzIT1udWxsKXtcclxuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuUEVNKTtcclxuICAgICAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuRk9SS0lORyk7XHJcbiAgICAgICAgc2Vzc2lvbkRhdGEub3V0Q2FwYWJpbGl0aWVzID0gSlNPTi5zdHJpbmdpZnkoY2FwYWJpbGl0aWVzKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXNzaW9uRGF0YS5ldmVudHMgPSBKU09OLnN0cmluZ2lmeShldmVudHMpO1xyXG4gICAgc2Vzc2lvbkRhdGEuaGVhZGVycnVsZXZhcj1KU09OLnN0cmluZ2lmeShoZWFkZXJWYXJzKTtcclxuICAgIHNlc3Npb25EYXRhLmhlYWRlcnJ1bGVzc2VsZWN0ID0gXCJTaXBTZXJ2aWNlU3BlY2lmaWNSdWxlc1NldFwiO1xyXG4gICAgc2Vzc2lvbkRhdGEucmluZ2luZ3RvbmVzID0gSlNPTi5zdHJpbmdpZnkocmluZ2luZ1RvbmVzKTtcclxuICAgIHNlc3Npb25EYXRhLnVwc3RyZWFtQ2FwYWJpbGl0aWVzPUpTT04uc3RyaW5naWZ5KFtdKTtcclxuXHJcbiAgICByZXR1cm4gXCJzdWNjZXNzXCI7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBwcmVwYXJlQ2FsbFBvbGxBY2NlcHQoc2Vzc2lvbjphbnksZXZlbnQ6T0NDUFNJUC5PQ0NQRXZlbnQsbG9jYWxQYXJhbXM6YW55KSB7XHJcbiAgICBsZXQgbG9nID0gc2Vzc2lvbi5sb2c7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgcG9sbEFjdGlvbiA6IENhbGxQb2xsQWN0aW9uO1xyXG4gICAgICAgIHBvbGxBY3Rpb24gPSBwb2xsQWN0aW9uIHx8IHt9O1xyXG4gICAgICAgIHBvbGxBY3Rpb24udHlwZSA9IENhbGxQb2xsQWN0aW9uVHlwZS5BY2NlcHQ7XHJcbiAgICAgICAgc2Vzc2lvbi5zZW5kQWN0aW9uID0gSlNPTi5zdHJpbmdpZnkocG9sbEFjdGlvbik7XHJcblxyXG4gICAgICAgIHJldHVybiBcInN1Y2Nlc3NcIjsgICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGxvZy5kZWJ1ZyhcInByZXBhcmVDYWxsUG9sbEFjY2VwdCBMb2c6IHt9XCIsIGUpO1xyXG4gICAgICAgIHJldHVybiBcImVycm9yLmV4Y2VwdGlvblwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRkaXNjb25uZWN0cmVhc29uKHNlc3Npb246YW55LGV2ZW50IGFueSxsb2NhbFBhcmFtczphbnkpIHtcclxuICAgIC8qXHJcbiAgICBldmVudHMtc3RhY2tcdFx0WzVdXHJcbiAgICAwXHQ6XHRzaXAuY2FsbFN0YXJ0Lk5PTkVcclxuICAgIDE6XHRzaXAuY2FsbFBvbGwuU0lQU3VjY2Vzc1Jlc3BvbnNlUG9sbEV2ZW50XHJcbiAgICAyXHQ6XHRzaXAuY2FsbEFuc3dlcmVkLlNpcENhbGxMZWdVYUNsaWVudFxyXG4gICAgM1x0Olx0bGVnLm1heF9jYWxsX2R1cmF0aW9uXHJcbiAgICA0XHQ6XHRzaXAuY2FsbFN0YXJ0LkRJU0NPTk5FQ1RFRCAgICBcclxuICAgICovXHJcbiAgICBsZXQgbG9nID0gc2Vzc2lvbi5sb2c7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZXZlbnRzPWV2ZW50W1wiZXZlbnRzLXN0YWNrXCJdLmxlbmd0aDtcclxuICAgICAgICBsZXQgaW5kZXg9ZXZlbnRzLTE7XHJcbiAgICAgICAgaWYgKGV2ZW50W1wiZXZlbnRzLXN0YWNrXCJdW2luZGV4XSA9PT0gXCJsZWcudGltZW91dFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcInJlYXNvbi50aW1lb3V0XCI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudFtcImV2ZW50cy1zdGFja1wiXVtpbmRleF0gPT09IFwibGVnLm1heF9jYWxsX2R1cmF0aW9uXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwicmVhc29uLm1heF9jYWxsX2R1cmF0aW9uXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwicmVhc29uLlwiICsgZXZlbnRbXCJldmVudHMtc3RhY2tcIl1baW5kZXhdOyAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGxvZy5kZWJ1ZyhcImdldGRpc2Nvbm5lY3RyZWFzb24gTG9nOiB7fVwiLCBlKTtcclxuICAgICAgICByZXR1cm4gXCJyZWFzb24uZXhjZXB0aW9uXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjYWxsZW5kZWQoc2Vzc2lvbiA6IGFueSwgZXZlbnREYXRhIDogYW55LCBsb2NhbFBhcmFtczogYW55ICl7XHJcbiAgICBsZXQgcmV0OiBzdHJpbmcgPSBcInN1Y2Nlc3NcIjtcclxuICAgIC8qIGVudGVyIGhlcmUgeW91ciBjb2RlICovXHJcblxyXG4gICAgbGV0IGxvZyA6IGFueSA9IHNlc3Npb24ubG9nO1xyXG4gICAgbGV0IGNhbGxzdGF0ZW9sZCA9IHNlc3Npb24uY2FsbHN0YXRlO1xyXG4gICAgc2Vzc2lvbi5jYWxsc3RhdGUgID1cIkNMT1NFRFwiO1xyXG4gICAgc2Vzc2lvbi50aW1lZW5kPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkvMTAwMCk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGlmIChzZXNzaW9uLnRpbWVhbnN3ZXIhPW51bGwpIHtcclxuICAgICAgICAgICAgc2Vzc2lvbi5kdXJhdGlvbj0gc2Vzc2lvbi50aW1lZW5kIC0gc2Vzc2lvbi50aW1lYW5zd2VyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlc3Npb24uZHVyYXRpb249XCJub3Qtc3RhcnRlZFwiOyAgICBcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgc2Vzc2lvbi5kdXJhdGlvbj1cImV4Y2VwdGlvblwiO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZy5lcnJvcihcIkNhbGxfe306U3RhdGVfe30tPnt9K1wiLHNlc3Npb25bXCJ0cmFjZS1za2V5XCJdLGNhbGxzdGF0ZW9sZCxzZXNzaW9uLmNhbGxzdGF0ZSk7ICBcclxuICAgIHNlc3Npb24ubG9naW5mbyA9IHNlc3Npb24ubG9naW5mbytzZXNzaW9uLmNhbGxzdGF0ZStcIjtkdXJhdGlvbj1cIitzZXNzaW9uLmR1cmF0aW9uK1wiO1wiOyAgIFxyXG5cclxuICAgIC8vcHJlcGFyZSB0aGUgTE9HIGxpbmUgLSBzZW5kIHRvIHRoZSBsb2dfc2lwZGVtbyBwcm9jZXNzIFxyXG4gICAgbGV0IGxvZ2xpbmUgOiBMT0cgPSB7fTtcclxuICAgIHRyeXtcclxuICAgICAgICBsb2dsaW5lLk1TSVNETiA9IHNlc3Npb24uQ2FsbGVkUGFydHk7XHJcbiAgICAgICAgbG9nbGluZS5TZXJ2aWNlU2Vzc2lvbklkID0gc2Vzc2lvbltcImZzbS1pZFwiXTtcclxuICAgICAgICBsb2dsaW5lLk1zZ1R5cGUgPSBcIlNJUC5JTlZJVEVcIjtcclxuICAgICAgICBsb2dsaW5lLk1zZ1Nlc3Npb25JZCA9IHNlc3Npb25bXCJmc20taWRcIl07XHJcbiAgICAgICAgbG9nbGluZS5Nc2dJZCA9IFwiY2FsbGlkXCI7XHJcbiAgICAgICAgbG9nbGluZS5Nc2dEZXRhaWxzID0gc2Vzc2lvbi5sb2dpbmZvO1xyXG4gICAgICAgIGxvZ2xpbmUuU2VydmljZWRldGFpbHMgPSBcIlwiO1xyXG4gICAgICAgIHNlc3Npb24ubG9naW5mbz1cIlwiO1xyXG5cclxuICAgICAgICAvL3RpbWVzdGFtcCBhZGRlZCBieSBHVyBiZWZvcmUgaXQgcHV0IGl0IGludG8gdGhlIHF1ZXVlIHRvIFJURVxyXG4gICAgICAgIGxvZ2xpbmUuR3dFdmVudFRpbWUgPSBzZXNzaW9uLnRpbWVhbnN3ZXI7IFxyXG5cclxuICAgICAgICBsZXQgbm93IDogRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgbGV0IGxvZ0RhdGUgOiBzdHJpbmcgPSBmb3JtYXREYXRlKG5vdyk7XHJcbiAgICAgICAgbGV0IGxvZ1RpbWUgOiBzdHJpbmcgPSBmb3JtYXRUaW1lKG5vdyk7XHJcbiAgICAgICAgbG9nbGluZS5Mb2dMaW5lVGltZSA9IGxvZ0RhdGUrIFwiLlwiICsgbG9nVGltZSArIFwiLlwiKyhcIjAwMFwiICsgbm93LmdldE1pbGxpc2Vjb25kcygpLnRvU3RyaW5nKCkpLnNsaWNlKC0zKTsgICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGxvZ2xpbmUuTVNJU0ROID0gXCJcIjtcclxuICAgICAgICBsb2dsaW5lLlNlcnZpY2VTZXNzaW9uSWQgPSBcIlwiO1xyXG4gICAgICAgIGxvZ2xpbmUuTXNnVHlwZSA9IFwiXCI7XHJcbiAgICAgICAgbG9nbGluZS5Nc2dTZXNzaW9uSWQgPSBcIlwiO1xyXG4gICAgICAgIGxvZ2xpbmUuTXNnSWQgPSBcIlwiO1xyXG4gICAgICAgIGxvZ2xpbmUuTXNnRGV0YWlscyA9IFwiXCI7XHJcbiAgICAgICAgbG9nbGluZS5TZXJ2aWNlZGV0YWlscyA9IFwiZXJyb3IgYXQgQ0NSQ29udGludWUgbG9nbGluZVwiO1xyXG4gICAgICAgIGxvZ2xpbmUuTG9nTGluZVRpbWUgPSBcIlwiO1xyXG4gICAgfTtcclxuICAgIGxvZ2xpbmUuVHJhY2VMZXZlbCA9IHNlc3Npb25bXCJmc20tdHJhY2UtbGV2ZWxcIl07ICAgIFxyXG4gICAgc2Vzc2lvbi5sb2dsaW5lPWxvZ2xpbmU7ICAgIFxyXG4gICAgcmV0dXJuIHJldDtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHNldFByZWNvbmRpdGlvbkZvcndhZENhbGxiMmIoc2Vzc2lvbjphbnksZXZlbnQ6YW55LGxvY2FsUGFyYW1zOmFueSk6IFJlc3VsdENvZGUge1xyXG5cclxuICAgIGxldCByZXQ6IFJlc3VsdENvZGUgO1xyXG4gICAgcmV0ID0gcmV0IHx8IHt9O1xyXG4gICAgcmV0LnJlc3VsdENvZGU9XCJzdWNjZXNzXCI7XHJcbiAgICBcclxuICAgIGxldCBldmVudHMgOiBFdmVudHM7XHJcbiAgICBldmVudHMgPSBldmVudHMgfHwge307XHJcblxyXG4gICAgXHJcbiAgICBldmVudHMuU0lQUG9sbEV2ZW50PVwibnVsbFwiO1xyXG4gICAgLy90eXBvcyBpbiB0aGUgYmVsb3dcclxuICAgIGV2ZW50cy5TSVAxOHhJbmZvcm1hdG9pbmFsRXZlbnQ9XCJudWxsXCI7XHJcbiAgICBldmVudHMuU2RwQW5zd2VyRXZlbnQ9XCJudWxsXCI7XHJcbiAgICBldmVudHMuU0lQUmVJTlZJVEVFdmVudD1cIm51bGxcIjtcclxuICAgIGV2ZW50cy5TRFBPZmZlclBvbGxFdmVudD1cIm51bGxcIjtcclxuICAgIGV2ZW50cy5TaXBSaW5naW5nUG9sbEV2ZW50PVwibnVsbFwiO1xyXG4gICAgZXZlbnRzLlNpcFNkcE9mZmVyUG9sbEV2ZW50PVwibnVsbFwiO1xyXG4gICAgZXZlbnRzLlNJUGVnQ2xvc2VkRXZlbnQ9XCJudWxsXCI7XHJcbiAgICBcclxuICAgIGV2ZW50cy5DYWxsQmVpbmdGb3J3YXJkZWRQb2xsRXZlbnQ9XCJudWxsXCI7XHJcbiAgICBldmVudHMuU0lQU2RwQW5zd2VyUG9sbEV2ZW50PVwibnVsbFwiO1xyXG5cclxuICAgIGV2ZW50cy5SaW5naW5nUG9sbEV2ZW50PVwibnVsbFwiO1xyXG5cclxuXHJcblxyXG5cclxuICAgIGV2ZW50cy5TSVAxOHhBbnN3ZXJFdmVudD1cIm51bGxcIjtcclxuICAgIGV2ZW50cy5TSVBSaW5naW5nUG9sbEV2ZW50PVwibnVsbFwiO1xyXG4gICAgLy9uZWVkcyBhIGhhbmRsZVxyXG4gICAgZXZlbnRzLkluZm9Qb2xsRXZlbnQ9XCJudWxsXCI7XHJcbiAgICBldmVudHMuU3VjY2Vzc1Jlc3BvbnNlUG9sbEV2ZW50PVwibnVsbFwiO1xyXG4gICAgZXZlbnRzLlJhd0NvbnRlbnRQb2xsRXZlbnQ9XCJ0ZXN0L3Rlc3RcIjtcclxuICAgIHNlc3Npb24uZXZlbnRzID0gSlNPTi5zdHJpbmdpZnkoZXZlbnRzKTsgIFxyXG5cclxuICAgIC8vbGV0IHVuc3ViID0ge1wiSW5mb1BvbGxFdmVudFwiOlwiXCIsIFwiU3VjY2Vzc1Jlc3BvbnNlUG9sbEV2ZW50XCI6XCJcIiwgXCJTSVBSaW5naW5nUG9sbEV2ZW50XCI6XCJcIiwgXCJSYXdDb250ZW50UG9sbEV2ZW50XCI6XCJcIn07XHJcbiAgICAvL3Nlc3Npb24udW5zdWJzY3JpYmVFdmVudHM9SlNPTi5zdHJpbmdpZnkodW5zdWIpO1xyXG4gICAgLy9sZXQgdW5zdWIgPSB7XCJTSVAxOHhBbnN3ZXJFdmVudFwiOlwiXCJ9O1xyXG4gICAgLy9zZXNzaW9uLnVuc3Vic2NyaWJlRXZlbnRzPUpTT04uc3RyaW5naWZ5KHVuc3ViKTtcclxuXHJcbiAgICAvL1NldCBoZWFkZXJzIGZvciBvdXRnb2luZyBtZXNzYWdlXHJcbiAgICBsZXQgaGVhZGVyVmFycyA6IEhlYWRlclZhcnM7XHJcbiAgICBoZWFkZXJWYXJzID0gaGVhZGVyVmFycyB8fCB7fTtcclxuICAgIGhlYWRlclZhcnMuZGlzYWJsZVNlbmREZWZhdWx0UmVhc29uID0gXCJEaXNhYmxlZFwiO1xyXG4gICAgaGVhZGVyVmFycy5kaXNhYmxlU2VuZE5vQW5zd2VyUmVhc29uID0gXCJEaXNhYmxlZFwiO1xyXG4gICAgLy9TcGVjaWZ5IHRoZSBNb2RlIGZvciB0aGUgU05GLCBzbyBTTkYgYWRkcyBpdHNlbGYgdG8gUmVjb3JkLVJvdXRlIChuZWVkZWQgZm9yIGIyYnVhKSBvciBub3QgKHByb3h5KVxyXG4gICAgLy9ub3QgbmVlZGVkIGhlcmUgLSB0aGlzIGlzIGluIFNORiB0byBhcHBseSBzb21lIHJ1bGVzIGZvciBiMmJcclxuICAgIC8vaGVhZGVyVmFycy5wcml2YXRlU2VydmljZU1vZGUgPSBcImIyYnVhXCI7XHJcbiAgICBcclxuICAgIHNlc3Npb24uaGVhZGVycnVsZXZhcj1KU09OLnN0cmluZ2lmeShoZWFkZXJWYXJzKTtcclxuICAgIHNlc3Npb24uaGVhZGVycnVsZXNzZWxlY3QgPSBcIlNpcFNlcnZpY2VTcGVjaWZpY1J1bGVzU2V0XCI7XHJcblxyXG5cclxuICAgIFxyXG4gICAgLypcclxuICAgIC8vdGhpcyByZXF1aXJlcyBhIFN1cHBvcnRlZDogMTAwUmVsIGluIHRoZSBpbmNvbWluZyByZXF1ZXN0IGFuZCBzZW5kcyBhIDE4MyB0byBBIHdpdGggUmVxdWlyZTogMTAwUmVsIFxyXG4gICAgbGV0IGNhcGFiaWxpdGllcyA6IGFueVtdID0gW107XHJcbiAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuUEVNKTtcclxuICAgIGNhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5SRUwxWFgpO1xyXG4gICAgY2FwYWJpbGl0aWVzLnB1c2goQ2FwYWJpbGl0aWVzLlVQREFURSk7XHJcbiAgICBjYXBhYmlsaXRpZXMucHVzaChDYXBhYmlsaXRpZXMuRk9SS0lORyk7XHJcbiAgICBzZXNzaW9uLnVwc3RyZWFtQ2FwYWJpbGl0aWVzID0gSlNPTi5zdHJpbmdpZnkoY2FwYWJpbGl0aWVzKTtcclxuICAgICovXHJcblxyXG4gICAgLypcclxuICAgIGxldCBjYXBhYmlsaXRpZXMgPSBzZXNzaW9uLnNfSW5pdGlhbENhcGFiaWxpdGllcztcclxuICAgIGlmKCBjYXBhYmlsaXRpZXMhPW51bGwpe1xyXG4gICAgICAgIGNhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5QRU0pO1xyXG4gICAgICAgIGNhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5GT1JLSU5HKTtcclxuICAgICAgICBzZXNzaW9uLm91dENhcGFiaWxpdGllcyA9IEpTT04uc3RyaW5naWZ5KGNhcGFiaWxpdGllcyk7XHJcbiAgICB9XHJcbiAgICAqL1xyXG5cclxuICAgIC8vIHNlc3Npb24ucmluZ2luZ3RvbmVzID0gSlNPTi5zdHJpbmdpZnkocmluZ2luZ1RvbmVzKTtcclxuXHJcbiAgICByZXR1cm4gcmV0O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY2hlY2tTRFBBbnN3ZXJBY3Rpb24oc2Vzc2lvbjphbnksZXZlbnQ6YW55LGxvY2FsUGFyYW1zOmFueSkgIHtcclxuICAgIC8vZXZlbnREYXRhIGlzIG5vdyBsYXN0IG1lc3NnYWVcclxuICAgIGxldCBldmVudERhdGEgPSBsb2NhbFBhcmFtcy5tZXNzYWdlO1xyXG5cclxuICAgIC8vYWRkIHRoZSBwb2xsIGFjdGlvbnMgKGFjY2VwdCwgZm9yd2FyZCwgcmVqZWN0KSB0byB0aGUgY2FsbHBvbGwgYW5zZXdyIGV2ZW50XHJcbiAgICAvL0luZm9ybWF0aW9uYWxFdmVudCBpcyBhIGhpZ2gtbGV2ZWwgaW50ZXJmYWNlIHR5cGljYWxseSBzcGVjaWFsaXplZCBmb3IgY29uY3JldGUgZXZlbnRzLiBUaGUgQ2FsbFVzZXIgaXMgbm90IHJlcXVpcmVkIHRvIHRha2UgYW55IGFjdGlvbiBmb3IgdGhpcyBldmVudCwgdGhlc2UgYXJlIHB1cmVseSBpbmZvcm1hdGlvbmFsLlxyXG4gICAgLy9Qb2xsRXZlbnQgaXMgYW4gZXZlbnQgb24gd2hpY2ggdGhlIENhbGxVc2VyIGlzIGV4cGVjdGVkIHRvIHRha2UgYW4gYWN0aW9uIHVwb24gcmVjZWl2aW5nIHRoZSBldmVudC4gVGhlIGFjdGlvbiBpcyB1c3VhbGx5IGJ5IGludm9raW5nIHRoZSBQb2xsRXZlbnQgbWV0aG9kcyBhY2NlcHQsIHJlamVjdCBvciBmb3J3YXJkLlxyXG4gICAgbGV0IHBvbGxBY3Rpb24gOiBDYWxsUG9sbEFjdGlvbjtcclxuICAgIHBvbGxBY3Rpb24gPSBwb2xsQWN0aW9uIHx8IHt9O1xyXG4gICAgLy9wb2xsQWN0aW9uLnR5cGUgPSBDYWxsUG9sbEFjdGlvblR5cGUuQWNjZXB0O1xyXG4gICAgcG9sbEFjdGlvbi50eXBlID0gQ2FsbFBvbGxBY3Rpb25UeXBlLlJlamVjdDtcclxuICAgIHNlc3Npb24uc2VuZEFjdGlvbiA9IEpTT04uc3RyaW5naWZ5KHBvbGxBY3Rpb24pO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gbW9kaWZ5ZGlzcG9zaXRpb24oc2Vzc2lvbjphbnksZXZlbnQ6YW55LGxvY2FsUGFyYW1zOmFueSkge1xyXG4gICAgbGV0IGluaXRpYWxNc2cgPSBsb2NhbFBhcmFtcy5tZXNzYWdlO1xyXG4gICAgaWYgKGluaXRpYWxNc2dbXCJTSVBcIl1bXCJjYXBhYmlsaXRpZXNcIl0gIT0gbnVsbCkge1xyXG4gICAgICAgIGlmIChpbml0aWFsTXNnW1wiU0lQXCJdW1wiY2FwYWJpbGl0aWVzXCJdLmluZGV4T2YoQ2FwYWJpbGl0aWVzLkZPUktJTkcpID4gLTEpIHtcclxuICAgICAgICAgICAgLy9pdCBpcyBwcmVzZW50LiBtZWFucyB0aGUgU0lQIGhlYWRlciBcIlJlcXVlc3QtRGlzcG9zaXRpb246IG5vLWZvcmtcIiBpcyBOT1QgcHJlc2VudC4gVGhpcyBpbnN0cnVjdHMgVEFTIHRvIG5vdCBzZW5kIDE4MyBiZWZvcmUgZm9yd2FyZGluZyB0aGUgSU5WSVRFXHJcbiAgICAgICAgICAgIGxldCBjYXBhYmlsaXRpZXMgOiBhbnlbXSA9IFtdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy90aGUgYmVsb3cgY3JlYXRlcyBleGNlcHRpb24gXHJcbiAgICAgICAgICAgIC8vY2FwYWJpbGl0aWVzID0gaW5pdGlhbE1zZy5TSVAuY2FwYWJpbGl0aWVzO1xyXG4gICAgICAgICAgICAvL2NhcGFiaWxpdGllcy5wdXNoKENhcGFiaWxpdGllcy5GT1JLSU5HKTtcclxuICAgICAgICAgICAgLy90aGlzIHdvdWxkIGJlIHJlbW92ZVxyXG4gICAgICAgICAgICAvL2xldCBpbmRleD0gaW5pdGlhbE1zZ1tcIlNJUFwiXVtcImNhcGFiaWxpdGllc1wiXS5pbmRleE9mKENhcGFiaWxpdGllcy5GT1JLSU5HKTtcclxuICAgICAgICAgICAgLy9pbml0aWFsTXNnW1wiU0lQXCJdW1wiY2FwYWJpbGl0aWVzXCJdLnNwbGljZShpbmRleCwgMSk7IC8vIDJuZCBwYXJhbWV0ZXIgbWVhbnMgcmVtb3ZlIG9uZSBpdGVtIG9ubHlcclxuICAgICAgICAgICAgc2Vzc2lvbi51cHN0cmVhbUNhcGFiaWxpdGllcyA9IEpTT04uc3RyaW5naWZ5KGNhcGFiaWxpdGllcyk7ICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoaW5pdGlhbE1zZ1tcIlNJUFwiXVtcIlItVVJJXCJdW1widmFsdWVcIl0gPT0gXCJzaXA6OTcyMDAwMDE5QDE3Mi4zMS4xMS4xNDI6NTA2MlwiKSB7XHJcbiAgICAgICAgc2Vzc2lvbi5kZXN0bGlzdCA9IFtcInNpcDo5OTAwMDA0QDE3Mi4zMS4xMS4xNDI6NTA2MlwiLCBcInNpcDo5OTAwMDk5QDE3Mi4zMS4xMS4xNDI6NTA2MlwiXTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gc2V0ZGVzdGluYXRpb25saXN0KHNlc3Npb246YW55LGV2ZW50OmFueSxsb2NhbFBhcmFtczphbnkpIHtcclxuICAgIGxldCBpbml0aWFsTXNnID0gbG9jYWxQYXJhbXMubWVzc2FnZTtcclxuXHJcbiAgICBpZiAoaW5pdGlhbE1zZ1tcIlNJUFwiXVtcIlItVVJJXCJdW1widmFsdWVcIl0gPT0gXCJzaXA6OTcyMDAwMDE5QDE3Mi4zMS4xMS4xNDI6NTA2MlwiKSB7XHJcbiAgICAgICAgc2Vzc2lvbi5kZXN0bGlzdCA9IFtcInNpcDo5OTAwMDExQDE3Mi4zMS4xMS4xNDI6NTA2MlwiLCBcInNpcDo5OTAwMDIyQDE3Mi4zMS4xMS4xNDI6NTA2NFwiLCBcInNpcDo5OTAwMDMzQDE3Mi4zMS4xMS4xNDI6NTA2NVwiXTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuIl19