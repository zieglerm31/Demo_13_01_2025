"use strict";
;
function normalization_1(session, event, localParams) {
    var log = session.log;
    try {
        var fromURI = void 0;
        session.s_initialSIP_lib = event;
        fromURI = event.SIP.From.address.uri.user;
        log.debug("Log From-1: {}", fromURI);
        session.s_normalizedNumber = fromURI.substring(3, 11);
        return "success";
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error";
    }
}
function extractAndCompare(session, event, localParams) {
    var log = session.log;
    try {
        var x = void 0;
        try {
            if (session.s_initialSIP.SIP["P-Access-Network-Info"].cellId != null)
                x = session.s_initialSIP.SIP["P-Access-Network-Info"].cellId;
            else
                return "error.PANIcellid.null";
        }
        catch (e) {
            return "error.noPANIcellid.exception";
        }
        if (x.substring(0, 5) == "42501") {
            session.w = "1";
            session.ann_name = "maxspeechtimeout.wav";
        }
        else if (x.substring(0, 5) == "42503") {
            session.w = "2";
            session.ann_name = "help.wav";
        }
        else {
            session.w = "3";
            session.ann_name = "error.wav";
        }
        session.ann_name = "file:///appl/wav/" + session.ann_name;
        return session.ann_name;
    }
    catch (e) {
        log.debug("extractAndCompare.Log: {}", e);
        return "error";
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxDQUFDO0FBQUEsU0FBUyxlQUFlLENBQUMsT0FBYSxFQUFFLEtBQVcsRUFBRSxXQUFnQjtJQUNuRSxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0lBRXRCLElBQUk7UUFDRCxJQUFJLE9BQU8sU0FBUyxDQUFDO1FBQ3JCLE9BQU8sQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDakMsT0FBTyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDckMsT0FBTyxDQUFDLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRXRELE9BQU8sU0FBUyxDQUFDO0tBRW5CO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFFVCxHQUFHLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN4QixPQUFPLE9BQU8sQ0FBQztLQUNqQjtBQUNKLENBQUM7QUFJRCxTQUFTLGlCQUFpQixDQUFDLE9BQWEsRUFBRSxLQUFXLEVBQUUsV0FBZ0I7SUFDcEUsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztJQUV0QixJQUFJO1FBQ0QsSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUNmLElBQUk7WUFDRCxJQUFLLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxDQUFDLHVCQUF1QixDQUFDLENBQUMsTUFBTSxJQUFJLElBQUk7Z0JBQ2xFLENBQUMsR0FBRSxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLE1BQU0sQ0FBQTs7Z0JBRTNELE9BQU8sdUJBQXVCLENBQUM7U0FDcEM7UUFBQyxPQUFPLENBQUMsRUFBRTtZQUNULE9BQU8sOEJBQThCLENBQUM7U0FDeEM7UUFFRCxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxJQUFHLE9BQU8sRUFBRTtZQUM3QixPQUFPLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQztZQUNkLE9BQU8sQ0FBQyxRQUFRLEdBQUMsc0JBQXNCLENBQUM7U0FDMUM7YUFBTSxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxJQUFHLE9BQU8sRUFBRTtZQUNwQyxPQUFPLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQztZQUNkLE9BQU8sQ0FBQyxRQUFRLEdBQUMsVUFBVSxDQUFDO1NBQzlCO2FBQU07WUFDSixPQUFPLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQztZQUNkLE9BQU8sQ0FBQyxRQUFRLEdBQUMsV0FBVyxDQUFDO1NBQy9CO1FBQ0QsT0FBTyxDQUFDLFFBQVEsR0FBQyxtQkFBbUIsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO1FBQ3hELE9BQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQztLQUMxQjtJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1QsR0FBRyxDQUFDLEtBQUssQ0FBQywyQkFBMkIsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMxQyxPQUFPLE9BQU8sQ0FBQztLQUNqQjtBQUNKLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvL01BSU5CTE9DS1xuO2Z1bmN0aW9uIG5vcm1hbGl6YXRpb25fMShzZXNzaW9uIDogYW55LCBldmVudCA6IGFueSwgbG9jYWxQYXJhbXM6IGFueSApe1xuICAgbGV0IGxvZyA9IHNlc3Npb24ubG9nO1xuXG4gICB0cnkge1xuICAgICAgbGV0IGZyb21VUkkgOiBzdHJpbmc7XG4gICAgICBzZXNzaW9uLnNfaW5pdGlhbFNJUF9saWIgPSBldmVudDtcbiAgICAgIGZyb21VUkkgPSBldmVudC5TSVAuRnJvbS5hZGRyZXNzLnVyaS51c2VyOyAgLy85NzI1MDcwMDAxMThcbiAgICAgIGxvZy5kZWJ1ZyhcIkxvZyBGcm9tLTE6IHt9XCIsIGZyb21VUkkpO1xuICAgICAgc2Vzc2lvbi5zX25vcm1hbGl6ZWROdW1iZXIgPSBmcm9tVVJJLnN1YnN0cmluZygzLCAxMSk7XG5cbiAgICAgIHJldHVybiBcInN1Y2Nlc3NcIjtcblxuICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICBsb2cuZGVidWcoXCJMb2c6IHt9XCIsIGUpO1xuICAgICAgcmV0dXJuIFwiZXJyb3JcIjtcbiAgIH1cbn1cblxuXG5cbmZ1bmN0aW9uIGV4dHJhY3RBbmRDb21wYXJlKHNlc3Npb24gOiBhbnksIGV2ZW50IDogYW55LCBsb2NhbFBhcmFtczogYW55ICl7XG4gICBsZXQgbG9nID0gc2Vzc2lvbi5sb2c7XG5cbiAgIHRyeSB7XG4gICAgICBsZXQgeCA6IHN0cmluZztcbiAgICAgIHRyeSB7XG4gICAgICAgICBpZiAoIHNlc3Npb24uc19pbml0aWFsU0lQLlNJUFtcIlAtQWNjZXNzLU5ldHdvcmstSW5mb1wiXS5jZWxsSWQgIT0gbnVsbClcbiAgICAgICAgICAgIHg9IHNlc3Npb24uc19pbml0aWFsU0lQLlNJUFtcIlAtQWNjZXNzLU5ldHdvcmstSW5mb1wiXS5jZWxsSWRcbiAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICByZXR1cm4gXCJlcnJvci5QQU5JY2VsbGlkLm51bGxcIjtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgIHJldHVybiBcImVycm9yLm5vUEFOSWNlbGxpZC5leGNlcHRpb25cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHguc3Vic3RyaW5nKDAsNSkgPT1cIjQyNTAxXCIpIHtcbiAgICAgICAgIHNlc3Npb24udz1cIjFcIjtcbiAgICAgICAgIHNlc3Npb24uYW5uX25hbWU9XCJtYXhzcGVlY2h0aW1lb3V0LndhdlwiO1xuICAgICAgfSBlbHNlIGlmICh4LnN1YnN0cmluZygwLDUpID09XCI0MjUwM1wiKSB7XG4gICAgICAgICBzZXNzaW9uLnc9XCIyXCI7XG4gICAgICAgICBzZXNzaW9uLmFubl9uYW1lPVwiaGVscC53YXZcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICBzZXNzaW9uLnc9XCIzXCI7XG4gICAgICAgICBzZXNzaW9uLmFubl9uYW1lPVwiZXJyb3Iud2F2XCI7XG4gICAgICB9XG4gICAgICBzZXNzaW9uLmFubl9uYW1lPVwiZmlsZTovLy9hcHBsL3dhdi9cIiArIHNlc3Npb24uYW5uX25hbWU7XG4gICAgICByZXR1cm4gc2Vzc2lvbi5hbm5fbmFtZTtcbiAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGxvZy5kZWJ1ZyhcImV4dHJhY3RBbmRDb21wYXJlLkxvZzoge31cIiwgZSk7XG4gICAgICByZXR1cm4gXCJlcnJvclwiO1xuICAgfVxufVxuIl19