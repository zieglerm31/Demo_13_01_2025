"use strict";
;
function normalization_1(session, event, localParams) {
    var log = session.log;
    try {
        var fromURI = void 0;
        session.s_initialSIP_lib = event;
        fromURI = event.SIP.From.address.uri.user;
        log.debug("Log From-1: {}", fromURI);
        session.s_normalizedNumber = fromURI.substring(3, 11);
        return "success";
    }
    catch (e) {
        log.debug("Log: {}", e);
        return "error";
    }
}
function createXML(session, event, localParams) {
    var x;
    session.s_xml1 = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><sms><user><username>SendSMSwhileOff</username><password>Aa87!6179</password></user><source>019</source><destinations><phone>";
    session.s_xml2 = "</phone></destinations><message>test</message><response>0</response></sms>";
    session.s_xml = session.xml1 + session.normalizedNumber + session.xml2;
    return "success";
}
function extractAndCompare(session, event, localParams) {
    var log = session.log;
    try {
        session["mrf"] = "";
        session["mrf"]["playannouncement"] = "annoTest";
        session["mrf"]["action"] = "playannouncement";
        session["mrf"]["earlydialog"] = true;
        var x = void 0;
        try {
            if (session.s_initialSIP.SIP["P-Access-Network-Info"].cellId != null)
                x = session.s_initialSIP.SIP["P-Access-Network-Info"].cellId;
            else
                return "error.PANIcellid.null";
        }
        catch (e) {
            return "error.noPANIcellid.exception";
        }
        if (x.substring(0, 5) == "42501") {
            session.w = "1";
            session.ann_name = "P3001";
        }
        else if (x.substring(0, 5) == "42503") {
            session.w = "2";
            session.ann_name = "P3002";
        }
        else {
            session.w = "3";
        }
        return session.w;
    }
    catch (e) {
        log.debug("extractAndCompare.Log: {}", e);
        return "error";
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibW9kdWxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxDQUFDO0FBQUEsU0FBUyxlQUFlLENBQUMsT0FBYSxFQUFFLEtBQVcsRUFBRSxXQUFnQjtJQUNuRSxJQUFJLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0lBRXRCLElBQUk7UUFDRCxJQUFJLE9BQU8sU0FBUyxDQUFDO1FBQ3JCLE9BQU8sQ0FBQyxnQkFBZ0IsR0FBRyxLQUFLLENBQUM7UUFDakMsT0FBTyxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO1FBQzFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsZ0JBQWdCLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDckMsT0FBTyxDQUFDLGtCQUFrQixHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRXRELE9BQU8sU0FBUyxDQUFDO0tBRW5CO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFFVCxHQUFHLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztRQUN4QixPQUFPLE9BQU8sQ0FBQztLQUNqQjtBQUNKLENBQUM7QUFHRCxTQUFTLFNBQVMsQ0FBQyxPQUFhLEVBQUUsS0FBVyxFQUFFLFdBQWdCO0lBRTVELElBQUksQ0FBVSxDQUFDO0lBQ2YsT0FBTyxDQUFDLE1BQU0sR0FBRSx5S0FBeUssQ0FBQztJQUUxTCxPQUFPLENBQUMsTUFBTSxHQUFFLDRFQUE0RSxDQUFDO0lBRTdGLE9BQU8sQ0FBQyxLQUFLLEdBQUUsT0FBTyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQztJQUV0RSxPQUFPLFNBQVMsQ0FBQztBQUVwQixDQUFDO0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxPQUFhLEVBQUUsS0FBVyxFQUFFLFdBQWdCO0lBQ3BFLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUM7SUFFdEIsSUFBSTtRQUVELE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBQyxFQUFFLENBQUM7UUFDbEIsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLGtCQUFrQixDQUFDLEdBQUcsVUFBVSxDQUFDO1FBQ2hELE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsR0FBRyxrQkFBa0IsQ0FBQztRQUM5QyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsYUFBYSxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBR3JDLElBQUksQ0FBQyxTQUFTLENBQUM7UUFDZixJQUFJO1lBQ0QsSUFBSyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLE1BQU0sSUFBSSxJQUFJO2dCQUNsRSxDQUFDLEdBQUUsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxNQUFNLENBQUE7O2dCQUUzRCxPQUFPLHVCQUF1QixDQUFDO1NBQ3BDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVCxPQUFPLDhCQUE4QixDQUFDO1NBQ3hDO1FBRUQsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsSUFBRyxPQUFPLEVBQzlCO1lBQ0csT0FBTyxDQUFDLENBQUMsR0FBQyxHQUFHLENBQUM7WUFDZCxPQUFPLENBQUMsUUFBUSxHQUFDLE9BQU8sQ0FBQztTQUMzQjthQUNJLElBQUksQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLElBQUcsT0FBTyxFQUNuQztZQUNHLE9BQU8sQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDO1lBQ2QsT0FBTyxDQUFDLFFBQVEsR0FBQyxPQUFPLENBQUM7U0FDM0I7YUFDRztZQUNELE9BQU8sQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDO1NBQ2hCO1FBQ0QsT0FBTyxPQUFPLENBQUMsQ0FBQyxDQUFDO0tBQ25CO0lBQUMsT0FBTyxDQUFDLEVBQUU7UUFFVCxHQUFHLENBQUMsS0FBSyxDQUFDLDJCQUEyQixFQUFFLENBQUMsQ0FBQyxDQUFDO1FBQzFDLE9BQU8sT0FBTyxDQUFDO0tBQ2pCO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8vTUFJTkJMT0NLXG47ZnVuY3Rpb24gbm9ybWFsaXphdGlvbl8xKHNlc3Npb24gOiBhbnksIGV2ZW50IDogYW55LCBsb2NhbFBhcmFtczogYW55ICl7XG4gICBsZXQgbG9nID0gc2Vzc2lvbi5sb2c7XG5cbiAgIHRyeSB7XG4gICAgICBsZXQgZnJvbVVSSSA6IHN0cmluZztcbiAgICAgIHNlc3Npb24uc19pbml0aWFsU0lQX2xpYiA9IGV2ZW50O1xuICAgICAgZnJvbVVSSSA9IGV2ZW50LlNJUC5Gcm9tLmFkZHJlc3MudXJpLnVzZXI7ICAvLzk3MjUwNzAwMDExOFxuICAgICAgbG9nLmRlYnVnKFwiTG9nIEZyb20tMToge31cIiwgZnJvbVVSSSk7XG4gICAgICBzZXNzaW9uLnNfbm9ybWFsaXplZE51bWJlciA9IGZyb21VUkkuc3Vic3RyaW5nKDMsIDExKTtcblxuICAgICAgcmV0dXJuIFwic3VjY2Vzc1wiO1xuXG4gICB9IGNhdGNoIChlKSB7XG5cbiAgICAgIGxvZy5kZWJ1ZyhcIkxvZzoge31cIiwgZSk7XG4gICAgICByZXR1cm4gXCJlcnJvclwiO1xuICAgfVxufVxuXG5cbmZ1bmN0aW9uIGNyZWF0ZVhNTChzZXNzaW9uIDogYW55LCBldmVudCA6IGFueSwgbG9jYWxQYXJhbXM6IGFueSApe1xuXG4gICBsZXQgeCA6IHN0cmluZztcbiAgIHNlc3Npb24uc194bWwxPSBcIjw/eG1sIHZlcnNpb249XFxcIjEuMFxcXCIgZW5jb2Rpbmc9XFxcIlVURi04XFxcIj8+PHNtcz48dXNlcj48dXNlcm5hbWU+U2VuZFNNU3doaWxlT2ZmPC91c2VybmFtZT48cGFzc3dvcmQ+QWE4NyE2MTc5PC9wYXNzd29yZD48L3VzZXI+PHNvdXJjZT4wMTk8L3NvdXJjZT48ZGVzdGluYXRpb25zPjxwaG9uZT5cIjtcblxuICAgc2Vzc2lvbi5zX3htbDI9IFwiPC9waG9uZT48L2Rlc3RpbmF0aW9ucz48bWVzc2FnZT50ZXN0PC9tZXNzYWdlPjxyZXNwb25zZT4wPC9yZXNwb25zZT48L3Ntcz5cIjtcblxuICAgc2Vzc2lvbi5zX3htbD0gc2Vzc2lvbi54bWwxICsgc2Vzc2lvbi5ub3JtYWxpemVkTnVtYmVyICsgc2Vzc2lvbi54bWwyO1xuXG4gICByZXR1cm4gXCJzdWNjZXNzXCI7XG5cbn1cblxuZnVuY3Rpb24gZXh0cmFjdEFuZENvbXBhcmUoc2Vzc2lvbiA6IGFueSwgZXZlbnQgOiBhbnksIGxvY2FsUGFyYW1zOiBhbnkgKXtcbiAgIGxldCBsb2cgPSBzZXNzaW9uLmxvZztcblxuICAgdHJ5IHtcbiAgICAgIC8vc2V0IGlucHV0IHBhcmFtZXRlcnNcbiAgICAgIHNlc3Npb25bXCJtcmZcIl09XCJcIjtcbiAgICAgIHNlc3Npb25bXCJtcmZcIl1bXCJwbGF5YW5ub3VuY2VtZW50XCJdID0gXCJhbm5vVGVzdFwiO1xuICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImFjdGlvblwiXSA9IFwicGxheWFubm91bmNlbWVudFwiO1xuICAgICAgc2Vzc2lvbltcIm1yZlwiXVtcImVhcmx5ZGlhbG9nXCJdID0gdHJ1ZTtcblxuXG4gICAgICBsZXQgeCA6IHN0cmluZztcbiAgICAgIHRyeSB7XG4gICAgICAgICBpZiAoIHNlc3Npb24uc19pbml0aWFsU0lQLlNJUFtcIlAtQWNjZXNzLU5ldHdvcmstSW5mb1wiXS5jZWxsSWQgIT0gbnVsbClcbiAgICAgICAgICAgIHg9IHNlc3Npb24uc19pbml0aWFsU0lQLlNJUFtcIlAtQWNjZXNzLU5ldHdvcmstSW5mb1wiXS5jZWxsSWRcbiAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICByZXR1cm4gXCJlcnJvci5QQU5JY2VsbGlkLm51bGxcIjtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgIHJldHVybiBcImVycm9yLm5vUEFOSWNlbGxpZC5leGNlcHRpb25cIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHguc3Vic3RyaW5nKDAsNSkgPT1cIjQyNTAxXCIpXG4gICAgICB7XG4gICAgICAgICBzZXNzaW9uLnc9XCIxXCI7XG4gICAgICAgICBzZXNzaW9uLmFubl9uYW1lPVwiUDMwMDFcIjtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHguc3Vic3RyaW5nKDAsNSkgPT1cIjQyNTAzXCIpXG4gICAgICB7XG4gICAgICAgICBzZXNzaW9uLnc9XCIyXCI7XG4gICAgICAgICBzZXNzaW9uLmFubl9uYW1lPVwiUDMwMDJcIjtcbiAgICAgIH1cbiAgICAgIGVsc2V7XG4gICAgICAgICBzZXNzaW9uLnc9XCIzXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvbi53O1xuICAgfSBjYXRjaCAoZSkge1xuXG4gICAgICBsb2cuZGVidWcoXCJleHRyYWN0QW5kQ29tcGFyZS5Mb2c6IHt9XCIsIGUpO1xuICAgICAgcmV0dXJuIFwiZXJyb3JcIjtcbiAgIH1cbn1cbiJdfQ==